# oastools

_Note: this is still a work in progress and all code is being generated by Claude Code using claude-4-5-sonnet_

OpenAPI Specification (OAS) tools for validation, parsing, and joining.

## Features

- **Validate** - Validate OpenAPI specification files for correctness
- **Parse** - Parse and analyze OpenAPI specifications
- **Join** - Join multiple OpenAPI Specification documents (planned)

## Supported OpenAPI Specification Versions

This tool supports all official OpenAPI Specification releases:

| Version | Specification |
|---------|---------------|
| **2.0** | [OAS 2.0 Specification](https://spec.openapis.org/oas/v2.0.html) |
| **3.0.0** | [OAS 3.0.0 Specification](https://spec.openapis.org/oas/v3.0.0.html) |
| **3.0.1** | [OAS 3.0.1 Specification](https://spec.openapis.org/oas/v3.0.1.html) |
| **3.0.2** | [OAS 3.0.2 Specification](https://spec.openapis.org/oas/v3.0.2.html) |
| **3.0.3** | [OAS 3.0.3 Specification](https://spec.openapis.org/oas/v3.0.3.html) |
| **3.0.4** | [OAS 3.0.4 Specification](https://spec.openapis.org/oas/v3.0.4.html) |
| **3.1.0** | [OAS 3.1.0 Specification](https://spec.openapis.org/oas/v3.1.0.html) |
| **3.1.1** | [OAS 3.1.1 Specification](https://spec.openapis.org/oas/v3.1.1.html) |
| **3.1.2** | [OAS 3.1.2 Specification](https://spec.openapis.org/oas/v3.1.2.html) |
| **3.2.0** | [OAS 3.2.0 Specification](https://spec.openapis.org/oas/v3.2.0.html) |

> **Note:** Release candidate versions (e.g., `3.0.0-rc0`, `3.1.0-rc1`) are detected but not _officially_ supported.

## Installation

### From Source

```bash
git clone https://github.com/erraggy/oastools.git
cd oastools
make install
```

### Using Go

```bash
go install github.com/erraggy/oastools/cmd/oastools@latest
```

## Usage

```bash
# Show help
oastools help

# Validate an OpenAPI spec
oastools validate openapi.yaml

# Parse an OpenAPI spec
oastools parse openapi.yaml

# Join multiple OpenAPI specs
oastools join base.yaml extensions.yaml
```

## Limitations

### External References

- **HTTP(S) References Not Supported**: The parser currently only supports local file references for external `$ref` values. References starting with `http://` or `https://` are not yet supported.
- **Security**: External file references are restricted to the base directory and its subdirectories to prevent path traversal attacks.

## Development

### Prerequisites

- Go 1.24 or higher
- make (optional, but recommended)

### Building

```bash
# Build the binary
make build

# Run tests
make test

# Run linter
make lint

# Format code
make fmt
```

### Project Structure

```
.
├── cmd/oastools/       # CLI entry point
├── internal/           # Private application code
│   ├── validator/      # OpenAPI validation logic
│   ├── parser/         # OpenAPI parsing logic
│   └── joiner/         # OpenAPI joining logic
├── pkg/                # Public library code
└── testdata/           # Test fixtures and sample specs
```

## License

MIT
