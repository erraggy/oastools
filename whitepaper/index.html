
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="High-performance Go library, CLI, and MCP server for working with OpenAPI Specifications (OAS 2.0, 3.0, 3.1, 3.2).">
      
      
      
        <link rel="canonical" href="https://erraggy.github.io/oastools/whitepaper/">
      
      
        <link rel="prev" href="../blog/building-the-mcp-server/">
      
      
        <link rel="next" href="../CONTRIBUTORS/">
      
      
        
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.3">
    
    
      
        <title>üìÑ White Paper - oastools</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.484c7ddc.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="teal" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#oastools-a-comprehensive-openapi-toolkit-for-go" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="oastools" class="md-header__button md-logo" aria-label="oastools" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            oastools
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              üìÑ White Paper
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="teal" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="teal" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/erraggy/oastools" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    erraggy/oastools
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="oastools" class="md-nav__button md-logo" aria-label="oastools" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    oastools
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/erraggy/oastools" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    erraggy/oastools
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Home
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="https://oastools.robnrob.com" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    üåê Try Online
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Get Started
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Get Started
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../developer-guide/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Go Library
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../cli-reference/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    CLI / CI/CD
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../mcp-server/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    MCP Server
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../claude-code-plugin/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Claude Code Plugin
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Guides
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Guides
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../why-oastools/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Why oastools?
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../breaking-changes/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Detecting API Breaking Changes
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../generator_beyond_boilerplate/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Generator Features
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../corpus-analysis/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Corpus Analysis
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../mcp-ux-findings/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    MCP UX Findings
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../benchmarks/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Benchmarks
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Examples
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    Examples
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../examples/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_2" >
        
          
          <label class="md-nav__link" for="__nav_5_2" id="__nav_5_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Getting Started
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Getting Started
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../examples/quickstart/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Quickstart
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../examples/validation-pipeline/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Validation Pipeline
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_3" >
        
          
          <label class="md-nav__link" for="__nav_5_3" id="__nav_5_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Workflows
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Workflows
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../examples/workflows/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../examples/workflows/validate-and-fix/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Validate and Fix
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../examples/workflows/version-conversion/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Version Conversion
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../examples/workflows/version-migration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Version Migration
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../examples/workflows/multi-api-merge/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Multi-API Merge
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../examples/workflows/collision-resolution/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Collision Resolution
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../examples/workflows/schema-deduplication/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Schema Deduplication
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../examples/workflows/schema-renaming/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Schema Renaming
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../examples/workflows/fixer-showcase/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Fixer Showcase
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../examples/workflows/pipeline-compositions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Pipeline Compositions
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../examples/workflows/breaking-change-detection/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Breaking Change Detection
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../examples/workflows/overlay-transformations/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Overlay Transformations
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../examples/workflows/http-validation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    HTTP Validation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_4" >
        
          
          <label class="md-nav__link" for="__nav_5_4" id="__nav_5_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Programmatic API
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Programmatic API
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../examples/programmatic-api/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../examples/programmatic-api/builder/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Builder
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_5" >
        
          
          <label class="md-nav__link" for="__nav_5_5" id="__nav_5_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Walker
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    Walker
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../examples/walker/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../examples/walker/api-statistics/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    API Statistics
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../examples/walker/security-audit/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Security Audit
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../examples/walker/vendor-extensions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Vendor Extensions
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../examples/walker/public-api-filter/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Public API Filter
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../examples/walker/api-documentation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    API Documentation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../examples/walker/reference-collector/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Reference Collector
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_6" >
        
          
          <label class="md-nav__link" for="__nav_5_6" id="__nav_5_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Code Generation
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    Code Generation
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../examples/petstore/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../examples/petstore/stdlib/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Standard Library
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../examples/petstore/chi/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chi Router
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Package Deep Dives
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    Package Deep Dives
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../packages/parser/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Parser
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../packages/validator/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Validator
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../packages/fixer/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Fixer
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../packages/converter/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Converter
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../packages/overlay/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Overlay
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../packages/joiner/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Joiner
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../packages/differ/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Differ
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../packages/httpvalidator/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    HTTP Validator
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../packages/generator/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Generator
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../packages/builder/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Builder
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../packages/walker/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Walker
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Blog
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            
  
    Blog
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../blog/building-the-mcp-server/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Building the MCP Server
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    üìÑ White Paper
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    üìÑ White Paper
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#executive-summary" class="md-nav__link">
    <span class="md-ellipsis">
      
        Executive Summary
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#table-of-contents" class="md-nav__link">
    <span class="md-ellipsis">
      
        Table of Contents
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#1-introduction-and-motivation" class="md-nav__link">
    <span class="md-ellipsis">
      
        1. Introduction and Motivation
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1. Introduction and Motivation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#design-philosophy" class="md-nav__link">
    <span class="md-ellipsis">
      
        Design Philosophy
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#practical-examples" class="md-nav__link">
    <span class="md-ellipsis">
      
        Practical Examples
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-external-specification-compliance" class="md-nav__link">
    <span class="md-ellipsis">
      
        2. External Specification Compliance
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2. External Specification Compliance">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#21-openapi-specification" class="md-nav__link">
    <span class="md-ellipsis">
      
        2.1 OpenAPI Specification
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#22-openapi-overlay-specification" class="md-nav__link">
    <span class="md-ellipsis">
      
        2.2 OpenAPI Overlay Specification
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#23-go-language-specification" class="md-nav__link">
    <span class="md-ellipsis">
      
        2.3 Go Language Specification
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#24-related-rfcs" class="md-nav__link">
    <span class="md-ellipsis">
      
        2.4 Related RFCs
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-package-architecture" class="md-nav__link">
    <span class="md-ellipsis">
      
        3. Package Architecture
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3. Package Architecture">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#package-relationships" class="md-nav__link">
    <span class="md-ellipsis">
      
        Package Relationships
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#format-preservation" class="md-nav__link">
    <span class="md-ellipsis">
      
        Format Preservation
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#package-chaining" class="md-nav__link">
    <span class="md-ellipsis">
      
        Package Chaining
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-parser-package" class="md-nav__link">
    <span class="md-ellipsis">
      
        4. Parser Package
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4. Parser Package">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#41-core-capabilities" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.1 Core Capabilities
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#42-reference-resolution" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.2 Reference Resolution
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#43-resource-limits" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.3 Resource Limits
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#44-json-fast-path-v1470" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.4 ‚ö° JSON Fast-Path (v1.47.0+)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#45-api-usage" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.5 API Usage
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#46-parseresult-structure" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.6 ParseResult Structure
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#47-type-safe-cloning" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.7 Type-Safe Cloning
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#48-streaming-extension-extraction-v1490" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.8 Streaming Extension Extraction (v1.49.0+)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#49-direct-map-to-struct-decoding-v1510" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.9 Direct Map-to-Struct Decoding (v1.51.0+)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#410-documentaccessor-interface" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.10 DocumentAccessor Interface
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#structural-comparison" class="md-nav__link">
    <span class="md-ellipsis">
      
        Structural Comparison
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deterministic-output" class="md-nav__link">
    <span class="md-ellipsis">
      
        Deterministic Output
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5-validator-package" class="md-nav__link">
    <span class="md-ellipsis">
      
        5. Validator Package
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5. Validator Package">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#51-validation-modes" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.1 Validation Modes
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#52-api-usage" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.2 API Usage
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#53-validation-result" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.3 Validation Result
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#54-source-map-integration" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.4 Source Map Integration
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#55-cli-integration" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.5 CLI Integration
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#56-operation-context-v1460" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.6 Operation Context (v1.46.0+)
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#6-fixer-package" class="md-nav__link">
    <span class="md-ellipsis">
      
        6. Fixer Package
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="6. Fixer Package">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#61-supported-fix-types" class="md-nav__link">
    <span class="md-ellipsis">
      
        6.1 Supported Fix Types
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#62-default-behavior" class="md-nav__link">
    <span class="md-ellipsis">
      
        6.2 Default Behavior
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#63-type-inference" class="md-nav__link">
    <span class="md-ellipsis">
      
        6.3 Type Inference
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#64-generic-naming-strategies" class="md-nav__link">
    <span class="md-ellipsis">
      
        6.4 Generic Naming Strategies
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#65-api-usage" class="md-nav__link">
    <span class="md-ellipsis">
      
        6.5 API Usage
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#66-duplicate-operationid-detection" class="md-nav__link">
    <span class="md-ellipsis">
      
        6.6 Duplicate OperationId Detection
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#67-csv-enum-expansion" class="md-nav__link">
    <span class="md-ellipsis">
      
        6.7 CSV Enum Expansion
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#68-mutable-input-mode-v1480" class="md-nav__link">
    <span class="md-ellipsis">
      
        6.8 ‚ö†Ô∏è Mutable Input Mode (v1.48.0+)
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#7-converter-package" class="md-nav__link">
    <span class="md-ellipsis">
      
        7. Converter Package
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="7. Converter Package">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#71-supported-conversions" class="md-nav__link">
    <span class="md-ellipsis">
      
        7.1 Supported Conversions
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#72-key-transformations" class="md-nav__link">
    <span class="md-ellipsis">
      
        7.2 Key Transformations
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#73-issue-tracking" class="md-nav__link">
    <span class="md-ellipsis">
      
        7.3 Issue Tracking
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#74-api-usage" class="md-nav__link">
    <span class="md-ellipsis">
      
        7.4 API Usage
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#8-joiner-package" class="md-nav__link">
    <span class="md-ellipsis">
      
        8. Joiner Package
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="8. Joiner Package">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#81-collision-strategies" class="md-nav__link">
    <span class="md-ellipsis">
      
        8.1 Collision Strategies
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#82-semantic-deduplication" class="md-nav__link">
    <span class="md-ellipsis">
      
        8.2 Semantic Deduplication
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#83-reference-rewriting" class="md-nav__link">
    <span class="md-ellipsis">
      
        8.3 Reference Rewriting
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#84-array-merging" class="md-nav__link">
    <span class="md-ellipsis">
      
        8.4 Array Merging
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#85-overlay-integration" class="md-nav__link">
    <span class="md-ellipsis">
      
        8.5 Overlay Integration
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#86-operation-aware-renaming" class="md-nav__link">
    <span class="md-ellipsis">
      
        8.6 Operation-Aware Renaming
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#87-api-usage" class="md-nav__link">
    <span class="md-ellipsis">
      
        8.7 API Usage
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#88-source-name-warnings" class="md-nav__link">
    <span class="md-ellipsis">
      
        8.8 Source Name Warnings
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#89-collision-handler-callbacks-v1470" class="md-nav__link">
    <span class="md-ellipsis">
      
        8.9 üîß Collision Handler Callbacks (v1.47.0+)
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#9-overlay-package" class="md-nav__link">
    <span class="md-ellipsis">
      
        9. Overlay Package
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="9. Overlay Package">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#91-overlay-structure" class="md-nav__link">
    <span class="md-ellipsis">
      
        9.1 Overlay Structure
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#92-action-types" class="md-nav__link">
    <span class="md-ellipsis">
      
        9.2 Action Types
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#93-jsonpath-support" class="md-nav__link">
    <span class="md-ellipsis">
      
        9.3 JSONPath Support
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#94-dry-run-mode" class="md-nav__link">
    <span class="md-ellipsis">
      
        9.4 Dry-Run Mode
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#95-strict-targets" class="md-nav__link">
    <span class="md-ellipsis">
      
        9.5 Strict Targets
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#10-differ-package" class="md-nav__link">
    <span class="md-ellipsis">
      
        10. Differ Package
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="10. Differ Package">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#101-diff-modes" class="md-nav__link">
    <span class="md-ellipsis">
      
        10.1 Diff Modes
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#102-change-categories" class="md-nav__link">
    <span class="md-ellipsis">
      
        10.2 Change Categories
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#103-severity-levels" class="md-nav__link">
    <span class="md-ellipsis">
      
        10.3 Severity Levels
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#104-api-usage" class="md-nav__link">
    <span class="md-ellipsis">
      
        10.4 API Usage
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#105-pre-parsed-comparison" class="md-nav__link">
    <span class="md-ellipsis">
      
        10.5 Pre-Parsed Comparison
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#11-generator-package" class="md-nav__link">
    <span class="md-ellipsis">
      
        11. Generator Package
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="11. Generator Package">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#111-generation-modes" class="md-nav__link">
    <span class="md-ellipsis">
      
        11.1 Generation Modes
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#112-type-mapping" class="md-nav__link">
    <span class="md-ellipsis">
      
        11.2 Type Mapping
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#113-security-generation" class="md-nav__link">
    <span class="md-ellipsis">
      
        11.3 Security Generation
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#114-credential-management" class="md-nav__link">
    <span class="md-ellipsis">
      
        11.4 Credential Management
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#115-server-extensions" class="md-nav__link">
    <span class="md-ellipsis">
      
        11.5 Server Extensions
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#116-file-splitting" class="md-nav__link">
    <span class="md-ellipsis">
      
        11.6 File Splitting
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#117-api-usage" class="md-nav__link">
    <span class="md-ellipsis">
      
        11.7 API Usage
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#12-builder-package" class="md-nav__link">
    <span class="md-ellipsis">
      
        12. Builder Package
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="12. Builder Package">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#121-document-construction" class="md-nav__link">
    <span class="md-ellipsis">
      
        12.1 Document Construction
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#122-reflection-based-schema-generation" class="md-nav__link">
    <span class="md-ellipsis">
      
        12.2 Reflection-Based Schema Generation
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#123-type-mappings" class="md-nav__link">
    <span class="md-ellipsis">
      
        12.3 Type Mappings
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#124-schema-naming-strategies" class="md-nav__link">
    <span class="md-ellipsis">
      
        12.4 Schema Naming Strategies
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#125-server-builder" class="md-nav__link">
    <span class="md-ellipsis">
      
        12.5 Server Builder
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#126-semantic-deduplication" class="md-nav__link">
    <span class="md-ellipsis">
      
        12.6 Semantic Deduplication
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#13-http-validator-package" class="md-nav__link">
    <span class="md-ellipsis">
      
        13. HTTP Validator Package
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="13. HTTP Validator Package">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#131-core-capabilities" class="md-nav__link">
    <span class="md-ellipsis">
      
        13.1 Core Capabilities
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#132-parameter-deserialization" class="md-nav__link">
    <span class="md-ellipsis">
      
        13.2 Parameter Deserialization
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#133-api-usage" class="md-nav__link">
    <span class="md-ellipsis">
      
        13.3 API Usage
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#134-middleware-integration" class="md-nav__link">
    <span class="md-ellipsis">
      
        13.4 Middleware Integration
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#135-strict-mode" class="md-nav__link">
    <span class="md-ellipsis">
      
        13.5 Strict Mode
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#14-walker-package" class="md-nav__link">
    <span class="md-ellipsis">
      
        14. Walker Package
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="14. Walker Package">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#141-core-concepts" class="md-nav__link">
    <span class="md-ellipsis">
      
        14.1 Core Concepts
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#142-handler-types" class="md-nav__link">
    <span class="md-ellipsis">
      
        14.2 Handler Types
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#143-api-usage" class="md-nav__link">
    <span class="md-ellipsis">
      
        14.3 API Usage
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#144-cycle-detection" class="md-nav__link">
    <span class="md-ellipsis">
      
        14.4 Cycle Detection
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#145-use-cases" class="md-nav__link">
    <span class="md-ellipsis">
      
        14.5 Use Cases
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#146-recent-enhancements-v138-v146" class="md-nav__link">
    <span class="md-ellipsis">
      
        14.6 Recent Enhancements (v1.38-v1.46)
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#15-mcp-server" class="md-nav__link">
    <span class="md-ellipsis">
      
        15. MCP Server
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="15. MCP Server">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#151-tool-categories" class="md-nav__link">
    <span class="md-ellipsis">
      
        15.1 Tool Categories
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#152-key-capabilities" class="md-nav__link">
    <span class="md-ellipsis">
      
        15.2 Key Capabilities
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#153-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      
        15.3 Configuration
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#154-security" class="md-nav__link">
    <span class="md-ellipsis">
      
        15.4 Security
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#16-error-handling-with-oaserrors" class="md-nav__link">
    <span class="md-ellipsis">
      
        16. Error Handling with oaserrors
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="16. Error Handling with oaserrors">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#161-error-types" class="md-nav__link">
    <span class="md-ellipsis">
      
        16.1 Error Types
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#162-specialized-sentinels" class="md-nav__link">
    <span class="md-ellipsis">
      
        16.2 Specialized Sentinels
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#163-usage-with-errorsis" class="md-nav__link">
    <span class="md-ellipsis">
      
        16.3 Usage with errors.Is
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#164-usage-with-errorsas" class="md-nav__link">
    <span class="md-ellipsis">
      
        16.4 Usage with errors.As
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#165-error-chaining" class="md-nav__link">
    <span class="md-ellipsis">
      
        16.5 Error Chaining
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#166-structured-error-locality" class="md-nav__link">
    <span class="md-ellipsis">
      
        16.6 Structured Error Locality
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#17-performance-analysis" class="md-nav__link">
    <span class="md-ellipsis">
      
        17. Performance Analysis
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="17. Performance Analysis">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#171-pre-parsed-workflow-optimization" class="md-nav__link">
    <span class="md-ellipsis">
      
        17.1 Pre-Parsed Workflow Optimization
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#172-json-marshaling-optimization" class="md-nav__link">
    <span class="md-ellipsis">
      
        17.2 JSON Marshaling Optimization
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#173-deepcopy-optimization" class="md-nav__link">
    <span class="md-ellipsis">
      
        17.3 DeepCopy Optimization
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#174-http-validator-performance" class="md-nav__link">
    <span class="md-ellipsis">
      
        17.4 HTTP Validator Performance
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#175-benchmark-reliability" class="md-nav__link">
    <span class="md-ellipsis">
      
        17.5 Benchmark Reliability
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#176-memory-optimization-syncpool-v1450" class="md-nav__link">
    <span class="md-ellipsis">
      
        17.6 Memory Optimization: sync.Pool (v1.45.0)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#177-json-fast-path-v1470" class="md-nav__link">
    <span class="md-ellipsis">
      
        17.7 ‚ö° JSON Fast-Path (v1.47.0)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#178-pathbuilder-optimization-v1480-v1481" class="md-nav__link">
    <span class="md-ellipsis">
      
        17.8 üöÄ PathBuilder Optimization (v1.48.0-v1.48.1)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#179-mutable-input-mode-v1480" class="md-nav__link">
    <span class="md-ellipsis">
      
        17.9 ‚ö†Ô∏è Mutable Input Mode (v1.48.0)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#1710-streaming-extension-extraction-v1490" class="md-nav__link">
    <span class="md-ellipsis">
      
        17.10 üîç Streaming Extension Extraction (v1.49.0)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#1711-direct-map-to-struct-decoding-v1510" class="md-nav__link">
    <span class="md-ellipsis">
      
        17.11 üß† Direct Map-to-Struct Decoding (v1.51.0)
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#18-real-world-validation" class="md-nav__link">
    <span class="md-ellipsis">
      
        18. Real-World Validation
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="18. Real-World Validation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#181-test-corpus" class="md-nav__link">
    <span class="md-ellipsis">
      
        18.1 Test Corpus
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#182-corpus-access" class="md-nav__link">
    <span class="md-ellipsis">
      
        18.2 Corpus Access
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#183-testing-coverage" class="md-nav__link">
    <span class="md-ellipsis">
      
        18.3 Testing Coverage
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#19-cli-reference" class="md-nav__link">
    <span class="md-ellipsis">
      
        19. CLI Reference
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="19. CLI Reference">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#191-installation" class="md-nav__link">
    <span class="md-ellipsis">
      
        19.1 Installation
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#192-commands" class="md-nav__link">
    <span class="md-ellipsis">
      
        19.2 Commands
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#193-global-flags" class="md-nav__link">
    <span class="md-ellipsis">
      
        19.3 Global Flags
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#20-api-design-patterns" class="md-nav__link">
    <span class="md-ellipsis">
      
        20. API Design Patterns
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="20. API Design Patterns">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#201-functional-options-pattern" class="md-nav__link">
    <span class="md-ellipsis">
      
        20.1 Functional Options Pattern
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#202-struct-based-pattern" class="md-nav__link">
    <span class="md-ellipsis">
      
        20.2 Struct-Based Pattern
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#203-pre-parsed-pattern" class="md-nav__link">
    <span class="md-ellipsis">
      
        20.3 Pre-Parsed Pattern
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#204-error-handling-pattern" class="md-nav__link">
    <span class="md-ellipsis">
      
        20.4 Error Handling Pattern
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#21-security-considerations" class="md-nav__link">
    <span class="md-ellipsis">
      
        21. Security Considerations
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="21. Security Considerations">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#211-path-traversal-protection" class="md-nav__link">
    <span class="md-ellipsis">
      
        21.1 Path Traversal Protection
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#212-http-reference-control" class="md-nav__link">
    <span class="md-ellipsis">
      
        21.2 HTTP Reference Control
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#213-resource-limits" class="md-nav__link">
    <span class="md-ellipsis">
      
        21.3 Resource Limits
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#214-pkce-for-oauth2" class="md-nav__link">
    <span class="md-ellipsis">
      
        21.4 PKCE for OAuth2
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#215-credential-management" class="md-nav__link">
    <span class="md-ellipsis">
      
        21.5 Credential Management
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#216-security-hardening-v1520" class="md-nav__link">
    <span class="md-ellipsis">
      
        21.6 Security Hardening (v1.52.0)
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#22-conclusion" class="md-nav__link">
    <span class="md-ellipsis">
      
        22. Conclusion
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#23-references" class="md-nav__link">
    <span class="md-ellipsis">
      
        23. References
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="23. References">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#openapi-initiative-specifications" class="md-nav__link">
    <span class="md-ellipsis">
      
        OpenAPI Initiative Specifications
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#json-schema" class="md-nav__link">
    <span class="md-ellipsis">
      
        JSON Schema
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ietf-rfcs" class="md-nav__link">
    <span class="md-ellipsis">
      
        IETF RFCs
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#go-language" class="md-nav__link">
    <span class="md-ellipsis">
      
        Go Language
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#oastools-documentation" class="md-nav__link">
    <span class="md-ellipsis">
      
        oastools Documentation
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#package-documentation" class="md-nav__link">
    <span class="md-ellipsis">
      
        Package Documentation
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#model-context-protocol" class="md-nav__link">
    <span class="md-ellipsis">
      
        Model Context Protocol
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_9" >
        
          
          <label class="md-nav__link" for="__nav_9" id="__nav_9_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Project Info
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9">
            <span class="md-nav__icon md-icon"></span>
            
  
    Project Info
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../CONTRIBUTORS/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Contributing
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../LICENSE/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    License
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="https://pkg.go.dev/github.com/erraggy/oastools" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    API Documentation
  

    
  </span>
  
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#executive-summary" class="md-nav__link">
    <span class="md-ellipsis">
      
        Executive Summary
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#table-of-contents" class="md-nav__link">
    <span class="md-ellipsis">
      
        Table of Contents
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#1-introduction-and-motivation" class="md-nav__link">
    <span class="md-ellipsis">
      
        1. Introduction and Motivation
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1. Introduction and Motivation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#design-philosophy" class="md-nav__link">
    <span class="md-ellipsis">
      
        Design Philosophy
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#practical-examples" class="md-nav__link">
    <span class="md-ellipsis">
      
        Practical Examples
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-external-specification-compliance" class="md-nav__link">
    <span class="md-ellipsis">
      
        2. External Specification Compliance
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2. External Specification Compliance">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#21-openapi-specification" class="md-nav__link">
    <span class="md-ellipsis">
      
        2.1 OpenAPI Specification
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#22-openapi-overlay-specification" class="md-nav__link">
    <span class="md-ellipsis">
      
        2.2 OpenAPI Overlay Specification
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#23-go-language-specification" class="md-nav__link">
    <span class="md-ellipsis">
      
        2.3 Go Language Specification
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#24-related-rfcs" class="md-nav__link">
    <span class="md-ellipsis">
      
        2.4 Related RFCs
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-package-architecture" class="md-nav__link">
    <span class="md-ellipsis">
      
        3. Package Architecture
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3. Package Architecture">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#package-relationships" class="md-nav__link">
    <span class="md-ellipsis">
      
        Package Relationships
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#format-preservation" class="md-nav__link">
    <span class="md-ellipsis">
      
        Format Preservation
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#package-chaining" class="md-nav__link">
    <span class="md-ellipsis">
      
        Package Chaining
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-parser-package" class="md-nav__link">
    <span class="md-ellipsis">
      
        4. Parser Package
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4. Parser Package">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#41-core-capabilities" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.1 Core Capabilities
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#42-reference-resolution" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.2 Reference Resolution
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#43-resource-limits" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.3 Resource Limits
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#44-json-fast-path-v1470" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.4 ‚ö° JSON Fast-Path (v1.47.0+)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#45-api-usage" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.5 API Usage
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#46-parseresult-structure" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.6 ParseResult Structure
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#47-type-safe-cloning" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.7 Type-Safe Cloning
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#48-streaming-extension-extraction-v1490" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.8 Streaming Extension Extraction (v1.49.0+)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#49-direct-map-to-struct-decoding-v1510" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.9 Direct Map-to-Struct Decoding (v1.51.0+)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#410-documentaccessor-interface" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.10 DocumentAccessor Interface
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#structural-comparison" class="md-nav__link">
    <span class="md-ellipsis">
      
        Structural Comparison
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deterministic-output" class="md-nav__link">
    <span class="md-ellipsis">
      
        Deterministic Output
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5-validator-package" class="md-nav__link">
    <span class="md-ellipsis">
      
        5. Validator Package
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5. Validator Package">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#51-validation-modes" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.1 Validation Modes
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#52-api-usage" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.2 API Usage
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#53-validation-result" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.3 Validation Result
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#54-source-map-integration" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.4 Source Map Integration
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#55-cli-integration" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.5 CLI Integration
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#56-operation-context-v1460" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.6 Operation Context (v1.46.0+)
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#6-fixer-package" class="md-nav__link">
    <span class="md-ellipsis">
      
        6. Fixer Package
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="6. Fixer Package">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#61-supported-fix-types" class="md-nav__link">
    <span class="md-ellipsis">
      
        6.1 Supported Fix Types
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#62-default-behavior" class="md-nav__link">
    <span class="md-ellipsis">
      
        6.2 Default Behavior
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#63-type-inference" class="md-nav__link">
    <span class="md-ellipsis">
      
        6.3 Type Inference
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#64-generic-naming-strategies" class="md-nav__link">
    <span class="md-ellipsis">
      
        6.4 Generic Naming Strategies
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#65-api-usage" class="md-nav__link">
    <span class="md-ellipsis">
      
        6.5 API Usage
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#66-duplicate-operationid-detection" class="md-nav__link">
    <span class="md-ellipsis">
      
        6.6 Duplicate OperationId Detection
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#67-csv-enum-expansion" class="md-nav__link">
    <span class="md-ellipsis">
      
        6.7 CSV Enum Expansion
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#68-mutable-input-mode-v1480" class="md-nav__link">
    <span class="md-ellipsis">
      
        6.8 ‚ö†Ô∏è Mutable Input Mode (v1.48.0+)
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#7-converter-package" class="md-nav__link">
    <span class="md-ellipsis">
      
        7. Converter Package
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="7. Converter Package">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#71-supported-conversions" class="md-nav__link">
    <span class="md-ellipsis">
      
        7.1 Supported Conversions
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#72-key-transformations" class="md-nav__link">
    <span class="md-ellipsis">
      
        7.2 Key Transformations
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#73-issue-tracking" class="md-nav__link">
    <span class="md-ellipsis">
      
        7.3 Issue Tracking
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#74-api-usage" class="md-nav__link">
    <span class="md-ellipsis">
      
        7.4 API Usage
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#8-joiner-package" class="md-nav__link">
    <span class="md-ellipsis">
      
        8. Joiner Package
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="8. Joiner Package">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#81-collision-strategies" class="md-nav__link">
    <span class="md-ellipsis">
      
        8.1 Collision Strategies
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#82-semantic-deduplication" class="md-nav__link">
    <span class="md-ellipsis">
      
        8.2 Semantic Deduplication
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#83-reference-rewriting" class="md-nav__link">
    <span class="md-ellipsis">
      
        8.3 Reference Rewriting
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#84-array-merging" class="md-nav__link">
    <span class="md-ellipsis">
      
        8.4 Array Merging
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#85-overlay-integration" class="md-nav__link">
    <span class="md-ellipsis">
      
        8.5 Overlay Integration
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#86-operation-aware-renaming" class="md-nav__link">
    <span class="md-ellipsis">
      
        8.6 Operation-Aware Renaming
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#87-api-usage" class="md-nav__link">
    <span class="md-ellipsis">
      
        8.7 API Usage
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#88-source-name-warnings" class="md-nav__link">
    <span class="md-ellipsis">
      
        8.8 Source Name Warnings
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#89-collision-handler-callbacks-v1470" class="md-nav__link">
    <span class="md-ellipsis">
      
        8.9 üîß Collision Handler Callbacks (v1.47.0+)
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#9-overlay-package" class="md-nav__link">
    <span class="md-ellipsis">
      
        9. Overlay Package
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="9. Overlay Package">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#91-overlay-structure" class="md-nav__link">
    <span class="md-ellipsis">
      
        9.1 Overlay Structure
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#92-action-types" class="md-nav__link">
    <span class="md-ellipsis">
      
        9.2 Action Types
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#93-jsonpath-support" class="md-nav__link">
    <span class="md-ellipsis">
      
        9.3 JSONPath Support
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#94-dry-run-mode" class="md-nav__link">
    <span class="md-ellipsis">
      
        9.4 Dry-Run Mode
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#95-strict-targets" class="md-nav__link">
    <span class="md-ellipsis">
      
        9.5 Strict Targets
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#10-differ-package" class="md-nav__link">
    <span class="md-ellipsis">
      
        10. Differ Package
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="10. Differ Package">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#101-diff-modes" class="md-nav__link">
    <span class="md-ellipsis">
      
        10.1 Diff Modes
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#102-change-categories" class="md-nav__link">
    <span class="md-ellipsis">
      
        10.2 Change Categories
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#103-severity-levels" class="md-nav__link">
    <span class="md-ellipsis">
      
        10.3 Severity Levels
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#104-api-usage" class="md-nav__link">
    <span class="md-ellipsis">
      
        10.4 API Usage
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#105-pre-parsed-comparison" class="md-nav__link">
    <span class="md-ellipsis">
      
        10.5 Pre-Parsed Comparison
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#11-generator-package" class="md-nav__link">
    <span class="md-ellipsis">
      
        11. Generator Package
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="11. Generator Package">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#111-generation-modes" class="md-nav__link">
    <span class="md-ellipsis">
      
        11.1 Generation Modes
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#112-type-mapping" class="md-nav__link">
    <span class="md-ellipsis">
      
        11.2 Type Mapping
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#113-security-generation" class="md-nav__link">
    <span class="md-ellipsis">
      
        11.3 Security Generation
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#114-credential-management" class="md-nav__link">
    <span class="md-ellipsis">
      
        11.4 Credential Management
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#115-server-extensions" class="md-nav__link">
    <span class="md-ellipsis">
      
        11.5 Server Extensions
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#116-file-splitting" class="md-nav__link">
    <span class="md-ellipsis">
      
        11.6 File Splitting
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#117-api-usage" class="md-nav__link">
    <span class="md-ellipsis">
      
        11.7 API Usage
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#12-builder-package" class="md-nav__link">
    <span class="md-ellipsis">
      
        12. Builder Package
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="12. Builder Package">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#121-document-construction" class="md-nav__link">
    <span class="md-ellipsis">
      
        12.1 Document Construction
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#122-reflection-based-schema-generation" class="md-nav__link">
    <span class="md-ellipsis">
      
        12.2 Reflection-Based Schema Generation
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#123-type-mappings" class="md-nav__link">
    <span class="md-ellipsis">
      
        12.3 Type Mappings
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#124-schema-naming-strategies" class="md-nav__link">
    <span class="md-ellipsis">
      
        12.4 Schema Naming Strategies
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#125-server-builder" class="md-nav__link">
    <span class="md-ellipsis">
      
        12.5 Server Builder
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#126-semantic-deduplication" class="md-nav__link">
    <span class="md-ellipsis">
      
        12.6 Semantic Deduplication
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#13-http-validator-package" class="md-nav__link">
    <span class="md-ellipsis">
      
        13. HTTP Validator Package
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="13. HTTP Validator Package">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#131-core-capabilities" class="md-nav__link">
    <span class="md-ellipsis">
      
        13.1 Core Capabilities
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#132-parameter-deserialization" class="md-nav__link">
    <span class="md-ellipsis">
      
        13.2 Parameter Deserialization
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#133-api-usage" class="md-nav__link">
    <span class="md-ellipsis">
      
        13.3 API Usage
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#134-middleware-integration" class="md-nav__link">
    <span class="md-ellipsis">
      
        13.4 Middleware Integration
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#135-strict-mode" class="md-nav__link">
    <span class="md-ellipsis">
      
        13.5 Strict Mode
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#14-walker-package" class="md-nav__link">
    <span class="md-ellipsis">
      
        14. Walker Package
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="14. Walker Package">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#141-core-concepts" class="md-nav__link">
    <span class="md-ellipsis">
      
        14.1 Core Concepts
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#142-handler-types" class="md-nav__link">
    <span class="md-ellipsis">
      
        14.2 Handler Types
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#143-api-usage" class="md-nav__link">
    <span class="md-ellipsis">
      
        14.3 API Usage
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#144-cycle-detection" class="md-nav__link">
    <span class="md-ellipsis">
      
        14.4 Cycle Detection
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#145-use-cases" class="md-nav__link">
    <span class="md-ellipsis">
      
        14.5 Use Cases
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#146-recent-enhancements-v138-v146" class="md-nav__link">
    <span class="md-ellipsis">
      
        14.6 Recent Enhancements (v1.38-v1.46)
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#15-mcp-server" class="md-nav__link">
    <span class="md-ellipsis">
      
        15. MCP Server
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="15. MCP Server">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#151-tool-categories" class="md-nav__link">
    <span class="md-ellipsis">
      
        15.1 Tool Categories
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#152-key-capabilities" class="md-nav__link">
    <span class="md-ellipsis">
      
        15.2 Key Capabilities
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#153-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      
        15.3 Configuration
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#154-security" class="md-nav__link">
    <span class="md-ellipsis">
      
        15.4 Security
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#16-error-handling-with-oaserrors" class="md-nav__link">
    <span class="md-ellipsis">
      
        16. Error Handling with oaserrors
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="16. Error Handling with oaserrors">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#161-error-types" class="md-nav__link">
    <span class="md-ellipsis">
      
        16.1 Error Types
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#162-specialized-sentinels" class="md-nav__link">
    <span class="md-ellipsis">
      
        16.2 Specialized Sentinels
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#163-usage-with-errorsis" class="md-nav__link">
    <span class="md-ellipsis">
      
        16.3 Usage with errors.Is
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#164-usage-with-errorsas" class="md-nav__link">
    <span class="md-ellipsis">
      
        16.4 Usage with errors.As
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#165-error-chaining" class="md-nav__link">
    <span class="md-ellipsis">
      
        16.5 Error Chaining
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#166-structured-error-locality" class="md-nav__link">
    <span class="md-ellipsis">
      
        16.6 Structured Error Locality
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#17-performance-analysis" class="md-nav__link">
    <span class="md-ellipsis">
      
        17. Performance Analysis
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="17. Performance Analysis">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#171-pre-parsed-workflow-optimization" class="md-nav__link">
    <span class="md-ellipsis">
      
        17.1 Pre-Parsed Workflow Optimization
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#172-json-marshaling-optimization" class="md-nav__link">
    <span class="md-ellipsis">
      
        17.2 JSON Marshaling Optimization
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#173-deepcopy-optimization" class="md-nav__link">
    <span class="md-ellipsis">
      
        17.3 DeepCopy Optimization
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#174-http-validator-performance" class="md-nav__link">
    <span class="md-ellipsis">
      
        17.4 HTTP Validator Performance
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#175-benchmark-reliability" class="md-nav__link">
    <span class="md-ellipsis">
      
        17.5 Benchmark Reliability
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#176-memory-optimization-syncpool-v1450" class="md-nav__link">
    <span class="md-ellipsis">
      
        17.6 Memory Optimization: sync.Pool (v1.45.0)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#177-json-fast-path-v1470" class="md-nav__link">
    <span class="md-ellipsis">
      
        17.7 ‚ö° JSON Fast-Path (v1.47.0)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#178-pathbuilder-optimization-v1480-v1481" class="md-nav__link">
    <span class="md-ellipsis">
      
        17.8 üöÄ PathBuilder Optimization (v1.48.0-v1.48.1)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#179-mutable-input-mode-v1480" class="md-nav__link">
    <span class="md-ellipsis">
      
        17.9 ‚ö†Ô∏è Mutable Input Mode (v1.48.0)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#1710-streaming-extension-extraction-v1490" class="md-nav__link">
    <span class="md-ellipsis">
      
        17.10 üîç Streaming Extension Extraction (v1.49.0)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#1711-direct-map-to-struct-decoding-v1510" class="md-nav__link">
    <span class="md-ellipsis">
      
        17.11 üß† Direct Map-to-Struct Decoding (v1.51.0)
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#18-real-world-validation" class="md-nav__link">
    <span class="md-ellipsis">
      
        18. Real-World Validation
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="18. Real-World Validation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#181-test-corpus" class="md-nav__link">
    <span class="md-ellipsis">
      
        18.1 Test Corpus
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#182-corpus-access" class="md-nav__link">
    <span class="md-ellipsis">
      
        18.2 Corpus Access
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#183-testing-coverage" class="md-nav__link">
    <span class="md-ellipsis">
      
        18.3 Testing Coverage
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#19-cli-reference" class="md-nav__link">
    <span class="md-ellipsis">
      
        19. CLI Reference
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="19. CLI Reference">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#191-installation" class="md-nav__link">
    <span class="md-ellipsis">
      
        19.1 Installation
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#192-commands" class="md-nav__link">
    <span class="md-ellipsis">
      
        19.2 Commands
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#193-global-flags" class="md-nav__link">
    <span class="md-ellipsis">
      
        19.3 Global Flags
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#20-api-design-patterns" class="md-nav__link">
    <span class="md-ellipsis">
      
        20. API Design Patterns
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="20. API Design Patterns">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#201-functional-options-pattern" class="md-nav__link">
    <span class="md-ellipsis">
      
        20.1 Functional Options Pattern
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#202-struct-based-pattern" class="md-nav__link">
    <span class="md-ellipsis">
      
        20.2 Struct-Based Pattern
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#203-pre-parsed-pattern" class="md-nav__link">
    <span class="md-ellipsis">
      
        20.3 Pre-Parsed Pattern
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#204-error-handling-pattern" class="md-nav__link">
    <span class="md-ellipsis">
      
        20.4 Error Handling Pattern
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#21-security-considerations" class="md-nav__link">
    <span class="md-ellipsis">
      
        21. Security Considerations
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="21. Security Considerations">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#211-path-traversal-protection" class="md-nav__link">
    <span class="md-ellipsis">
      
        21.1 Path Traversal Protection
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#212-http-reference-control" class="md-nav__link">
    <span class="md-ellipsis">
      
        21.2 HTTP Reference Control
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#213-resource-limits" class="md-nav__link">
    <span class="md-ellipsis">
      
        21.3 Resource Limits
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#214-pkce-for-oauth2" class="md-nav__link">
    <span class="md-ellipsis">
      
        21.4 PKCE for OAuth2
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#215-credential-management" class="md-nav__link">
    <span class="md-ellipsis">
      
        21.5 Credential Management
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#216-security-hardening-v1520" class="md-nav__link">
    <span class="md-ellipsis">
      
        21.6 Security Hardening (v1.52.0)
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#22-conclusion" class="md-nav__link">
    <span class="md-ellipsis">
      
        22. Conclusion
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#23-references" class="md-nav__link">
    <span class="md-ellipsis">
      
        23. References
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="23. References">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#openapi-initiative-specifications" class="md-nav__link">
    <span class="md-ellipsis">
      
        OpenAPI Initiative Specifications
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#json-schema" class="md-nav__link">
    <span class="md-ellipsis">
      
        JSON Schema
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ietf-rfcs" class="md-nav__link">
    <span class="md-ellipsis">
      
        IETF RFCs
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#go-language" class="md-nav__link">
    <span class="md-ellipsis">
      
        Go Language
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#oastools-documentation" class="md-nav__link">
    <span class="md-ellipsis">
      
        oastools Documentation
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#package-documentation" class="md-nav__link">
    <span class="md-ellipsis">
      
        Package Documentation
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#model-context-protocol" class="md-nav__link">
    <span class="md-ellipsis">
      
        Model Context Protocol
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="oastools-a-comprehensive-openapi-toolkit-for-go">oastools: A Comprehensive OpenAPI Toolkit for Go</h1>
<p><strong>White Paper</strong></p>
<p><strong>Current as of:</strong> v1.52.0<br>
<strong>Repository:</strong> <a href="https://github.com/erraggy/oastools">github.com/erraggy/oastools</a><br>
<strong>Documentation:</strong> <a href="https://pkg.go.dev/github.com/erraggy/oastools">pkg.go.dev/github.com/erraggy/oastools</a><br>
<strong>License:</strong> MIT</p>
<hr />
<h2 id="executive-summary">Executive Summary</h2>
<p>oastools is a comprehensive, high-performance toolkit for working with <a href="https://spec.openapis.org/">OpenAPI Specification</a> (OAS) documents in Go. It provides a complete solution for parsing, validating, fixing, converting, joining, diffing, walking, and generating code from API specifications spanning <a href="https://spec.openapis.org/oas/v2.0.html">OAS 2.0</a> (Swagger) through <a href="https://spec.openapis.org/oas/v3.2.0.html">OAS 3.2.0</a>. The toolkit also ships an <a href="#mcp-server">MCP server</a> exposing all capabilities to AI-assisted development environments. oastools distinguishes itself through minimal dependencies, battle-tested quality against production APIs, significant performance optimizations, comprehensive security hardening, and native support for the <a href="https://spec.openapis.org/overlay/v1.0.0.html">OpenAPI Overlay Specification v1.0.0</a>.</p>
<p>This white paper provides an in-depth exploration of oastools, covering its architecture, package ecosystem, integration with external specifications, real-world validation, and practical usage patterns. It serves as both a technical reference and an evaluation guide for teams considering adoption.</p>
<hr />
<h2 id="table-of-contents">Table of Contents</h2>
<ol>
<li><a href="#1-introduction-and-motivation">Introduction and Motivation</a></li>
<li><a href="#2-external-specification-compliance">External Specification Compliance</a></li>
<li><a href="#3-package-architecture">Package Architecture</a></li>
<li><a href="#4-parser-package">Parser Package</a></li>
<li><a href="#5-validator-package">Validator Package</a></li>
<li><a href="#6-fixer-package">Fixer Package</a></li>
<li><a href="#7-converter-package">Converter Package</a></li>
<li><a href="#8-joiner-package">Joiner Package</a></li>
<li><a href="#9-overlay-package">Overlay Package</a></li>
<li><a href="#10-differ-package">Differ Package</a></li>
<li><a href="#11-generator-package">Generator Package</a></li>
<li><a href="#12-builder-package">Builder Package</a></li>
<li><a href="#13-http-validator-package">HTTP Validator Package</a></li>
<li><a href="#14-walker-package">Walker Package</a></li>
<li><a href="#15-mcp-server">MCP Server</a></li>
<li><a href="#16-error-handling-with-oaserrors">Error Handling with oaserrors</a></li>
<li><a href="#17-performance-analysis">Performance Analysis</a></li>
<li><a href="#18-real-world-validation">Real-World Validation</a></li>
<li><a href="#19-cli-reference">CLI Reference</a></li>
<li><a href="#20-api-design-patterns">API Design Patterns</a></li>
<li><a href="#21-security-considerations">Security Considerations</a></li>
<li><a href="#22-conclusion">Conclusion</a></li>
<li><a href="#23-references">References</a></li>
</ol>
<hr />
<h2 id="1-introduction-and-motivation">1. Introduction and Motivation</h2>
<p>The <a href="https://spec.openapis.org/">OpenAPI Specification</a> has become the de facto standard for describing HTTP APIs. As organizations adopt API-first development practices, the need for robust tooling to parse, validate, transform, and generate code from OpenAPI documents has grown significantly. The Go ecosystem, while rich in many areas, has historically lacked comprehensive OpenAPI tooling that addresses enterprise-scale requirements.</p>
<p>oastools was created to fill this gap, addressing several key pain points. First, existing Go libraries often lack support for newer OAS versions, particularly <a href="https://spec.openapis.org/oas/v3.1.0.html">OAS 3.1.x</a> with its <a href="https://json-schema.org/draft/2020-12/json-schema-core.html">JSON Schema 2020-12</a> alignment, and the recently released <a href="https://spec.openapis.org/oas/v3.2.0.html">OAS 3.2.0</a> with streaming and QUERY method support. Second, many OpenAPI tools bring extensive dependency trees, complicating builds, increasing binary sizes, and introducing potential security vulnerabilities. Third, repeatedly parsing the same document across validation, conversion, and generation pipelines creates unnecessary overhead at scale. Finally, generating idiomatic Go code that properly handles <a href="https://datatracker.ietf.org/doc/html/rfc6749">OAuth2</a> flows, Proof Key for Code Exchange (<a href="https://datatracker.ietf.org/doc/html/rfc7636">PKCE</a>), and OpenID Connect (OIDC) discovery remains challenging with existing tools.</p>
<p>oastools addresses these challenges through a modular twelve-package architecture, each package designed to excel at a specific task while integrating seamlessly with others. In addition, a built-in <a href="#mcp-server">MCP server</a> exposes all capabilities over the <a href="https://modelcontextprotocol.io/">Model Context Protocol</a>, enabling AI-assisted API development workflows. The toolkit emphasizes correctness, performance, and developer experience.</p>
<h3 id="design-philosophy">Design Philosophy</h3>
<p>The development of oastools follows several guiding principles. The toolkit maintains minimal dependencies, relying only on <code>go.yaml.in/yaml/v4</code> for YAML parsing, <code>golang.org/x/text</code> for Unicode handling, <code>golang.org/x/tools</code> for import analysis during code generation, <code>github.com/modelcontextprotocol/go-sdk</code> for MCP server support, and <code>github.com/stretchr/testify</code> for testing. The parse-once pattern ensures documents flow through multiple operations without redundant parsing. All <a href="#4-parser-package">parser</a> types include generated <code>DeepCopy()</code> methods for safe document mutation without serialization overhead. The toolkit supports <a href="https://spec.openapis.org/oas/v2.0.html">OAS 2.0</a> through <a href="https://spec.openapis.org/oas/v3.2.0.html">OAS 3.2.0</a> comprehensively, adapting behavior for version-specific features. Both functional options for one-off operations and reusable struct instances for batch processing are supported.</p>
<h3 id="practical-examples">Practical Examples</h3>
<p>For hands-on examples demonstrating oastools capabilities, see the <a href="https://github.com/erraggy/oastools/tree/main/examples">examples directory</a> in the repository. The Petstore example showcases a complete workflow including parsing, validation, code generation, and server implementation.</p>
<hr />
<h2 id="2-external-specification-compliance">2. External Specification Compliance</h2>
<p>oastools implements and integrates with several external specifications. Understanding these relationships is essential for evaluating the toolkit's capabilities and limitations.</p>
<h3 id="21-openapi-specification">2.1 OpenAPI Specification</h3>
<p>The <a href="https://www.openapis.org/">OpenAPI Specification</a> (OAS) defines a standard, programming language-agnostic interface description for HTTP APIs. oastools supports the complete OAS version range as specified by the <a href="https://www.openapis.org/">OpenAPI Initiative</a>.</p>
<p><strong>Supported Versions:</strong></p>
<table>
<thead>
<tr>
<th>Version</th>
<th>Specification URL</th>
<th>Key Features</th>
</tr>
</thead>
<tbody>
<tr>
<td>OAS 2.0</td>
<td><a href="https://spec.openapis.org/oas/v2.0.html">spec.openapis.org/oas/v2.0.html</a></td>
<td>Swagger foundation, <code>definitions</code>, <code>host</code>/<code>basePath</code></td>
</tr>
<tr>
<td>OAS 3.0.0</td>
<td><a href="https://spec.openapis.org/oas/v3.0.0.html">spec.openapis.org/oas/v3.0.0.html</a></td>
<td><code>requestBody</code>, <code>servers[]</code>, <code>components</code></td>
</tr>
<tr>
<td>OAS 3.0.1</td>
<td><a href="https://spec.openapis.org/oas/v3.0.1.html">spec.openapis.org/oas/v3.0.1.html</a></td>
<td>Clarifications to 3.0.0</td>
</tr>
<tr>
<td>OAS 3.0.2</td>
<td><a href="https://spec.openapis.org/oas/v3.0.2.html">spec.openapis.org/oas/v3.0.2.html</a></td>
<td>Additional clarifications</td>
</tr>
<tr>
<td>OAS 3.0.3</td>
<td><a href="https://spec.openapis.org/oas/v3.0.3.html">spec.openapis.org/oas/v3.0.3.html</a></td>
<td>Bug fixes, clarifications</td>
</tr>
<tr>
<td>OAS 3.0.4</td>
<td><a href="https://spec.openapis.org/oas/v3.0.4.html">spec.openapis.org/oas/v3.0.4.html</a></td>
<td>Latest 3.0.x patch release</td>
</tr>
<tr>
<td>OAS 3.1.0</td>
<td><a href="https://spec.openapis.org/oas/v3.1.0.html">spec.openapis.org/oas/v3.1.0.html</a></td>
<td>JSON Schema 2020-12 alignment, webhooks</td>
</tr>
<tr>
<td>OAS 3.1.1</td>
<td><a href="https://spec.openapis.org/oas/v3.1.1.html">spec.openapis.org/oas/v3.1.1.html</a></td>
<td>Clarifications to 3.1.0</td>
</tr>
<tr>
<td>OAS 3.1.2</td>
<td><a href="https://spec.openapis.org/oas/v3.1.2.html">spec.openapis.org/oas/v3.1.2.html</a></td>
<td>Latest 3.1.x patch release</td>
</tr>
<tr>
<td>OAS 3.2.0</td>
<td><a href="https://spec.openapis.org/oas/v3.2.0.html">spec.openapis.org/oas/v3.2.0.html</a></td>
<td>QUERY method, streaming media types, tag hierarchies</td>
</tr>
</tbody>
</table>
<p><strong>OAS 3.1.x JSON Schema Alignment:</strong></p>
<p><a href="https://spec.openapis.org/oas/v3.1.0.html">OAS 3.1.x</a> introduced significant changes by aligning with <a href="https://json-schema.org/draft/2020-12/json-schema-core.html">JSON Schema Draft 2020-12</a>. Key differences that oastools handles include polymorphic <code>type</code> fields (string or array), nullable representation (type arrays including <code>"null"</code> rather than <code>nullable: true</code>), <code>exclusiveMinimum</code>/<code>exclusiveMaximum</code> as numbers rather than booleans, and new keywords like <code>unevaluatedProperties</code>, <code>unevaluatedItems</code>, <code>contentEncoding</code>, <code>contentMediaType</code>, and <code>contentSchema</code>.</p>
<p><strong>OAS 3.2.0 Features:</strong></p>
<p>The latest <a href="https://spec.openapis.org/oas/v3.2.0.html">OAS version</a> introduces several capabilities that oastools fully supports: the <code>$self</code> document identity URI, the QUERY HTTP method for complex queries, <code>additionalOperations</code> for custom HTTP methods, <code>pathItems</code> reusability via components (OAS 3.1+), and reusable <code>mediaTypes</code> in components.</p>
<h3 id="22-openapi-overlay-specification">2.2 OpenAPI Overlay Specification</h3>
<p>The <a href="https://spec.openapis.org/overlay/v1.0.0.html">Overlay Specification v1.0.0</a> defines a document format for transforming OpenAPI descriptions while remaining separate from the source documents. oastools provides native overlay support through its dedicated <a href="#9-overlay-package">overlay package</a>.</p>
<p>The specification defines an overlay document structure with a required <code>overlay</code> version field, <code>info</code> metadata, an optional <code>extends</code> URL pointing to the target OpenAPI document, and an <code>actions</code> array containing transformation instructions.</p>
<p><strong>Action Types:</strong></p>
<p>The <code>update</code> action merges objects and appends to arrays at the target location. When targeting an object, properties are merged with overlay values taking precedence. When targeting an array, the update value is appended.</p>
<p>The <code>remove</code> action deletes nodes at the target location. When set to <code>true</code>, the matched nodes are removed from the document.</p>
<p><strong>JSONPath Implementation:</strong></p>
<p>oastools implements <a href="https://datatracker.ietf.org/doc/html/rfc9535">JSONPath per RFC 9535</a> for targeting nodes within OpenAPI documents. Supported features include root navigation (<code>$</code>), child access (dot and bracket notation), wildcards (<code>*</code> for all children), array indices (positive and negative), recursive descent (<code>..</code>), simple filter expressions (<code>[?(@.property == value)]</code>), compound filters with logical operators, and comparison operators (<code>==</code>, <code>!=</code>, <code>&lt;</code>, <code>&gt;</code>, <code>&lt;=</code>, <code>&gt;=</code>).</p>
<h3 id="23-go-language-specification">2.3 Go Language Specification</h3>
<p>oastools targets <a href="https://go.dev/doc/go1.24">Go 1.24+</a> and leverages language features accordingly. The toolkit uses generics for type-safe operations where appropriate, Go 1.24 benchmark patterns with <code>b.Loop()</code> for accurate performance measurement, and standard library patterns for HTTP handling that integrate with <code>net/http</code>. The <a href="#11-generator-package">generator package</a> produces code compatible with Go 1.18+ when using generics for optional types.</p>
<h3 id="24-related-rfcs">2.4 Related RFCs</h3>
<p>The toolkit implements or references several IETF RFCs. <a href="https://datatracker.ietf.org/doc/html/rfc9535">RFC 9535</a> (JSONPath) provides the query language for <a href="#9-overlay-package">overlay</a> targeting. <a href="https://datatracker.ietf.org/doc/html/rfc7636">RFC 7636</a> (PKCE) is implemented in OAuth2 code generation for secure authorization flows. <a href="https://datatracker.ietf.org/doc/html/rfc6749">RFC 6749</a> (OAuth 2.0) is the foundation for security scheme code generation. <a href="https://datatracker.ietf.org/doc/html/rfc3986">RFC 3986</a> (URIs) governs reference resolution and URL handling. <a href="https://datatracker.ietf.org/doc/html/rfc6570">RFC 6570</a> (URI Templates) underlies path parameter serialization.</p>
<hr />
<h2 id="3-package-architecture">3. Package Architecture</h2>
<p>oastools comprises twelve public packages, each with a focused responsibility and clear integration points.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>oastools/
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>‚îú‚îÄ‚îÄ parser/         # Parse OAS documents from files, URLs, readers, or bytes
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>‚îú‚îÄ‚îÄ validator/      # Validate documents against their declared OAS version
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>‚îú‚îÄ‚îÄ fixer/          # Automatically fix common validation errors
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>‚îú‚îÄ‚îÄ httpvalidator/  # Runtime HTTP request/response validation
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>‚îú‚îÄ‚îÄ converter/      # Convert between OAS versions (2.0 ‚Üî 3.x)
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a>‚îú‚îÄ‚îÄ joiner/         # Merge multiple OAS documents with collision handling
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a>‚îú‚îÄ‚îÄ overlay/        # Apply OpenAPI Overlay transformations
<a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a>‚îú‚îÄ‚îÄ differ/         # Compare documents, detect breaking changes
<a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a>‚îú‚îÄ‚îÄ generator/      # Generate Go client/server code with security support
<a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a>‚îú‚îÄ‚îÄ builder/        # Programmatically construct OAS documents
<a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a>‚îú‚îÄ‚îÄ walker/         # Traverse OAS documents with typed handlers and flow control
<a id="__codelineno-0-13" name="__codelineno-0-13" href="#__codelineno-0-13"></a>‚îú‚îÄ‚îÄ oaserrors/      # Structured error types for programmatic handling
<a id="__codelineno-0-14" name="__codelineno-0-14" href="#__codelineno-0-14"></a>‚îî‚îÄ‚îÄ internal/       # Internal utilities (not public API)
<a id="__codelineno-0-15" name="__codelineno-0-15" href="#__codelineno-0-15"></a>    ‚îú‚îÄ‚îÄ mcpserver/  # MCP server exposing all capabilities over stdio
<a id="__codelineno-0-16" name="__codelineno-0-16" href="#__codelineno-0-16"></a>    ‚îú‚îÄ‚îÄ httputil/   # HTTP constants and validation
<a id="__codelineno-0-17" name="__codelineno-0-17" href="#__codelineno-0-17"></a>    ‚îú‚îÄ‚îÄ severity/   # Issue severity levels
<a id="__codelineno-0-18" name="__codelineno-0-18" href="#__codelineno-0-18"></a>    ‚îú‚îÄ‚îÄ issues/     # Unified issue reporting
<a id="__codelineno-0-19" name="__codelineno-0-19" href="#__codelineno-0-19"></a>    ‚îú‚îÄ‚îÄ schemautil/ # Schema utilities
<a id="__codelineno-0-20" name="__codelineno-0-20" href="#__codelineno-0-20"></a>    ‚îú‚îÄ‚îÄ jsonpath/   # JSONPath RFC 9535 implementation
<a id="__codelineno-0-21" name="__codelineno-0-21" href="#__codelineno-0-21"></a>    ‚îú‚îÄ‚îÄ corpusutil/ # Test corpus management
<a id="__codelineno-0-22" name="__codelineno-0-22" href="#__codelineno-0-22"></a>    ‚îî‚îÄ‚îÄ testutil/   # Test helpers
</code></pre></div>
<h3 id="package-relationships">Package Relationships</h3>
<pre class="mermaid"><code>flowchart TB
    subgraph Input["üì• Input Sources"]
        File[File Path]
        URL[URL]
        Reader[io.Reader]
        Bytes[Byte Slice]
    end

    subgraph Core["üîß Core Processing"]
        Parser[parser&lt;br/&gt;ParseResult]
        Validator[validator]
        Fixer[fixer]
        Converter[converter]
    end

    subgraph Transform["üîÑ Transformation"]
        Joiner[joiner]
        Overlay[overlay]
        Differ[differ]
        Walker[walker]
    end

    subgraph Output["üì§ Output"]
        Generator[generator&lt;br/&gt;Go Code]
        Builder[builder&lt;br/&gt;OAS Document]
        HTTPValidator[httpvalidator&lt;br/&gt;Runtime Validation]
    end

    subgraph Integration["üåê Integration"]
        MCPServer[MCP Server&lt;br/&gt;AI Tooling]
    end

    subgraph Shared["üîó Shared"]
        OASErrors[oaserrors]
    end

    File --&gt; Parser
    URL --&gt; Parser
    Reader --&gt; Parser
    Bytes --&gt; Parser

    Parser --&gt; Validator
    Parser --&gt; Fixer
    Parser --&gt; Converter
    Parser --&gt; Joiner
    Parser --&gt; Overlay
    Parser --&gt; Differ
    Parser --&gt; Walker
    Parser --&gt; Generator
    Parser --&gt; HTTPValidator
    Parser --&gt; MCPServer

    Builder --&gt; Parser

    OASErrors -.-&gt; Core
    OASErrors -.-&gt; Transform
    OASErrors -.-&gt; Output

    style Parser fill:#4db6ac,color:#000
    style OASErrors fill:#ff8a65,color:#000
    style MCPServer fill:#7986cb,color:#000</code></pre>
<p>The packages form a coherent processing pipeline. The <a href="#4-parser-package">parser</a> sits at the foundation, providing <code>ParseResult</code> structures consumed by all other packages. The <a href="#5-validator-package">validator</a> depends on parser output for structural and semantic validation. The <a href="#6-fixer-package">fixer</a> uses parser output and can optionally leverage validator feedback for targeted fixes. The <a href="#7-converter-package">converter</a> transforms parser output between OAS versions. The <a href="#8-joiner-package">joiner</a> combines multiple <code>ParseResult</code> instances into a unified document. The <a href="#9-overlay-package">overlay</a> applies transformations to parser output using <a href="https://datatracker.ietf.org/doc/html/rfc9535">JSONPath</a> targeting. The <a href="#10-differ-package">differ</a> compares two <code>ParseResult</code> instances to detect changes. The <a href="#14-walker-package">walker</a> traverses parser output with typed handlers for analysis, mutation, and filtering. The <a href="#11-generator-package">generator</a> produces Go code from parser output. The <a href="#12-builder-package">builder</a> constructs documents programmatically, producing output compatible with parser structures. The <a href="#13-http-validator-package">httpvalidator</a> uses parser output to validate runtime HTTP traffic. The <a href="#16-error-handling-with-oaserrors">oaserrors</a> package provides error types used throughout all other packages.</p>
<h3 id="format-preservation">Format Preservation</h3>
<p>A critical feature is format preservation across the pipeline. The <a href="#4-parser-package">parser</a> detects source format (JSON or YAML) from file extension or content inspection and stores it in <code>ParseResult.SourceFormat</code>. This format flows through <a href="#7-converter-package">converter</a>, <a href="#8-joiner-package">joiner</a>, and <a href="#6-fixer-package">fixer</a> operations, ensuring output matches input format. When joining multiple documents, the first document's format determines output format.</p>
<hr />
<h2 id="package-chaining">Package Chaining</h2>
<p>oastools packages are designed for seamless composition. Each package's result type provides a <code>ToParseResult()</code> method, enabling fluid pipelines without manual rewrapping:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="nx">result</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">parser</span><span class="p">.</span><span class="nx">ParseWithOptions</span><span class="p">(</span><span class="nx">parser</span><span class="p">.</span><span class="nx">WithFilePath</span><span class="p">(</span><span class="s">&quot;spec.yaml&quot;</span><span class="p">))</span>
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a>
<a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a><span class="c1">// Chain through the entire toolchain without losing context</span>
<a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a><span class="nx">validated</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">validator</span><span class="p">.</span><span class="nx">ValidateWithOptions</span><span class="p">(</span><span class="nx">validator</span><span class="p">.</span><span class="nx">WithParsed</span><span class="p">(</span><span class="o">*</span><span class="nx">result</span><span class="p">))</span>
<a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a><span class="nx">fixed</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">fixer</span><span class="p">.</span><span class="nx">FixWithOptions</span><span class="p">(</span><span class="nx">fixer</span><span class="p">.</span><span class="nx">WithParsed</span><span class="p">(</span><span class="o">*</span><span class="nx">validated</span><span class="p">.</span><span class="nx">ToParseResult</span><span class="p">()))</span>
<a id="__codelineno-1-8" name="__codelineno-1-8" href="#__codelineno-1-8"></a><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-1-9" name="__codelineno-1-9" href="#__codelineno-1-9"></a><span class="nx">converted</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">converter</span><span class="p">.</span><span class="nx">ConvertWithOptions</span><span class="p">(</span>
<a id="__codelineno-1-10" name="__codelineno-1-10" href="#__codelineno-1-10"></a><span class="w">    </span><span class="nx">converter</span><span class="p">.</span><span class="nx">WithParsed</span><span class="p">(</span><span class="o">*</span><span class="nx">fixed</span><span class="p">.</span><span class="nx">ToParseResult</span><span class="p">()),</span>
<a id="__codelineno-1-11" name="__codelineno-1-11" href="#__codelineno-1-11"></a><span class="w">    </span><span class="nx">converter</span><span class="p">.</span><span class="nx">WithTargetVersion</span><span class="p">(</span><span class="s">&quot;3.1.0&quot;</span><span class="p">),</span>
<a id="__codelineno-1-12" name="__codelineno-1-12" href="#__codelineno-1-12"></a><span class="p">)</span>
<a id="__codelineno-1-13" name="__codelineno-1-13" href="#__codelineno-1-13"></a><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-1-14" name="__codelineno-1-14" href="#__codelineno-1-14"></a><span class="nx">joined</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">joiner</span><span class="p">.</span><span class="nx">JoinWithOptions</span><span class="p">(</span>
<a id="__codelineno-1-15" name="__codelineno-1-15" href="#__codelineno-1-15"></a><span class="w">    </span><span class="nx">joiner</span><span class="p">.</span><span class="nx">WithParsed</span><span class="p">(</span><span class="o">*</span><span class="nx">converted</span><span class="p">.</span><span class="nx">ToParseResult</span><span class="p">(),</span><span class="w"> </span><span class="o">*</span><span class="nx">other</span><span class="p">.</span><span class="nx">ToParseResult</span><span class="p">()),</span>
<a id="__codelineno-1-16" name="__codelineno-1-16" href="#__codelineno-1-16"></a><span class="p">)</span>
<a id="__codelineno-1-17" name="__codelineno-1-17" href="#__codelineno-1-17"></a><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="p">}</span>
</code></pre></div>
<table>
<thead>
<tr>
<th>Package</th>
<th>Result Type</th>
<th>Provides ToParseResult()</th>
</tr>
</thead>
<tbody>
<tr>
<td>validator</td>
<td><code>ValidationResult</code></td>
<td>v1.41.0</td>
</tr>
<tr>
<td>fixer</td>
<td><code>FixResult</code></td>
<td>v1.41.0</td>
</tr>
<tr>
<td>converter</td>
<td><code>ConversionResult</code></td>
<td>v1.40.0</td>
</tr>
<tr>
<td>joiner</td>
<td><code>JoinResult</code></td>
<td>v1.40.0</td>
</tr>
<tr>
<td>overlay</td>
<td><code>ApplyResult</code></td>
<td>v1.41.0</td>
</tr>
</tbody>
</table>
<p>This pattern eliminates boilerplate and preserves metadata (source path, OAS version, parse options) throughout the pipeline.</p>
<hr />
<h2 id="4-parser-package">4. Parser Package</h2>
<blockquote>
<p><strong>Links:</strong> <a href="https://pkg.go.dev/github.com/erraggy/oastools/parser">pkg.go.dev</a> | <a href="../packages/parser/">Deep Dive</a></p>
</blockquote>
<p>The parser package forms the foundation of oastools, providing comprehensive parsing for OpenAPI documents across all supported versions.</p>
<h3 id="41-core-capabilities">4.1 Core Capabilities</h3>
<p>The parser offers automatic version detection by examining the <code>openapi</code> or <code>swagger</code> field to determine version and select appropriate parsing strategy. It supports format detection through file extension inspection, content analysis (JSON starts with <code>{</code> or <code>[</code>), and falls back to YAML when uncertain. Multiple input sources are supported, including local file paths, remote URLs (with security controls), <code>io.Reader</code> implementations, and raw byte slices.</p>
<h3 id="42-reference-resolution">4.2 Reference Resolution</h3>
<p>Reference handling is central to OpenAPI processing. The parser supports three reference types with distinct security profiles.</p>
<p>Local references (<code>#/components/schemas/User</code>) point within the same document and are always resolved. File references (<code>./common.yaml#/schemas/Error</code>) point to external files and are resolved with path traversal protection. HTTP references (<code>https://example.com/schemas.yaml</code>) point to remote URLs and require explicit opt-in via <code>WithResolveHTTPRefs(true)</code>.</p>
<p><strong>Circular Reference Handling:</strong></p>
<p>When circular references are detected, the <code>$ref</code> node remains unresolved (preserving the original reference), a warning is added to <code>result.Warnings</code>, and the document remains valid for most operations. Detection triggers when a <code>$ref</code> points to an ancestor in the resolution path or when resolution depth exceeds <code>MaxRefDepth</code>.</p>
<h3 id="43-resource-limits">4.3 Resource Limits</h3>
<p>Configurable limits protect against resource exhaustion attacks.</p>
<table>
<thead>
<tr>
<th>Limit</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>MaxRefDepth</code></td>
<td>100</td>
<td>Maximum nested <code>$ref</code> resolution depth</td>
</tr>
<tr>
<td><code>MaxCachedDocuments</code></td>
<td>100</td>
<td>Maximum external documents to cache</td>
</tr>
<tr>
<td><code>MaxFileSize</code></td>
<td>10MB</td>
<td>Maximum file size for external references</td>
</tr>
</tbody>
</table>
<h3 id="44-json-fast-path-v1470">4.4 ‚ö° JSON Fast-Path (v1.47.0+)</h3>
<p>When parsing JSON input, the parser automatically uses an optimized fast-path that bypasses YAML AST overhead. This provides dramatic performance improvements for JSON specifications.</p>
<p><strong>Automatic Triggering Conditions:</strong></p>
<p>The fast-path activates when all conditions are met:</p>
<ul>
<li>‚úÖ Input is detected as JSON format</li>
<li>‚úÖ Source map building is disabled (<code>WithSourceMap(false)</code>)</li>
<li>‚úÖ Order preservation is disabled (<code>WithPreserveOrder(false)</code>)</li>
</ul>
<p><strong>Performance Improvements:</strong></p>
<table>
<thead>
<tr>
<th>Metric</th>
<th>Standard Path</th>
<th>JSON Fast-Path</th>
<th>Improvement</th>
</tr>
</thead>
<tbody>
<tr>
<td>Parse time (large specs)</td>
<td>~2.5s</td>
<td>~0.3s</td>
<td>~88% reduction</td>
</tr>
<tr>
<td>Memory allocation</td>
<td>~750MB</td>
<td>~50MB</td>
<td>~93% reduction</td>
</tr>
</tbody>
</table>
<p><strong>Why This Matters:</strong></p>
<p>The yaml.v4 library builds a complete Abstract Syntax Tree with comprehensive token tracking. While necessary for YAML features (anchors, aliases, multiline strings), this is wasteful for JSON input where <code>encoding/json</code> is more efficient.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="c1">// Automatically uses fast-path (JSON input, no source map)</span>
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a><span class="nx">result</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">parser</span><span class="p">.</span><span class="nx">ParseWithOptions</span><span class="p">(</span>
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a><span class="w">    </span><span class="nx">parser</span><span class="p">.</span><span class="nx">WithBytes</span><span class="p">(</span><span class="nx">jsonData</span><span class="p">),</span>
<a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a><span class="p">)</span>
<a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a>
<a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a><span class="c1">// Bypasses fast-path (source map requires YAML AST tracking)</span>
<a id="__codelineno-2-7" name="__codelineno-2-7" href="#__codelineno-2-7"></a><span class="nx">result</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">parser</span><span class="p">.</span><span class="nx">ParseWithOptions</span><span class="p">(</span>
<a id="__codelineno-2-8" name="__codelineno-2-8" href="#__codelineno-2-8"></a><span class="w">    </span><span class="nx">parser</span><span class="p">.</span><span class="nx">WithBytes</span><span class="p">(</span><span class="nx">jsonData</span><span class="p">),</span>
<a id="__codelineno-2-9" name="__codelineno-2-9" href="#__codelineno-2-9"></a><span class="w">    </span><span class="nx">parser</span><span class="p">.</span><span class="nx">WithSourceMap</span><span class="p">(</span><span class="kc">true</span><span class="p">),</span>
<a id="__codelineno-2-10" name="__codelineno-2-10" href="#__codelineno-2-10"></a><span class="p">)</span>
</code></pre></div>
<h3 id="45-api-usage">4.5 API Usage</h3>
<p><strong>Functional Options Pattern:</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="nx">result</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">parser</span><span class="p">.</span><span class="nx">ParseWithOptions</span><span class="p">(</span>
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a><span class="w">    </span><span class="nx">parser</span><span class="p">.</span><span class="nx">WithFilePath</span><span class="p">(</span><span class="s">&quot;api.yaml&quot;</span><span class="p">),</span>
<a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a><span class="w">    </span><span class="nx">parser</span><span class="p">.</span><span class="nx">WithResolveRefs</span><span class="p">(</span><span class="kc">true</span><span class="p">),</span>
<a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a><span class="w">    </span><span class="nx">parser</span><span class="p">.</span><span class="nx">WithSourceMap</span><span class="p">(</span><span class="kc">true</span><span class="p">),</span>
<a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a><span class="p">)</span>
<a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-3-7" name="__codelineno-3-7" href="#__codelineno-3-7"></a><span class="w">    </span><span class="nx">log</span><span class="p">.</span><span class="nx">Fatal</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span>
<a id="__codelineno-3-8" name="__codelineno-3-8" href="#__codelineno-3-8"></a><span class="p">}</span>
<a id="__codelineno-3-9" name="__codelineno-3-9" href="#__codelineno-3-9"></a><span class="nx">fmt</span><span class="p">.</span><span class="nx">Printf</span><span class="p">(</span><span class="s">&quot;Parsed %s, version %s\n&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">result</span><span class="p">.</span><span class="nx">SourcePath</span><span class="p">,</span><span class="w"> </span><span class="nx">result</span><span class="p">.</span><span class="nx">OASVersion</span><span class="p">)</span>
</code></pre></div>
<p><strong>Struct-Based Pattern:</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="nx">p</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">parser</span><span class="p">.</span><span class="nx">New</span><span class="p">()</span>
<a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a><span class="nx">p</span><span class="p">.</span><span class="nx">ResolveRefs</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="kc">true</span>
<a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a><span class="nx">p</span><span class="p">.</span><span class="nx">ValidateStructure</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="kc">true</span>
<a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a>
<a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a><span class="nx">result1</span><span class="p">,</span><span class="w"> </span><span class="nx">_</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">p</span><span class="p">.</span><span class="nx">Parse</span><span class="p">(</span><span class="s">&quot;api1.yaml&quot;</span><span class="p">)</span>
<a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a><span class="nx">result2</span><span class="p">,</span><span class="w"> </span><span class="nx">_</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">p</span><span class="p">.</span><span class="nx">Parse</span><span class="p">(</span><span class="s">&quot;api2.yaml&quot;</span><span class="p">)</span>
</code></pre></div>
<h3 id="46-parseresult-structure">4.6 ParseResult Structure</h3>
<p>The <code>ParseResult</code> type contains all parsed information.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="kd">type</span><span class="w"> </span><span class="nx">ParseResult</span><span class="w"> </span><span class="kd">struct</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a><span class="w">    </span><span class="c1">// Document contains the parsed document (version-specific type)</span>
<a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a><span class="w">    </span><span class="nx">Document</span><span class="w"> </span><span class="kt">any</span>
<a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a>
<a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a><span class="w">    </span><span class="c1">// Version-specific accessors (methods, not fields)</span>
<a id="__codelineno-5-6" name="__codelineno-5-6" href="#__codelineno-5-6"></a><span class="w">    </span><span class="c1">// doc2, ok := result.OAS2Document()  // Returns (*OAS2Document, bool)</span>
<a id="__codelineno-5-7" name="__codelineno-5-7" href="#__codelineno-5-7"></a><span class="w">    </span><span class="c1">// doc3, ok := result.OAS3Document()  // Returns (*OAS3Document, bool)</span>
<a id="__codelineno-5-8" name="__codelineno-5-8" href="#__codelineno-5-8"></a>
<a id="__codelineno-5-9" name="__codelineno-5-9" href="#__codelineno-5-9"></a><span class="w">    </span><span class="c1">// Metadata</span>
<a id="__codelineno-5-10" name="__codelineno-5-10" href="#__codelineno-5-10"></a><span class="w">    </span><span class="nx">Version</span><span class="w">      </span><span class="kt">string</span><span class="w">         </span><span class="c1">// Raw version string from document</span>
<a id="__codelineno-5-11" name="__codelineno-5-11" href="#__codelineno-5-11"></a><span class="w">    </span><span class="nx">OASVersion</span><span class="w">   </span><span class="nx">OASVersion</span><span class="w">     </span><span class="c1">// Detected version (e.g., &quot;3.1.0&quot;)</span>
<a id="__codelineno-5-12" name="__codelineno-5-12" href="#__codelineno-5-12"></a><span class="w">    </span><span class="nx">SourcePath</span><span class="w">   </span><span class="kt">string</span><span class="w">         </span><span class="c1">// Source file path</span>
<a id="__codelineno-5-13" name="__codelineno-5-13" href="#__codelineno-5-13"></a><span class="w">    </span><span class="nx">SourceFormat</span><span class="w"> </span><span class="nx">SourceFormat</span><span class="w">   </span><span class="c1">// JSON or YAML</span>
<a id="__codelineno-5-14" name="__codelineno-5-14" href="#__codelineno-5-14"></a>
<a id="__codelineno-5-15" name="__codelineno-5-15" href="#__codelineno-5-15"></a><span class="w">    </span><span class="c1">// Optional features</span>
<a id="__codelineno-5-16" name="__codelineno-5-16" href="#__codelineno-5-16"></a><span class="w">    </span><span class="nx">SourceMap</span><span class="w">    </span><span class="o">*</span><span class="nx">SourceMap</span><span class="w">     </span><span class="c1">// Line/column mapping (if enabled)</span>
<a id="__codelineno-5-17" name="__codelineno-5-17" href="#__codelineno-5-17"></a><span class="w">    </span><span class="nx">Warnings</span><span class="w">     </span><span class="p">[]</span><span class="kt">string</span><span class="w">       </span><span class="c1">// Non-fatal warnings</span>
<a id="__codelineno-5-18" name="__codelineno-5-18" href="#__codelineno-5-18"></a><span class="w">    </span><span class="nx">Errors</span><span class="w">       </span><span class="p">[]</span><span class="kt">error</span><span class="w">        </span><span class="c1">// Parse errors</span>
<a id="__codelineno-5-19" name="__codelineno-5-19" href="#__codelineno-5-19"></a><span class="p">}</span>
</code></pre></div>
<h3 id="47-type-safe-cloning">4.7 Type-Safe Cloning</h3>
<p>All parser types include generated <code>DeepCopy()</code> methods for safe mutation.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="nx">original</span><span class="p">,</span><span class="w"> </span><span class="nx">_</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">result</span><span class="p">.</span><span class="nx">OAS3Document</span><span class="p">()</span>
<a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a><span class="nx">copy</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">original</span><span class="p">.</span><span class="nx">DeepCopy</span><span class="p">()</span>
<a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a><span class="nx">copy</span><span class="p">.</span><span class="nx">Info</span><span class="p">.</span><span class="nx">Title</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&quot;Modified API&quot;</span>
<a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a><span class="c1">// original.Info.Title unchanged</span>
</code></pre></div>
<h3 id="48-streaming-extension-extraction-v1490">4.8 Streaming Extension Extraction (v1.49.0+)</h3>
<p>Vendor extension extraction (<code>x-*</code> fields) now uses a streaming fast-path. A <code>bytes.Contains</code> check for <code>"x-</code> is performed before any JSON parsing, eliminating allocations entirely when no extensions are present. This optimization provides a 15x speedup for the common case (most specifications have few or no vendor extensions at the document level).</p>
<h3 id="49-direct-map-to-struct-decoding-v1510">4.9 Direct Map-to-Struct Decoding (v1.51.0+)</h3>
<p>Reference resolution previously used a <code>map ‚Üí JSON bytes ‚Üí struct</code> roundtrip, which doubled peak memory during <code>ResolveRefs=true</code>. A new code-generated <code>decodeFromMap</code> approach decodes <code>map[string]any</code> values directly to typed structs for all 29 OAS types, eliminating the intermediate <code>[]byte</code> allocation.</p>
<p>A companion <code>ShallowCopy</code> optimization on the <code>RefResolver</code> skips deep copy for non-circular references. When circular references are detected, the resolver automatically falls back to a full deep copy to avoid Go pointer cycles. Together these changes significantly reduce memory usage when resolving references in large specifications.</p>
<p>Unlike JSON marshal/unmarshal approaches, <code>DeepCopy()</code> preserves type information for polymorphic fields like <code>Schema.Type</code> (which may be <code>string</code> or <code>[]string</code> in <a href="https://spec.openapis.org/oas/v3.1.0.html">OAS 3.1+</a>), version-specific semantics such as <code>ExclusiveMinimum</code> representation, and all <code>x-*</code> extension fields.</p>
<h3 id="410-documentaccessor-interface">4.10 DocumentAccessor Interface</h3>
<p>The <code>DocumentAccessor</code> interface provides version-agnostic access to common document fields across <a href="https://spec.openapis.org/oas/v2.0.html">OAS 2.0</a> and <a href="https://spec.openapis.org/oas/v3.0.0.html">OAS 3.x</a> documents, eliminating the need for version-specific type switches.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="nx">result</span><span class="p">,</span><span class="w"> </span><span class="nx">_</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">parser</span><span class="p">.</span><span class="nx">ParseWithOptions</span><span class="p">(</span><span class="nx">parser</span><span class="p">.</span><span class="nx">WithFilePath</span><span class="p">(</span><span class="s">&quot;api.yaml&quot;</span><span class="p">))</span>
<a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a><span class="nx">accessor</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">result</span><span class="p">.</span><span class="nx">AsAccessor</span><span class="p">()</span>
<a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a>
<a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a><span class="c1">// Works identically for OAS 2.0 and 3.x</span>
<a id="__codelineno-7-5" name="__codelineno-7-5" href="#__codelineno-7-5"></a><span class="k">for</span><span class="w"> </span><span class="nx">path</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="k">range</span><span class="w"> </span><span class="nx">accessor</span><span class="p">.</span><span class="nx">GetPaths</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-7-6" name="__codelineno-7-6" href="#__codelineno-7-6"></a><span class="w">    </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="s">&quot;Path:&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">path</span><span class="p">)</span>
<a id="__codelineno-7-7" name="__codelineno-7-7" href="#__codelineno-7-7"></a><span class="p">}</span>
<a id="__codelineno-7-8" name="__codelineno-7-8" href="#__codelineno-7-8"></a><span class="k">for</span><span class="w"> </span><span class="nx">name</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="k">range</span><span class="w"> </span><span class="nx">accessor</span><span class="p">.</span><span class="nx">GetSchemas</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-7-9" name="__codelineno-7-9" href="#__codelineno-7-9"></a><span class="w">    </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="s">&quot;Schema:&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">name</span><span class="p">)</span>
<a id="__codelineno-7-10" name="__codelineno-7-10" href="#__codelineno-7-10"></a><span class="p">}</span>
<a id="__codelineno-7-11" name="__codelineno-7-11" href="#__codelineno-7-11"></a><span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="s">&quot;Ref prefix:&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">accessor</span><span class="p">.</span><span class="nx">SchemaRefPrefix</span><span class="p">())</span>
</code></pre></div>
<p><strong>Available Methods:</strong></p>
<table>
<thead>
<tr>
<th>Method</th>
<th>OAS 2.0 Source</th>
<th>OAS 3.x Source</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>GetInfo()</code></td>
<td><code>doc.Info</code></td>
<td><code>doc.Info</code></td>
</tr>
<tr>
<td><code>GetPaths()</code></td>
<td><code>doc.Paths</code></td>
<td><code>doc.Paths</code></td>
</tr>
<tr>
<td><code>GetSchemas()</code></td>
<td><code>doc.Definitions</code></td>
<td><code>doc.Components.Schemas</code></td>
</tr>
<tr>
<td><code>GetSecuritySchemes()</code></td>
<td><code>doc.SecurityDefinitions</code></td>
<td><code>doc.Components.SecuritySchemes</code></td>
</tr>
<tr>
<td><code>GetParameters()</code></td>
<td><code>doc.Parameters</code></td>
<td><code>doc.Components.Parameters</code></td>
</tr>
<tr>
<td><code>GetResponses()</code></td>
<td><code>doc.Responses</code></td>
<td><code>doc.Components.Responses</code></td>
</tr>
<tr>
<td><code>GetVersion()</code></td>
<td><code>doc.OASVersion</code></td>
<td><code>doc.OASVersion</code></td>
</tr>
<tr>
<td><code>SchemaRefPrefix()</code></td>
<td><code>#/definitions/</code></td>
<td><code>#/components/schemas/</code></td>
</tr>
</tbody>
</table>
<p>This abstraction is particularly useful for tooling that needs to operate on documents regardless of their OAS version.</p>
<h3 id="structural-comparison">Structural Comparison</h3>
<p>Key document types (<code>OAS2Document</code>, <code>OAS3Document</code>, <code>Schema</code>, <code>ParseResult</code>) provide <code>Equals()</code> methods for deep structural comparison:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="k">if</span><span class="w"> </span><span class="nx">doc1</span><span class="p">.</span><span class="nx">Equals</span><span class="p">(</span><span class="nx">doc2</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a><span class="w">    </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="s">&quot;Documents are structurally identical&quot;</span><span class="p">)</span>
<a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a><span class="p">}</span>
</code></pre></div>
<p>This is useful for detecting changes, caching decisions, and test assertions.</p>
<h3 id="deterministic-output">Deterministic Output</h3>
<p>The <code>MarshalOrderedJSON()</code> and <code>MarshalOrderedYAML()</code> methods on <code>*ParseResult</code> produce deterministic output by preserving key order. This ensures:</p>
<ul>
<li>Reproducible diffs between versions</li>
<li>Consistent output for CI/CD pipelines</li>
<li>Predictable test snapshots</li>
</ul>
<hr />
<h2 id="5-validator-package">5. Validator Package</h2>
<blockquote>
<p><strong>Links:</strong> <a href="https://pkg.go.dev/github.com/erraggy/oastools/validator">pkg.go.dev</a> | <a href="../packages/validator/">Deep Dive</a></p>
</blockquote>
<p>The validator package ensures OpenAPI documents conform to their declared specification version, catching structural errors and semantic violations.</p>
<h3 id="51-validation-modes">5.1 Validation Modes</h3>
<p><strong>Structural Validation</strong> verifies required fields are present, types are correct per specification, format constraints are satisfied, and reference targets exist.</p>
<p><strong>Semantic Validation</strong> ensures operationIds are unique across the document, HTTP status codes are valid, parameter names are unique per location, and security scheme references exist in components.</p>
<p><strong>Strict Mode</strong> performs additional checks including flagging non-standard HTTP status codes, requiring at least one success response (2xx) per operation, and detecting deprecated feature usage.</p>
<h3 id="52-api-usage">5.2 API Usage</h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="c1">// Functional options with file path</span>
<a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a><span class="nx">result</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">validator</span><span class="p">.</span><span class="nx">ValidateWithOptions</span><span class="p">(</span>
<a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a><span class="w">    </span><span class="nx">validator</span><span class="p">.</span><span class="nx">WithFilePath</span><span class="p">(</span><span class="s">&quot;api.yaml&quot;</span><span class="p">),</span>
<a id="__codelineno-9-4" name="__codelineno-9-4" href="#__codelineno-9-4"></a><span class="w">    </span><span class="nx">validator</span><span class="p">.</span><span class="nx">WithStrictMode</span><span class="p">(</span><span class="kc">true</span><span class="p">),</span>
<a id="__codelineno-9-5" name="__codelineno-9-5" href="#__codelineno-9-5"></a><span class="p">)</span>
<a id="__codelineno-9-6" name="__codelineno-9-6" href="#__codelineno-9-6"></a>
<a id="__codelineno-9-7" name="__codelineno-9-7" href="#__codelineno-9-7"></a><span class="c1">// Pre-parsed for performance (31x faster)</span>
<a id="__codelineno-9-8" name="__codelineno-9-8" href="#__codelineno-9-8"></a><span class="nx">parsed</span><span class="p">,</span><span class="w"> </span><span class="nx">_</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">parser</span><span class="p">.</span><span class="nx">ParseWithOptions</span><span class="p">(</span><span class="nx">parser</span><span class="p">.</span><span class="nx">WithFilePath</span><span class="p">(</span><span class="s">&quot;api.yaml&quot;</span><span class="p">))</span>
<a id="__codelineno-9-9" name="__codelineno-9-9" href="#__codelineno-9-9"></a><span class="nx">result</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">validator</span><span class="p">.</span><span class="nx">ValidateWithOptions</span><span class="p">(</span>
<a id="__codelineno-9-10" name="__codelineno-9-10" href="#__codelineno-9-10"></a><span class="w">    </span><span class="nx">validator</span><span class="p">.</span><span class="nx">WithParsed</span><span class="p">(</span><span class="o">*</span><span class="nx">parsed</span><span class="p">),</span>
<a id="__codelineno-9-11" name="__codelineno-9-11" href="#__codelineno-9-11"></a><span class="w">    </span><span class="nx">validator</span><span class="p">.</span><span class="nx">WithStrictMode</span><span class="p">(</span><span class="kc">true</span><span class="p">),</span>
<a id="__codelineno-9-12" name="__codelineno-9-12" href="#__codelineno-9-12"></a><span class="p">)</span>
<a id="__codelineno-9-13" name="__codelineno-9-13" href="#__codelineno-9-13"></a>
<a id="__codelineno-9-14" name="__codelineno-9-14" href="#__codelineno-9-14"></a><span class="k">if</span><span class="w"> </span><span class="p">!</span><span class="nx">result</span><span class="p">.</span><span class="nx">Valid</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-9-15" name="__codelineno-9-15" href="#__codelineno-9-15"></a><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="nx">_</span><span class="p">,</span><span class="w"> </span><span class="nx">e</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="k">range</span><span class="w"> </span><span class="nx">result</span><span class="p">.</span><span class="nx">Errors</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-9-16" name="__codelineno-9-16" href="#__codelineno-9-16"></a><span class="w">        </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Printf</span><span class="p">(</span><span class="s">&quot;Error at %s: %s\n&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">e</span><span class="p">.</span><span class="nx">Path</span><span class="p">,</span><span class="w"> </span><span class="nx">e</span><span class="p">.</span><span class="nx">Message</span><span class="p">)</span>
<a id="__codelineno-9-17" name="__codelineno-9-17" href="#__codelineno-9-17"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-9-18" name="__codelineno-9-18" href="#__codelineno-9-18"></a><span class="p">}</span>
</code></pre></div>
<h3 id="53-validation-result">5.3 Validation Result</h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a><span class="kd">type</span><span class="w"> </span><span class="nx">ValidationResult</span><span class="w"> </span><span class="kd">struct</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a><span class="w">    </span><span class="nx">Valid</span><span class="w">         </span><span class="kt">bool</span><span class="w">              </span><span class="c1">// Overall validity</span>
<a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a><span class="w">    </span><span class="nx">Errors</span><span class="w">        </span><span class="p">[]</span><span class="nx">ValidationError</span><span class="w"> </span><span class="c1">// Errors (spec violations)</span>
<a id="__codelineno-10-4" name="__codelineno-10-4" href="#__codelineno-10-4"></a><span class="w">    </span><span class="nx">Warnings</span><span class="w">      </span><span class="p">[]</span><span class="nx">ValidationError</span><span class="w"> </span><span class="c1">// Warnings (best practice)</span>
<a id="__codelineno-10-5" name="__codelineno-10-5" href="#__codelineno-10-5"></a><span class="w">    </span><span class="nx">ErrorCount</span><span class="w">    </span><span class="kt">int</span>
<a id="__codelineno-10-6" name="__codelineno-10-6" href="#__codelineno-10-6"></a><span class="w">    </span><span class="nx">WarningCount</span><span class="w">  </span><span class="kt">int</span>
<a id="__codelineno-10-7" name="__codelineno-10-7" href="#__codelineno-10-7"></a><span class="w">    </span><span class="nx">Version</span><span class="w">       </span><span class="kt">string</span>
<a id="__codelineno-10-8" name="__codelineno-10-8" href="#__codelineno-10-8"></a><span class="w">    </span><span class="nx">OASVersion</span><span class="w">    </span><span class="nx">parser</span><span class="p">.</span><span class="nx">OASVersion</span>
<a id="__codelineno-10-9" name="__codelineno-10-9" href="#__codelineno-10-9"></a><span class="p">}</span>
<a id="__codelineno-10-10" name="__codelineno-10-10" href="#__codelineno-10-10"></a>
<a id="__codelineno-10-11" name="__codelineno-10-11" href="#__codelineno-10-11"></a><span class="kd">type</span><span class="w"> </span><span class="nx">ValidationError</span><span class="w"> </span><span class="kd">struct</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-10-12" name="__codelineno-10-12" href="#__codelineno-10-12"></a><span class="w">    </span><span class="nx">Path</span><span class="w">             </span><span class="kt">string</span><span class="w">                   </span><span class="c1">// JSON path to error location</span>
<a id="__codelineno-10-13" name="__codelineno-10-13" href="#__codelineno-10-13"></a><span class="w">    </span><span class="nx">Message</span><span class="w">          </span><span class="kt">string</span><span class="w">                   </span><span class="c1">// Human-readable description</span>
<a id="__codelineno-10-14" name="__codelineno-10-14" href="#__codelineno-10-14"></a><span class="w">    </span><span class="nx">Severity</span><span class="w">         </span><span class="nx">severity</span><span class="p">.</span><span class="nx">Severity</span><span class="w">        </span><span class="c1">// Error, Warning, or Info</span>
<a id="__codelineno-10-15" name="__codelineno-10-15" href="#__codelineno-10-15"></a><span class="w">    </span><span class="nx">SpecRef</span><span class="w">          </span><span class="kt">string</span><span class="w">                   </span><span class="c1">// URL to relevant spec section</span>
<a id="__codelineno-10-16" name="__codelineno-10-16" href="#__codelineno-10-16"></a><span class="w">    </span><span class="nx">Line</span><span class="w">             </span><span class="kt">int</span><span class="w">                      </span><span class="c1">// Line number (if source map enabled)</span>
<a id="__codelineno-10-17" name="__codelineno-10-17" href="#__codelineno-10-17"></a><span class="w">    </span><span class="nx">Column</span><span class="w">           </span><span class="kt">int</span><span class="w">                      </span><span class="c1">// Column number (if source map enabled)</span>
<a id="__codelineno-10-18" name="__codelineno-10-18" href="#__codelineno-10-18"></a><span class="w">    </span><span class="nx">File</span><span class="w">             </span><span class="kt">string</span><span class="w">                   </span><span class="c1">// File path (if source map enabled)</span>
<a id="__codelineno-10-19" name="__codelineno-10-19" href="#__codelineno-10-19"></a><span class="w">    </span><span class="nx">OperationContext</span><span class="w"> </span><span class="o">*</span><span class="nx">issues</span><span class="p">.</span><span class="nx">OperationContext</span><span class="w"> </span><span class="c1">// API operation context (v1.46.0+)</span>
<a id="__codelineno-10-20" name="__codelineno-10-20" href="#__codelineno-10-20"></a><span class="p">}</span>
</code></pre></div>
<h3 id="54-source-map-integration">5.4 Source Map Integration</h3>
<p>When parsing with <code>WithSourceMap(true)</code>, validation errors include precise location information.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a><span class="nx">parsed</span><span class="p">,</span><span class="w"> </span><span class="nx">_</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">parser</span><span class="p">.</span><span class="nx">ParseWithOptions</span><span class="p">(</span>
<a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a><span class="w">    </span><span class="nx">parser</span><span class="p">.</span><span class="nx">WithFilePath</span><span class="p">(</span><span class="s">&quot;api.yaml&quot;</span><span class="p">),</span>
<a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a><span class="w">    </span><span class="nx">parser</span><span class="p">.</span><span class="nx">WithSourceMap</span><span class="p">(</span><span class="kc">true</span><span class="p">),</span>
<a id="__codelineno-11-4" name="__codelineno-11-4" href="#__codelineno-11-4"></a><span class="p">)</span>
<a id="__codelineno-11-5" name="__codelineno-11-5" href="#__codelineno-11-5"></a><span class="nx">result</span><span class="p">,</span><span class="w"> </span><span class="nx">_</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">validator</span><span class="p">.</span><span class="nx">ValidateWithOptions</span><span class="p">(</span>
<a id="__codelineno-11-6" name="__codelineno-11-6" href="#__codelineno-11-6"></a><span class="w">    </span><span class="nx">validator</span><span class="p">.</span><span class="nx">WithParsed</span><span class="p">(</span><span class="o">*</span><span class="nx">parsed</span><span class="p">),</span>
<a id="__codelineno-11-7" name="__codelineno-11-7" href="#__codelineno-11-7"></a><span class="p">)</span>
<a id="__codelineno-11-8" name="__codelineno-11-8" href="#__codelineno-11-8"></a>
<a id="__codelineno-11-9" name="__codelineno-11-9" href="#__codelineno-11-9"></a><span class="k">for</span><span class="w"> </span><span class="nx">_</span><span class="p">,</span><span class="w"> </span><span class="nx">e</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="k">range</span><span class="w"> </span><span class="nx">result</span><span class="p">.</span><span class="nx">Errors</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-11-10" name="__codelineno-11-10" href="#__codelineno-11-10"></a><span class="w">    </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Printf</span><span class="p">(</span><span class="s">&quot;%s:%d:%d: %s\n&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">e</span><span class="p">.</span><span class="nx">File</span><span class="p">,</span><span class="w"> </span><span class="nx">e</span><span class="p">.</span><span class="nx">Line</span><span class="p">,</span><span class="w"> </span><span class="nx">e</span><span class="p">.</span><span class="nx">Column</span><span class="p">,</span><span class="w"> </span><span class="nx">e</span><span class="p">.</span><span class="nx">Message</span><span class="p">)</span>
<a id="__codelineno-11-11" name="__codelineno-11-11" href="#__codelineno-11-11"></a><span class="p">}</span>
</code></pre></div>
<h3 id="55-cli-integration">5.5 CLI Integration</h3>
<p>The <code>--validate-structure</code> CLI flag controls parser validation behavior, enabling strict structural validation during parsing.</p>
<h3 id="56-operation-context-v1460">5.6 Operation Context (v1.46.0+)</h3>
<p>Validation errors now include operation context, making it easy to identify which API endpoint triggered each error. The <code>OperationContext</code> field provides the HTTP method, path, and operationId.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a><span class="nx">result</span><span class="p">,</span><span class="w"> </span><span class="nx">_</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">validator</span><span class="p">.</span><span class="nx">ValidateWithOptions</span><span class="p">(</span>
<a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a><span class="w">    </span><span class="nx">validator</span><span class="p">.</span><span class="nx">WithParsed</span><span class="p">(</span><span class="o">*</span><span class="nx">parsed</span><span class="p">),</span>
<a id="__codelineno-12-3" name="__codelineno-12-3" href="#__codelineno-12-3"></a><span class="p">)</span>
<a id="__codelineno-12-4" name="__codelineno-12-4" href="#__codelineno-12-4"></a>
<a id="__codelineno-12-5" name="__codelineno-12-5" href="#__codelineno-12-5"></a><span class="k">for</span><span class="w"> </span><span class="nx">_</span><span class="p">,</span><span class="w"> </span><span class="nx">e</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="k">range</span><span class="w"> </span><span class="nx">result</span><span class="p">.</span><span class="nx">Errors</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-12-6" name="__codelineno-12-6" href="#__codelineno-12-6"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="nx">e</span><span class="p">.</span><span class="nx">OperationContext</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-12-7" name="__codelineno-12-7" href="#__codelineno-12-7"></a><span class="w">        </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Printf</span><span class="p">(</span><span class="s">&quot;%s %s (%s): %s\n&quot;</span><span class="p">,</span>
<a id="__codelineno-12-8" name="__codelineno-12-8" href="#__codelineno-12-8"></a><span class="w">            </span><span class="nx">e</span><span class="p">.</span><span class="nx">OperationContext</span><span class="p">.</span><span class="nx">Method</span><span class="p">,</span>
<a id="__codelineno-12-9" name="__codelineno-12-9" href="#__codelineno-12-9"></a><span class="w">            </span><span class="nx">e</span><span class="p">.</span><span class="nx">OperationContext</span><span class="p">.</span><span class="nx">Path</span><span class="p">,</span>
<a id="__codelineno-12-10" name="__codelineno-12-10" href="#__codelineno-12-10"></a><span class="w">            </span><span class="nx">e</span><span class="p">.</span><span class="nx">OperationContext</span><span class="p">.</span><span class="nx">OperationID</span><span class="p">,</span>
<a id="__codelineno-12-11" name="__codelineno-12-11" href="#__codelineno-12-11"></a><span class="w">            </span><span class="nx">e</span><span class="p">.</span><span class="nx">Message</span><span class="p">)</span>
<a id="__codelineno-12-12" name="__codelineno-12-12" href="#__codelineno-12-12"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-12-13" name="__codelineno-12-13" href="#__codelineno-12-13"></a><span class="p">}</span>
<a id="__codelineno-12-14" name="__codelineno-12-14" href="#__codelineno-12-14"></a><span class="c1">// Output: GET /users/{userId} (getUser): missing path parameter &quot;userId&quot;</span>
</code></pre></div>
<hr />
<h2 id="6-fixer-package">6. Fixer Package</h2>
<blockquote>
<p><strong>Links:</strong> <a href="https://pkg.go.dev/github.com/erraggy/oastools/fixer">pkg.go.dev</a> | <a href="../packages/fixer/">Deep Dive</a></p>
</blockquote>
<p>The fixer package automatically corrects common validation errors, reducing manual intervention in API specification maintenance.</p>
<h3 id="61-supported-fix-types">6.1 Supported Fix Types</h3>
<p><strong>Missing Path Parameters (FixTypeMissingPathParameter):</strong> When a path template contains variables like <code>/users/{userId}</code> but the operation lacks a corresponding parameter declaration, the fixer adds one. Type inference can be enabled to assign appropriate types based on naming conventions.</p>
<p><strong>Invalid Schema Names (FixTypeRenamedGenericSchema):</strong> Schemas with names containing URL-encoding-required characters (such as <code>Response[User]</code> from code generators) are renamed using configurable strategies. All <code>$ref</code> values throughout the document are updated accordingly.</p>
<p><strong>Unused Schemas (FixTypePrunedUnusedSchema):</strong> Schema definitions not referenced anywhere in the document are removed, cleaning up orphaned definitions.</p>
<p><strong>Empty Paths (FixTypePrunedEmptyPath):</strong> Path items with no HTTP operations (only parameters or extensions) are removed.</p>
<p><strong>Missing Reference Targets (FixTypeStubMissingRef, v1.46.0+):</strong> When a <code>$ref</code> points to a non-existent schema or response definition, the fixer creates a stub placeholder to prevent validation errors. Stub descriptions are configurable via <code>WithStubConfig()</code> or <code>WithStubResponseDescription()</code>.</p>
<h3 id="62-default-behavior">6.2 Default Behavior</h3>
<p>For performance, only <code>FixTypeMissingPathParameter</code> is enabled by default. Schema renaming and pruning involve expensive operations (walking all references, computing unused schemas) that can significantly slow processing of large specifications.</p>
<h3 id="63-type-inference">6.3 Type Inference</h3>
<p>When enabled, the fixer infers parameter types from naming conventions.</p>
<table>
<thead>
<tr>
<th>Pattern</th>
<th>Inferred Type</th>
<th>Format</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>*id</code>, <code>*Id</code>, <code>*ID</code></td>
<td>integer</td>
<td>-</td>
</tr>
<tr>
<td><code>*uuid</code>, <code>*guid</code></td>
<td>string</td>
<td>uuid</td>
</tr>
<tr>
<td>Everything else</td>
<td>string</td>
<td>-</td>
</tr>
</tbody>
</table>
<h3 id="64-generic-naming-strategies">6.4 Generic Naming Strategies</h3>
<p>When fixing invalid schema names, several strategies are available.</p>
<table>
<thead>
<tr>
<th>Strategy</th>
<th>Example Input</th>
<th>Example Output</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>GenericNamingUnderscore</code></td>
<td><code>Response[User]</code></td>
<td><code>Response_User_</code></td>
</tr>
<tr>
<td><code>GenericNamingOf</code></td>
<td><code>Response[User]</code></td>
<td><code>ResponseOfUser</code></td>
</tr>
<tr>
<td><code>GenericNamingFor</code></td>
<td><code>Response[User]</code></td>
<td><code>ResponseForUser</code></td>
</tr>
<tr>
<td><code>GenericNamingFlattened</code></td>
<td><code>Response[User]</code></td>
<td><code>ResponseUser</code></td>
</tr>
<tr>
<td><code>GenericNamingDot</code></td>
<td><code>Response[User]</code></td>
<td><code>Response.User</code></td>
</tr>
</tbody>
</table>
<h3 id="65-api-usage">6.5 API Usage</h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a><span class="c1">// Enable specific fixes</span>
<a id="__codelineno-13-2" name="__codelineno-13-2" href="#__codelineno-13-2"></a><span class="nx">result</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">fixer</span><span class="p">.</span><span class="nx">FixWithOptions</span><span class="p">(</span>
<a id="__codelineno-13-3" name="__codelineno-13-3" href="#__codelineno-13-3"></a><span class="w">    </span><span class="nx">fixer</span><span class="p">.</span><span class="nx">WithFilePath</span><span class="p">(</span><span class="s">&quot;api.yaml&quot;</span><span class="p">),</span>
<a id="__codelineno-13-4" name="__codelineno-13-4" href="#__codelineno-13-4"></a><span class="w">    </span><span class="nx">fixer</span><span class="p">.</span><span class="nx">WithEnabledFixes</span><span class="p">(</span>
<a id="__codelineno-13-5" name="__codelineno-13-5" href="#__codelineno-13-5"></a><span class="w">        </span><span class="nx">fixer</span><span class="p">.</span><span class="nx">FixTypeMissingPathParameter</span><span class="p">,</span>
<a id="__codelineno-13-6" name="__codelineno-13-6" href="#__codelineno-13-6"></a><span class="w">        </span><span class="nx">fixer</span><span class="p">.</span><span class="nx">FixTypeRenamedGenericSchema</span><span class="p">,</span>
<a id="__codelineno-13-7" name="__codelineno-13-7" href="#__codelineno-13-7"></a><span class="w">        </span><span class="nx">fixer</span><span class="p">.</span><span class="nx">FixTypePrunedUnusedSchema</span><span class="p">,</span>
<a id="__codelineno-13-8" name="__codelineno-13-8" href="#__codelineno-13-8"></a><span class="w">    </span><span class="p">),</span>
<a id="__codelineno-13-9" name="__codelineno-13-9" href="#__codelineno-13-9"></a><span class="w">    </span><span class="nx">fixer</span><span class="p">.</span><span class="nx">WithInferTypes</span><span class="p">(</span><span class="kc">true</span><span class="p">),</span>
<a id="__codelineno-13-10" name="__codelineno-13-10" href="#__codelineno-13-10"></a><span class="w">    </span><span class="nx">fixer</span><span class="p">.</span><span class="nx">WithGenericNaming</span><span class="p">(</span><span class="nx">fixer</span><span class="p">.</span><span class="nx">GenericNamingOf</span><span class="p">),</span>
<a id="__codelineno-13-11" name="__codelineno-13-11" href="#__codelineno-13-11"></a><span class="p">)</span>
<a id="__codelineno-13-12" name="__codelineno-13-12" href="#__codelineno-13-12"></a>
<a id="__codelineno-13-13" name="__codelineno-13-13" href="#__codelineno-13-13"></a><span class="nx">fmt</span><span class="p">.</span><span class="nx">Printf</span><span class="p">(</span><span class="s">&quot;Applied %d fixes\n&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">result</span><span class="p">.</span><span class="nx">FixCount</span><span class="p">)</span>
<a id="__codelineno-13-14" name="__codelineno-13-14" href="#__codelineno-13-14"></a><span class="k">for</span><span class="w"> </span><span class="nx">_</span><span class="p">,</span><span class="w"> </span><span class="nx">fix</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="k">range</span><span class="w"> </span><span class="nx">result</span><span class="p">.</span><span class="nx">Fixes</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-13-15" name="__codelineno-13-15" href="#__codelineno-13-15"></a><span class="w">    </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Printf</span><span class="p">(</span><span class="s">&quot;  %s at %s\n&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">fix</span><span class="p">.</span><span class="nx">Type</span><span class="p">,</span><span class="w"> </span><span class="nx">fix</span><span class="p">.</span><span class="nx">Path</span><span class="p">)</span>
<a id="__codelineno-13-16" name="__codelineno-13-16" href="#__codelineno-13-16"></a><span class="p">}</span>
</code></pre></div>
<h3 id="66-duplicate-operationid-detection">6.6 Duplicate OperationId Detection</h3>
<p>The fixer detects duplicate <code>operationId</code> values and automatically generates unique replacements, preventing spec validation failures.</p>
<h3 id="67-csv-enum-expansion">6.7 CSV Enum Expansion</h3>
<p>Enum values specified as comma-separated strings are automatically expanded to proper typed arrays.</p>
<h3 id="68-mutable-input-mode-v1480">6.8 ‚ö†Ô∏è Mutable Input Mode (v1.48.0+)</h3>
<p>For performance-critical scenarios, <code>WithMutableInput(true)</code> skips the defensive deep copy of the input document. This is particularly useful when chaining multiple fix passes.</p>
<p><strong>When to Use:</strong></p>
<ul>
<li>‚úÖ Chaining multiple fixer passes (the first pass already creates a fresh copy)</li>
<li>‚úÖ Memory efficiency is critical for large specifications</li>
<li>‚úÖ You've already copied the document for your own mutations</li>
</ul>
<p><strong>Warning:</strong> ‚ö†Ô∏è When enabled, the input document will be mutated directly. Do not use the original document after calling <code>FixWithOptions</code>.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a><span class="c1">// First pass: creates a defensive copy (default behavior)</span>
<a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a><span class="nx">pass1</span><span class="p">,</span><span class="w"> </span><span class="nx">_</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">fixer</span><span class="p">.</span><span class="nx">FixWithOptions</span><span class="p">(</span>
<a id="__codelineno-14-3" name="__codelineno-14-3" href="#__codelineno-14-3"></a><span class="w">    </span><span class="nx">fixer</span><span class="p">.</span><span class="nx">WithParsed</span><span class="p">(</span><span class="o">*</span><span class="nx">parseResult</span><span class="p">),</span>
<a id="__codelineno-14-4" name="__codelineno-14-4" href="#__codelineno-14-4"></a><span class="w">    </span><span class="nx">fixer</span><span class="p">.</span><span class="nx">WithEnabledFixes</span><span class="p">(</span><span class="nx">fixer</span><span class="p">.</span><span class="nx">FixTypeMissingPathParameter</span><span class="p">),</span>
<a id="__codelineno-14-5" name="__codelineno-14-5" href="#__codelineno-14-5"></a><span class="p">)</span>
<a id="__codelineno-14-6" name="__codelineno-14-6" href="#__codelineno-14-6"></a>
<a id="__codelineno-14-7" name="__codelineno-14-7" href="#__codelineno-14-7"></a><span class="c1">// Second pass: skip copy since we already own pass1&#39;s document</span>
<a id="__codelineno-14-8" name="__codelineno-14-8" href="#__codelineno-14-8"></a><span class="nx">pass2</span><span class="p">,</span><span class="w"> </span><span class="nx">_</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">fixer</span><span class="p">.</span><span class="nx">FixWithOptions</span><span class="p">(</span>
<a id="__codelineno-14-9" name="__codelineno-14-9" href="#__codelineno-14-9"></a><span class="w">    </span><span class="nx">fixer</span><span class="p">.</span><span class="nx">WithParsed</span><span class="p">(</span><span class="o">*</span><span class="nx">pass1</span><span class="p">.</span><span class="nx">ToParseResult</span><span class="p">()),</span>
<a id="__codelineno-14-10" name="__codelineno-14-10" href="#__codelineno-14-10"></a><span class="w">    </span><span class="nx">fixer</span><span class="p">.</span><span class="nx">WithMutableInput</span><span class="p">(</span><span class="kc">true</span><span class="p">),</span><span class="w">  </span><span class="c1">// Skip defensive copy</span>
<a id="__codelineno-14-11" name="__codelineno-14-11" href="#__codelineno-14-11"></a><span class="w">    </span><span class="nx">fixer</span><span class="p">.</span><span class="nx">WithEnabledFixes</span><span class="p">(</span><span class="nx">fixer</span><span class="p">.</span><span class="nx">FixTypePrunedUnusedSchema</span><span class="p">),</span>
<a id="__codelineno-14-12" name="__codelineno-14-12" href="#__codelineno-14-12"></a><span class="p">)</span>
</code></pre></div>
<p><strong>Performance:</strong> Typical memory savings of 10-30% for large specifications during fix operations.</p>
<hr />
<h2 id="7-converter-package">7. Converter Package</h2>
<blockquote>
<p><strong>Links:</strong> <a href="https://pkg.go.dev/github.com/erraggy/oastools/converter">pkg.go.dev</a> | <a href="../packages/converter/">Deep Dive</a></p>
</blockquote>
<p>The converter package transforms OpenAPI documents between versions, handling the significant structural differences between <a href="https://spec.openapis.org/oas/v2.0.html">OAS 2.0</a> and <a href="https://spec.openapis.org/oas/v3.0.0.html">OAS 3.x</a>.</p>
<h3 id="71-supported-conversions">7.1 Supported Conversions</h3>
<table>
<thead>
<tr>
<th>From</th>
<th>To</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://spec.openapis.org/oas/v2.0.html">OAS 2.0</a></td>
<td><a href="https://spec.openapis.org/oas/v3.0.0.html">OAS 3.0.x</a></td>
<td>Full upgrade with structural transformation</td>
</tr>
<tr>
<td><a href="https://spec.openapis.org/oas/v2.0.html">OAS 2.0</a></td>
<td><a href="https://spec.openapis.org/oas/v3.1.0.html">OAS 3.1.x</a></td>
<td>Includes JSON Schema 2020-12 alignment</td>
</tr>
<tr>
<td><a href="https://spec.openapis.org/oas/v3.0.0.html">OAS 3.x</a></td>
<td><a href="https://spec.openapis.org/oas/v2.0.html">OAS 2.0</a></td>
<td>Downgrade with potential feature loss</td>
</tr>
<tr>
<td><a href="https://spec.openapis.org/oas/v3.0.0.html">OAS 3.0.x</a></td>
<td><a href="https://spec.openapis.org/oas/v3.1.0.html">OAS 3.1.x</a></td>
<td>Version update within 3.x family</td>
</tr>
<tr>
<td><a href="https://spec.openapis.org/oas/v3.1.0.html">OAS 3.1.x</a></td>
<td><a href="https://spec.openapis.org/oas/v3.0.0.html">OAS 3.0.x</a></td>
<td>Version downgrade with schema adjustments</td>
</tr>
</tbody>
</table>
<h3 id="72-key-transformations">7.2 Key Transformations</h3>
<p><strong>OAS 2.0 ‚Üí OAS 3.x:</strong></p>
<p>The conversion handles structural changes between versions. The <code>host</code>, <code>basePath</code>, and <code>schemes</code> fields become the <code>servers</code> array. The <code>consumes</code>/<code>produces</code> fields and <code>body</code> parameter combine into <code>requestBody</code> with <code>content</code> map. The <code>securityDefinitions</code> becomes <code>components/securitySchemes</code> with restructured <a href="https://datatracker.ietf.org/doc/html/rfc6749">OAuth2</a> flows. The <code>definitions</code> section becomes <code>components/schemas</code>.</p>
<p><strong>OAS 3.x ‚Üí OAS 2.0:</strong></p>
<p>Downgrade conversions handle feature reduction. Multiple servers collapse to <code>host</code> and <code>basePath</code>. The <code>requestBody</code> becomes a <code>body</code> parameter. Features without <a href="https://spec.openapis.org/oas/v2.0.html">OAS 2.0</a> equivalents (callbacks, links) generate warnings.</p>
<p><strong>Enhanced Downgrade Detection (v1.49.0+):</strong></p>
<p>The converter now detects additional OAS 3.x features that cannot be faithfully represented in OAS 2.0, reporting them as issues with appropriate severity levels:</p>
<table>
<thead>
<tr>
<th>Feature</th>
<th>Severity</th>
<th>Reason</th>
</tr>
</thead>
<tbody>
<tr>
<td>Webhooks (3.1+)</td>
<td>Critical</td>
<td>No OAS 2.0 equivalent</td>
</tr>
<tr>
<td>Server variables</td>
<td>Warning</td>
<td>Extracted but incompatible</td>
</tr>
<tr>
<td>Multiple servers</td>
<td>Warning</td>
<td>Only first server used</td>
</tr>
<tr>
<td>Callbacks</td>
<td>Critical</td>
<td>No OAS 2.0 equivalent</td>
</tr>
<tr>
<td>Links</td>
<td>Warning</td>
<td>No OAS 2.0 equivalent (not yet detected -- planned)</td>
</tr>
</tbody>
</table>
<h3 id="73-issue-tracking">7.3 Issue Tracking</h3>
<p>Conversions may produce issues at different severity levels.</p>
<p><strong>Critical:</strong> The conversion cannot be completed accurately, such as when incompatible features block conversion.</p>
<p><strong>Warning:</strong> Information may be lost, such as when multiple servers are collapsed to one or callbacks are removed.</p>
<p><strong>Info:</strong> Structural changes were applied, such as when a security scheme was restructured.</p>
<h3 id="74-api-usage">7.4 API Usage</h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a><span class="nx">result</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">converter</span><span class="p">.</span><span class="nx">ConvertWithOptions</span><span class="p">(</span>
<a id="__codelineno-15-2" name="__codelineno-15-2" href="#__codelineno-15-2"></a><span class="w">    </span><span class="nx">converter</span><span class="p">.</span><span class="nx">WithFilePath</span><span class="p">(</span><span class="s">&quot;swagger.yaml&quot;</span><span class="p">),</span>
<a id="__codelineno-15-3" name="__codelineno-15-3" href="#__codelineno-15-3"></a><span class="w">    </span><span class="nx">converter</span><span class="p">.</span><span class="nx">WithTargetVersion</span><span class="p">(</span><span class="s">&quot;3.1.0&quot;</span><span class="p">),</span>
<a id="__codelineno-15-4" name="__codelineno-15-4" href="#__codelineno-15-4"></a><span class="p">)</span>
<a id="__codelineno-15-5" name="__codelineno-15-5" href="#__codelineno-15-5"></a>
<a id="__codelineno-15-6" name="__codelineno-15-6" href="#__codelineno-15-6"></a><span class="k">for</span><span class="w"> </span><span class="nx">_</span><span class="p">,</span><span class="w"> </span><span class="nx">issue</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="k">range</span><span class="w"> </span><span class="nx">result</span><span class="p">.</span><span class="nx">Issues</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-15-7" name="__codelineno-15-7" href="#__codelineno-15-7"></a><span class="w">    </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Printf</span><span class="p">(</span><span class="s">&quot;[%s] %s: %s\n&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">issue</span><span class="p">.</span><span class="nx">Severity</span><span class="p">,</span><span class="w"> </span><span class="nx">issue</span><span class="p">.</span><span class="nx">Path</span><span class="p">,</span><span class="w"> </span><span class="nx">issue</span><span class="p">.</span><span class="nx">Message</span><span class="p">)</span>
<a id="__codelineno-15-8" name="__codelineno-15-8" href="#__codelineno-15-8"></a><span class="p">}</span>
</code></pre></div>
<hr />
<h2 id="8-joiner-package">8. Joiner Package</h2>
<blockquote>
<p><strong>Links:</strong> <a href="https://pkg.go.dev/github.com/erraggy/oastools/joiner">pkg.go.dev</a> | <a href="../packages/joiner/">Deep Dive</a></p>
</blockquote>
<p>The joiner package merges multiple OpenAPI documents into a single unified specification, handling collisions and maintaining referential integrity.</p>
<h3 id="81-collision-strategies">8.1 Collision Strategies</h3>
<p>When joining documents, name collisions may occur in schemas, paths, or other components. The joiner provides configurable strategies.</p>
<table>
<thead>
<tr>
<th>Strategy</th>
<th>Behavior</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>StrategyFailOnCollision</code></td>
<td>Error immediately on any collision (default)</td>
</tr>
<tr>
<td><code>StrategyAcceptLeft</code></td>
<td>Keep the first (left) definition</td>
</tr>
<tr>
<td><code>StrategyAcceptRight</code></td>
<td>Keep the last (right) definition</td>
</tr>
<tr>
<td><code>StrategyRenameLeft</code></td>
<td>Rename conflicting item from left document</td>
</tr>
<tr>
<td><code>StrategyRenameRight</code></td>
<td>Rename conflicting item from right document</td>
</tr>
<tr>
<td><code>StrategyDeduplicateEquivalent</code></td>
<td>Keep one if structurally identical, error if different</td>
</tr>
<tr>
<td><code>StrategyFailOnPaths</code></td>
<td>Error only on path collisions, accept others</td>
</tr>
</tbody>
</table>
<h3 id="82-semantic-deduplication">8.2 Semantic Deduplication</h3>
<p>The <code>StrategyDeduplicateEquivalent</code> strategy performs deep structural comparison. Two schemas are considered equivalent if they have identical types, properties, required fields, and constraints. When equivalent schemas are found, one is kept and all references are updated to point to the surviving definition. Empty schemas (those with no properties, type, or constraints) are correctly preserved during deduplication rather than being collapsed (fixed in v1.46.2).</p>
<h3 id="83-reference-rewriting">8.3 Reference Rewriting</h3>
<p>When schemas are renamed (via <code>StrategyRenameLeft</code> or <code>StrategyRenameRight</code>), the joiner automatically updates all <code>$ref</code> values throughout the merged document. This includes references in other schemas, request bodies, responses, parameters, and anywhere else references may appear.</p>
<h3 id="84-array-merging">8.4 Array Merging</h3>
<p>Arrays like <code>servers</code>, <code>security</code>, and <code>tags</code> are merged according to configurable strategies.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a><span class="nx">config</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">joiner</span><span class="p">.</span><span class="nx">DefaultConfig</span><span class="p">()</span>
<a id="__codelineno-16-2" name="__codelineno-16-2" href="#__codelineno-16-2"></a><span class="nx">config</span><span class="p">.</span><span class="nx">MergeArrays</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="kc">true</span><span class="w">    </span><span class="c1">// Combine server, security, and tag arrays</span>
</code></pre></div>
<h3 id="85-overlay-integration">8.5 Overlay Integration</h3>
<p>The joiner integrates with the <a href="#9-overlay-package">overlay package</a> for transformations at different stages.</p>
<p><strong>Pre-Join Overlays</strong> are applied to each input document before joining.</p>
<p><strong>Post-Join Overlays</strong> are applied to the merged result.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a><span class="nx">result</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">joiner</span><span class="p">.</span><span class="nx">JoinWithOptions</span><span class="p">(</span>
<a id="__codelineno-17-2" name="__codelineno-17-2" href="#__codelineno-17-2"></a><span class="w">    </span><span class="nx">joiner</span><span class="p">.</span><span class="nx">WithFilePaths</span><span class="p">(</span><span class="s">&quot;api1.yaml&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;api2.yaml&quot;</span><span class="p">),</span>
<a id="__codelineno-17-3" name="__codelineno-17-3" href="#__codelineno-17-3"></a><span class="w">    </span><span class="nx">joiner</span><span class="p">.</span><span class="nx">WithPreJoinOverlayFile</span><span class="p">(</span><span class="s">&quot;standardize.yaml&quot;</span><span class="p">),</span>
<a id="__codelineno-17-4" name="__codelineno-17-4" href="#__codelineno-17-4"></a><span class="w">    </span><span class="nx">joiner</span><span class="p">.</span><span class="nx">WithPostJoinOverlayFile</span><span class="p">(</span><span class="s">&quot;finalize.yaml&quot;</span><span class="p">),</span>
<a id="__codelineno-17-5" name="__codelineno-17-5" href="#__codelineno-17-5"></a><span class="p">)</span>
</code></pre></div>
<h3 id="86-operation-aware-renaming">8.6 Operation-Aware Renaming</h3>
<p>When schemas collide during joining, simple source-based renaming (e.g., <code>User_users</code>) can produce unclear names that obscure the schema's purpose. Operation-aware renaming traces schemas back to their originating operations, enabling semantic names like <code>CreateUserRequest</code> or <code>GetPetResponse</code> that reflect how schemas are actually used.</p>
<p><strong>Enabling Operation Context:</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a><span class="nx">result</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">joiner</span><span class="p">.</span><span class="nx">JoinWithOptions</span><span class="p">(</span>
<a id="__codelineno-18-2" name="__codelineno-18-2" href="#__codelineno-18-2"></a><span class="w">    </span><span class="nx">joiner</span><span class="p">.</span><span class="nx">WithFilePaths</span><span class="p">(</span><span class="s">&quot;users.yaml&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;orders.yaml&quot;</span><span class="p">),</span>
<a id="__codelineno-18-3" name="__codelineno-18-3" href="#__codelineno-18-3"></a><span class="w">    </span><span class="nx">joiner</span><span class="p">.</span><span class="nx">WithSchemaStrategy</span><span class="p">(</span><span class="nx">joiner</span><span class="p">.</span><span class="nx">StrategyRenameRight</span><span class="p">),</span>
<a id="__codelineno-18-4" name="__codelineno-18-4" href="#__codelineno-18-4"></a><span class="w">    </span><span class="nx">joiner</span><span class="p">.</span><span class="nx">WithOperationContext</span><span class="p">(</span><span class="kc">true</span><span class="p">),</span>
<a id="__codelineno-18-5" name="__codelineno-18-5" href="#__codelineno-18-5"></a><span class="w">    </span><span class="nx">joiner</span><span class="p">.</span><span class="nx">WithRenameTemplate</span><span class="p">(</span><span class="s">&quot;{{.OperationID | pascalCase}}{{.Name}}&quot;</span><span class="p">),</span>
<a id="__codelineno-18-6" name="__codelineno-18-6" href="#__codelineno-18-6"></a><span class="p">)</span>
</code></pre></div>
<p><strong>Reference Graph Building:</strong></p>
<p>When <code>WithOperationContext(true)</code> is enabled, the joiner builds a reference graph that traces schema relationships:</p>
<ol>
<li><strong>Direct references</strong> - Schemas referenced directly by operations (request bodies, responses, parameters)</li>
<li><strong>Indirect references</strong> - Schemas referenced through intermediate schemas (e.g., <code>Order</code> references <code>Address</code>)</li>
<li><strong>Lineage resolution</strong> - Traverses the graph to find all operations that ultimately use each schema</li>
</ol>
<p>This graph enables rename templates to access operation context even for deeply nested schemas.</p>
<p><strong>Template Functions:</strong></p>
<table>
<thead>
<tr>
<th>Category</th>
<th>Functions</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Path</td>
<td><code>pathSegment</code>, <code>pathResource</code>, <code>pathLast</code>, <code>pathClean</code></td>
<td>Extract and transform API path components</td>
</tr>
<tr>
<td>Case</td>
<td><code>pascalCase</code>, <code>camelCase</code>, <code>snakeCase</code>, <code>kebabCase</code></td>
<td>Transform string casing</td>
</tr>
<tr>
<td>Tag</td>
<td><code>firstTag</code>, <code>joinTags</code>, <code>hasTag</code></td>
<td>Work with operation tags</td>
</tr>
<tr>
<td>Conditional</td>
<td><code>default</code>, <code>coalesce</code></td>
<td>Fallback value selection</td>
</tr>
</tbody>
</table>
<p><strong>Template Examples:</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a><span class="c1">// Use operationId when available, fall back to path resource</span>
<a id="__codelineno-19-2" name="__codelineno-19-2" href="#__codelineno-19-2"></a><span class="s">&quot;{{coalesce .OperationID (pathResource .Path) .Source | pascalCase}}{{.Name}}&quot;</span>
<a id="__codelineno-19-3" name="__codelineno-19-3" href="#__codelineno-19-3"></a>
<a id="__codelineno-19-4" name="__codelineno-19-4" href="#__codelineno-19-4"></a><span class="c1">// Include usage type for clarity</span>
<a id="__codelineno-19-5" name="__codelineno-19-5" href="#__codelineno-19-5"></a><span class="s">&quot;{{.OperationID | pascalCase}}{{.UsageType | pascalCase}}{{.Name}}&quot;</span>
<a id="__codelineno-19-6" name="__codelineno-19-6" href="#__codelineno-19-6"></a>
<a id="__codelineno-19-7" name="__codelineno-19-7" href="#__codelineno-19-7"></a><span class="c1">// Path-based naming when operationIds are inconsistent</span>
<a id="__codelineno-19-8" name="__codelineno-19-8" href="#__codelineno-19-8"></a><span class="s">&quot;{{pathResource .Path | pascalCase}}{{.Name}}&quot;</span>
</code></pre></div>
<p><strong>Primary Operation Policy:</strong></p>
<p>When a schema is referenced by multiple operations, the <code>PrimaryOperationPolicy</code> determines which operation provides context:</p>
<table>
<thead>
<tr>
<th>Policy</th>
<th>Behavior</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>PolicyFirstEncountered</code></td>
<td>Uses the first operation found during traversal (default)</td>
</tr>
<tr>
<td><code>PolicyMostSpecific</code></td>
<td>Prefers operations with <code>operationId</code>, then tags</td>
</tr>
<tr>
<td><code>PolicyAlphabetical</code></td>
<td>Sorts by path+method and uses first alphabetically</td>
</tr>
</tbody>
</table>
<div class="highlight"><pre><span></span><code><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a><span class="nx">joiner</span><span class="p">.</span><span class="nx">WithPrimaryOperationPolicy</span><span class="p">(</span><span class="nx">joiner</span><span class="p">.</span><span class="nx">PolicyMostSpecific</span><span class="p">)</span>
</code></pre></div>
<blockquote>
<p><strong>Deep Dive:</strong> For comprehensive <code>RenameContext</code> documentation including all available fields, aggregate context for shared schemas, and advanced template patterns, see the <a href="../packages/joiner/">Joiner Deep Dive</a>.</p>
</blockquote>
<h3 id="87-api-usage">8.7 API Usage</h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a><span class="nx">result</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">joiner</span><span class="p">.</span><span class="nx">JoinWithOptions</span><span class="p">(</span>
<a id="__codelineno-21-2" name="__codelineno-21-2" href="#__codelineno-21-2"></a><span class="w">    </span><span class="nx">joiner</span><span class="p">.</span><span class="nx">WithFilePaths</span><span class="p">(</span><span class="s">&quot;users.yaml&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;orders.yaml&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;products.yaml&quot;</span><span class="p">),</span>
<a id="__codelineno-21-3" name="__codelineno-21-3" href="#__codelineno-21-3"></a><span class="w">    </span><span class="nx">joiner</span><span class="p">.</span><span class="nx">WithPathStrategy</span><span class="p">(</span><span class="nx">joiner</span><span class="p">.</span><span class="nx">StrategyAcceptLeft</span><span class="p">),</span>
<a id="__codelineno-21-4" name="__codelineno-21-4" href="#__codelineno-21-4"></a><span class="w">    </span><span class="nx">joiner</span><span class="p">.</span><span class="nx">WithSchemaStrategy</span><span class="p">(</span><span class="nx">joiner</span><span class="p">.</span><span class="nx">StrategyDeduplicateEquivalent</span><span class="p">),</span>
<a id="__codelineno-21-5" name="__codelineno-21-5" href="#__codelineno-21-5"></a><span class="p">)</span>
<a id="__codelineno-21-6" name="__codelineno-21-6" href="#__codelineno-21-6"></a>
<a id="__codelineno-21-7" name="__codelineno-21-7" href="#__codelineno-21-7"></a><span class="nx">fmt</span><span class="p">.</span><span class="nx">Printf</span><span class="p">(</span><span class="s">&quot;Joined documents into %d paths\n&quot;</span><span class="p">,</span>
<a id="__codelineno-21-8" name="__codelineno-21-8" href="#__codelineno-21-8"></a><span class="w">    </span><span class="nx">result</span><span class="p">.</span><span class="nx">Stats</span><span class="p">.</span><span class="nx">PathCount</span><span class="p">)</span>
</code></pre></div>
<h3 id="88-source-name-warnings">8.8 Source Name Warnings</h3>
<p>Collision messages now include source file names for easier debugging when joining multiple specs.</p>
<h3 id="89-collision-handler-callbacks-v1470">8.9 üîß Collision Handler Callbacks (v1.47.0+)</h3>
<p>For advanced use cases, custom collision handlers enable programmatic control over collision resolution. Handlers receive full context about each collision and can return custom resolution actions.</p>
<p><strong>Collision Context:</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-22-1" name="__codelineno-22-1" href="#__codelineno-22-1"></a><span class="kd">type</span><span class="w"> </span><span class="nx">CollisionContext</span><span class="w"> </span><span class="kd">struct</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-22-2" name="__codelineno-22-2" href="#__codelineno-22-2"></a><span class="w">    </span><span class="nx">Type</span><span class="w">               </span><span class="nx">CollisionType</span><span class="w">    </span><span class="c1">// schema, path, webhook, etc.</span>
<a id="__codelineno-22-3" name="__codelineno-22-3" href="#__codelineno-22-3"></a><span class="w">    </span><span class="nx">Name</span><span class="w">               </span><span class="kt">string</span><span class="w">           </span><span class="c1">// The colliding name (e.g., &quot;User&quot;)</span>
<a id="__codelineno-22-4" name="__codelineno-22-4" href="#__codelineno-22-4"></a><span class="w">    </span><span class="nx">JSONPath</span><span class="w">           </span><span class="kt">string</span><span class="w">           </span><span class="c1">// Full path (e.g., &quot;$.components.schemas.User&quot;)</span>
<a id="__codelineno-22-5" name="__codelineno-22-5" href="#__codelineno-22-5"></a><span class="w">    </span><span class="nx">LeftSource</span><span class="w">         </span><span class="kt">string</span><span class="w">           </span><span class="c1">// Source file for left document</span>
<a id="__codelineno-22-6" name="__codelineno-22-6" href="#__codelineno-22-6"></a><span class="w">    </span><span class="nx">LeftValue</span><span class="w">          </span><span class="kt">any</span><span class="w">              </span><span class="c1">// The left component (*parser.Schema, etc.)</span>
<a id="__codelineno-22-7" name="__codelineno-22-7" href="#__codelineno-22-7"></a><span class="w">    </span><span class="nx">RightSource</span><span class="w">        </span><span class="kt">string</span><span class="w">           </span><span class="c1">// Source file for right document</span>
<a id="__codelineno-22-8" name="__codelineno-22-8" href="#__codelineno-22-8"></a><span class="w">    </span><span class="nx">RightValue</span><span class="w">         </span><span class="kt">any</span><span class="w">              </span><span class="c1">// The right component</span>
<a id="__codelineno-22-9" name="__codelineno-22-9" href="#__codelineno-22-9"></a><span class="w">    </span><span class="nx">ConfiguredStrategy</span><span class="w"> </span><span class="nx">CollisionStrategy</span><span class="w"> </span><span class="c1">// Default strategy that would apply</span>
<a id="__codelineno-22-10" name="__codelineno-22-10" href="#__codelineno-22-10"></a><span class="p">}</span>
</code></pre></div>
<p><strong>Resolution Actions:</strong></p>
<table>
<thead>
<tr>
<th>Action</th>
<th>Behavior</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>ResolutionContinue</code></td>
<td>Defer to configured strategy (observe-only)</td>
</tr>
<tr>
<td><code>ResolutionAcceptLeft</code></td>
<td>Keep the left (base) value</td>
</tr>
<tr>
<td><code>ResolutionAcceptRight</code></td>
<td>Keep the right (incoming) value</td>
</tr>
<tr>
<td><code>ResolutionRename</code></td>
<td>Rename the right value (schemas only)</td>
</tr>
<tr>
<td><code>ResolutionDeduplicate</code></td>
<td>Treat colliding values as equivalent</td>
</tr>
<tr>
<td><code>ResolutionFail</code></td>
<td>Abort the join with an error</td>
</tr>
<tr>
<td><code>ResolutionCustom</code></td>
<td>Use a caller-provided merged value</td>
</tr>
</tbody>
</table>
<p><strong>Usage Pattern:</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-23-1" name="__codelineno-23-1" href="#__codelineno-23-1"></a><span class="nx">result</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">joiner</span><span class="p">.</span><span class="nx">JoinWithOptions</span><span class="p">(</span>
<a id="__codelineno-23-2" name="__codelineno-23-2" href="#__codelineno-23-2"></a><span class="w">    </span><span class="nx">joiner</span><span class="p">.</span><span class="nx">WithFilePaths</span><span class="p">(</span><span class="s">&quot;base.yaml&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;overlay.yaml&quot;</span><span class="p">),</span>
<a id="__codelineno-23-3" name="__codelineno-23-3" href="#__codelineno-23-3"></a><span class="w">    </span><span class="nx">joiner</span><span class="p">.</span><span class="nx">WithCollisionHandler</span><span class="p">(</span><span class="kd">func</span><span class="p">(</span><span class="nx">collision</span><span class="w"> </span><span class="nx">joiner</span><span class="p">.</span><span class="nx">CollisionContext</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="nx">joiner</span><span class="p">.</span><span class="nx">CollisionResolution</span><span class="p">,</span><span class="w"> </span><span class="kt">error</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-23-4" name="__codelineno-23-4" href="#__codelineno-23-4"></a><span class="w">        </span><span class="c1">// Log all collisions for auditing</span>
<a id="__codelineno-23-5" name="__codelineno-23-5" href="#__codelineno-23-5"></a><span class="w">        </span><span class="nx">log</span><span class="p">.</span><span class="nx">Printf</span><span class="p">(</span><span class="s">&quot;Collision: %s %s&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">collision</span><span class="p">.</span><span class="nx">Type</span><span class="p">,</span><span class="w"> </span><span class="nx">collision</span><span class="p">.</span><span class="nx">Name</span><span class="p">)</span>
<a id="__codelineno-23-6" name="__codelineno-23-6" href="#__codelineno-23-6"></a>
<a id="__codelineno-23-7" name="__codelineno-23-7" href="#__codelineno-23-7"></a><span class="w">        </span><span class="c1">// Custom logic for schema collisions</span>
<a id="__codelineno-23-8" name="__codelineno-23-8" href="#__codelineno-23-8"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="nx">collision</span><span class="p">.</span><span class="nx">Type</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nx">joiner</span><span class="p">.</span><span class="nx">CollisionTypeSchema</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-23-9" name="__codelineno-23-9" href="#__codelineno-23-9"></a><span class="w">            </span><span class="nx">merged</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">customMergeLogic</span><span class="p">(</span><span class="nx">collision</span><span class="p">.</span><span class="nx">LeftValue</span><span class="p">,</span><span class="w"> </span><span class="nx">collision</span><span class="p">.</span><span class="nx">RightValue</span><span class="p">)</span>
<a id="__codelineno-23-10" name="__codelineno-23-10" href="#__codelineno-23-10"></a><span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="nx">joiner</span><span class="p">.</span><span class="nx">UseCustomValue</span><span class="p">(</span><span class="nx">merged</span><span class="p">),</span><span class="w"> </span><span class="kc">nil</span>
<a id="__codelineno-23-11" name="__codelineno-23-11" href="#__codelineno-23-11"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-23-12" name="__codelineno-23-12" href="#__codelineno-23-12"></a>
<a id="__codelineno-23-13" name="__codelineno-23-13" href="#__codelineno-23-13"></a><span class="w">        </span><span class="c1">// Defer to strategy for other types</span>
<a id="__codelineno-23-14" name="__codelineno-23-14" href="#__codelineno-23-14"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="nx">joiner</span><span class="p">.</span><span class="nx">ContinueWithStrategy</span><span class="p">(),</span><span class="w"> </span><span class="kc">nil</span>
<a id="__codelineno-23-15" name="__codelineno-23-15" href="#__codelineno-23-15"></a><span class="w">    </span><span class="p">}),</span>
<a id="__codelineno-23-16" name="__codelineno-23-16" href="#__codelineno-23-16"></a><span class="p">)</span>
</code></pre></div>
<p><strong>Use Cases:</strong></p>
<ul>
<li>Semantic schema deduplication with custom logic</li>
<li>Collision detection and auditing pipelines</li>
<li>Domain-specific resolution (e.g., API versioning strategies)</li>
</ul>
<hr />
<h2 id="9-overlay-package">9. Overlay Package</h2>
<blockquote>
<p><strong>Links:</strong> <a href="https://pkg.go.dev/github.com/erraggy/oastools/overlay">pkg.go.dev</a> | <a href="../packages/overlay/">Deep Dive</a></p>
</blockquote>
<p>The overlay package implements the <a href="https://spec.openapis.org/overlay/v1.0.0.html">OpenAPI Overlay Specification v1.0.0</a>, enabling declarative transformations of OpenAPI documents.</p>
<h3 id="91-overlay-structure">9.1 Overlay Structure</h3>
<p>An overlay document contains metadata and a sequence of actions.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-24-1" name="__codelineno-24-1" href="#__codelineno-24-1"></a><span class="nt">overlay</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;1.0.0&quot;</span>
<a id="__codelineno-24-2" name="__codelineno-24-2" href="#__codelineno-24-2"></a><span class="nt">info</span><span class="p">:</span>
<a id="__codelineno-24-3" name="__codelineno-24-3" href="#__codelineno-24-3"></a><span class="w">  </span><span class="nt">title</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Production Configuration</span>
<a id="__codelineno-24-4" name="__codelineno-24-4" href="#__codelineno-24-4"></a><span class="w">  </span><span class="nt">version</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;1.0.0&quot;</span>
<a id="__codelineno-24-5" name="__codelineno-24-5" href="#__codelineno-24-5"></a><span class="nt">extends</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">openapi.yaml</span><span class="w">  </span><span class="c1"># Optional: target document</span>
<a id="__codelineno-24-6" name="__codelineno-24-6" href="#__codelineno-24-6"></a><span class="nt">actions</span><span class="p">:</span>
<a id="__codelineno-24-7" name="__codelineno-24-7" href="#__codelineno-24-7"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">target</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">$.info</span>
<a id="__codelineno-24-8" name="__codelineno-24-8" href="#__codelineno-24-8"></a><span class="w">    </span><span class="nt">update</span><span class="p">:</span>
<a id="__codelineno-24-9" name="__codelineno-24-9" href="#__codelineno-24-9"></a><span class="w">      </span><span class="nt">x-environment</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">production</span>
<a id="__codelineno-24-10" name="__codelineno-24-10" href="#__codelineno-24-10"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">target</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">$.servers[?(@.description == &#39;Development&#39;)]</span>
<a id="__codelineno-24-11" name="__codelineno-24-11" href="#__codelineno-24-11"></a><span class="w">    </span><span class="nt">remove</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
</code></pre></div>
<h3 id="92-action-types">9.2 Action Types</h3>
<p><strong>Update Actions</strong> merge content at the target location.</p>
<p>When updating objects, properties from the overlay are merged with the target, with overlay values taking precedence for conflicting keys.</p>
<p>When updating arrays, the update value is appended to the target array.</p>
<p><strong>Remove Actions</strong> delete nodes at the target location.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-25-1" name="__codelineno-25-1" href="#__codelineno-25-1"></a><span class="nt">actions</span><span class="p">:</span>
<a id="__codelineno-25-2" name="__codelineno-25-2" href="#__codelineno-25-2"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">target</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">$.paths[&#39;/internal/*&#39;]</span>
<a id="__codelineno-25-3" name="__codelineno-25-3" href="#__codelineno-25-3"></a><span class="w">    </span><span class="nt">remove</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
</code></pre></div>
<h3 id="93-jsonpath-support">9.3 JSONPath Support</h3>
<p>The overlay package implements <a href="https://datatracker.ietf.org/doc/html/rfc9535">JSONPath per RFC 9535</a> with comprehensive feature support.</p>
<p><strong>Supported Syntax:</strong></p>
<table>
<thead>
<tr>
<th>Expression</th>
<th>Description</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>$</code></td>
<td>Root object</td>
<td><code>$</code></td>
</tr>
<tr>
<td><code>.property</code></td>
<td>Child access</td>
<td><code>$.info.title</code></td>
</tr>
<tr>
<td><code>[name]</code></td>
<td>Bracket notation</td>
<td><code>$.paths['/users']</code></td>
</tr>
<tr>
<td><code>*</code></td>
<td>Wildcard</td>
<td><code>$.paths.*</code></td>
</tr>
<tr>
<td><code>[0]</code></td>
<td>Array index</td>
<td><code>$.servers[0]</code></td>
</tr>
<tr>
<td><code>[-1]</code></td>
<td>Negative index</td>
<td><code>$.tags[-1]</code></td>
</tr>
<tr>
<td><code>[0:3]</code></td>
<td>Slice</td>
<td><code>$.servers[0:3]</code></td>
</tr>
<tr>
<td><code>..</code></td>
<td>Recursive descent</td>
<td><code>$..schema</code></td>
</tr>
<tr>
<td><code>[?()]</code></td>
<td>Filter expression</td>
<td><code>$.paths.*[?(@.deprecated == true)]</code></td>
</tr>
</tbody>
</table>
<p><strong>Filter Operators:</strong></p>
<p>Comparison operators include <code>==</code>, <code>!=</code>, <code>&lt;</code>, <code>&gt;</code>, <code>&lt;=</code>, and <code>&gt;=</code>. Logical operators include <code>&amp;&amp;</code> (and), <code>||</code> (or), and <code>!</code> (not). Existence checks use <code>@.property</code> to test if property exists.</p>
<h3 id="94-dry-run-mode">9.4 Dry-Run Mode</h3>
<p>Preview changes without applying them.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-26-1" name="__codelineno-26-1" href="#__codelineno-26-1"></a><span class="nx">dryRun</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">overlay</span><span class="p">.</span><span class="nx">DryRunWithOptions</span><span class="p">(</span>
<a id="__codelineno-26-2" name="__codelineno-26-2" href="#__codelineno-26-2"></a><span class="w">    </span><span class="nx">overlay</span><span class="p">.</span><span class="nx">WithSpecFilePath</span><span class="p">(</span><span class="s">&quot;openapi.yaml&quot;</span><span class="p">),</span>
<a id="__codelineno-26-3" name="__codelineno-26-3" href="#__codelineno-26-3"></a><span class="w">    </span><span class="nx">overlay</span><span class="p">.</span><span class="nx">WithOverlayFilePath</span><span class="p">(</span><span class="s">&quot;changes.yaml&quot;</span><span class="p">),</span>
<a id="__codelineno-26-4" name="__codelineno-26-4" href="#__codelineno-26-4"></a><span class="p">)</span>
<a id="__codelineno-26-5" name="__codelineno-26-5" href="#__codelineno-26-5"></a>
<a id="__codelineno-26-6" name="__codelineno-26-6" href="#__codelineno-26-6"></a><span class="k">for</span><span class="w"> </span><span class="nx">_</span><span class="p">,</span><span class="w"> </span><span class="nx">change</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="k">range</span><span class="w"> </span><span class="nx">dryRun</span><span class="p">.</span><span class="nx">Changes</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-26-7" name="__codelineno-26-7" href="#__codelineno-26-7"></a><span class="w">    </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Printf</span><span class="p">(</span><span class="s">&quot;Would %s %d nodes at %s\n&quot;</span><span class="p">,</span>
<a id="__codelineno-26-8" name="__codelineno-26-8" href="#__codelineno-26-8"></a><span class="w">        </span><span class="nx">change</span><span class="p">.</span><span class="nx">Operation</span><span class="p">,</span><span class="w"> </span><span class="nx">change</span><span class="p">.</span><span class="nx">MatchCount</span><span class="p">,</span><span class="w"> </span><span class="nx">change</span><span class="p">.</span><span class="nx">Target</span><span class="p">)</span>
<a id="__codelineno-26-9" name="__codelineno-26-9" href="#__codelineno-26-9"></a><span class="p">}</span>
</code></pre></div>
<h3 id="95-strict-targets">9.5 Strict Targets</h3>
<p>Enable strict mode to fail when targets match no nodes.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-27-1" name="__codelineno-27-1" href="#__codelineno-27-1"></a><span class="nx">result</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">overlay</span><span class="p">.</span><span class="nx">ApplyWithOptions</span><span class="p">(</span>
<a id="__codelineno-27-2" name="__codelineno-27-2" href="#__codelineno-27-2"></a><span class="w">    </span><span class="nx">overlay</span><span class="p">.</span><span class="nx">WithSpecFilePath</span><span class="p">(</span><span class="s">&quot;openapi.yaml&quot;</span><span class="p">),</span>
<a id="__codelineno-27-3" name="__codelineno-27-3" href="#__codelineno-27-3"></a><span class="w">    </span><span class="nx">overlay</span><span class="p">.</span><span class="nx">WithOverlayFilePath</span><span class="p">(</span><span class="s">&quot;changes.yaml&quot;</span><span class="p">),</span>
<a id="__codelineno-27-4" name="__codelineno-27-4" href="#__codelineno-27-4"></a><span class="w">    </span><span class="nx">overlay</span><span class="p">.</span><span class="nx">WithStrictTargets</span><span class="p">(</span><span class="kc">true</span><span class="p">),</span>
<a id="__codelineno-27-5" name="__codelineno-27-5" href="#__codelineno-27-5"></a><span class="p">)</span>
</code></pre></div>
<hr />
<h2 id="10-differ-package">10. Differ Package</h2>
<blockquote>
<p><strong>Links:</strong> <a href="https://pkg.go.dev/github.com/erraggy/oastools/differ">pkg.go.dev</a> | <a href="../packages/differ/">Deep Dive</a></p>
</blockquote>
<p>The differ package compares OpenAPI documents to detect changes, with special focus on identifying breaking changes that may affect API consumers.</p>
<h3 id="101-diff-modes">10.1 Diff Modes</h3>
<p><strong>Simple Mode (ModeSimple):</strong> Reports all differences between documents without severity classification.</p>
<p><strong>Breaking Mode (ModeBreaking):</strong> Categorizes differences by their impact on API consumers.</p>
<h3 id="102-change-categories">10.2 Change Categories</h3>
<p>Changes are grouped by their location in the specification.</p>
<table>
<thead>
<tr>
<th>Category</th>
<th>Examples</th>
</tr>
</thead>
<tbody>
<tr>
<td>Endpoint</td>
<td>Path added/removed</td>
</tr>
<tr>
<td>Operation</td>
<td>Method added/removed/changed</td>
</tr>
<tr>
<td>Parameter</td>
<td>Parameter added/removed/modified</td>
</tr>
<tr>
<td>RequestBody</td>
<td>Request body changed</td>
</tr>
<tr>
<td>Response</td>
<td>Response added/removed/modified</td>
</tr>
<tr>
<td>Schema</td>
<td>Schema definition changed</td>
</tr>
<tr>
<td>Security</td>
<td>Security requirements changed</td>
</tr>
<tr>
<td>Server</td>
<td>Server configuration changed</td>
</tr>
</tbody>
</table>
<h3 id="103-severity-levels">10.3 Severity Levels</h3>
<p>In breaking mode, changes are classified by severity.</p>
<p><strong>Critical</strong> changes will break existing clients. Examples include removing endpoints, making optional parameters required, and changing parameter types.</p>
<p><strong>Error</strong> changes are likely to cause problems. Examples include removing response schemas and changing required fields.</p>
<p><strong>Warning</strong> changes may affect some clients. Examples include adding new required parameters with defaults and changing descriptions.</p>
<p><strong>Info</strong> changes are additive or cosmetic. Examples include adding new optional endpoints and updating documentation.</p>
<h3 id="104-api-usage">10.4 API Usage</h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-28-1" name="__codelineno-28-1" href="#__codelineno-28-1"></a><span class="nx">result</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">differ</span><span class="p">.</span><span class="nx">DiffWithOptions</span><span class="p">(</span>
<a id="__codelineno-28-2" name="__codelineno-28-2" href="#__codelineno-28-2"></a><span class="w">    </span><span class="nx">differ</span><span class="p">.</span><span class="nx">WithSourceFilePath</span><span class="p">(</span><span class="s">&quot;v1.yaml&quot;</span><span class="p">),</span>
<a id="__codelineno-28-3" name="__codelineno-28-3" href="#__codelineno-28-3"></a><span class="w">    </span><span class="nx">differ</span><span class="p">.</span><span class="nx">WithTargetFilePath</span><span class="p">(</span><span class="s">&quot;v2.yaml&quot;</span><span class="p">),</span>
<a id="__codelineno-28-4" name="__codelineno-28-4" href="#__codelineno-28-4"></a><span class="w">    </span><span class="nx">differ</span><span class="p">.</span><span class="nx">WithMode</span><span class="p">(</span><span class="nx">differ</span><span class="p">.</span><span class="nx">ModeBreaking</span><span class="p">),</span>
<a id="__codelineno-28-5" name="__codelineno-28-5" href="#__codelineno-28-5"></a><span class="p">)</span>
<a id="__codelineno-28-6" name="__codelineno-28-6" href="#__codelineno-28-6"></a>
<a id="__codelineno-28-7" name="__codelineno-28-7" href="#__codelineno-28-7"></a><span class="nx">fmt</span><span class="p">.</span><span class="nx">Printf</span><span class="p">(</span><span class="s">&quot;Changes: %d Breaking, %d Warning\n&quot;</span><span class="p">,</span>
<a id="__codelineno-28-8" name="__codelineno-28-8" href="#__codelineno-28-8"></a><span class="w">    </span><span class="nx">result</span><span class="p">.</span><span class="nx">BreakingCount</span><span class="p">,</span><span class="w"> </span><span class="nx">result</span><span class="p">.</span><span class="nx">WarningCount</span><span class="p">)</span>
<a id="__codelineno-28-9" name="__codelineno-28-9" href="#__codelineno-28-9"></a>
<a id="__codelineno-28-10" name="__codelineno-28-10" href="#__codelineno-28-10"></a><span class="k">for</span><span class="w"> </span><span class="nx">_</span><span class="p">,</span><span class="w"> </span><span class="nx">change</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="k">range</span><span class="w"> </span><span class="nx">result</span><span class="p">.</span><span class="nx">Changes</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-28-11" name="__codelineno-28-11" href="#__codelineno-28-11"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="nx">change</span><span class="p">.</span><span class="nx">Severity</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nx">differ</span><span class="p">.</span><span class="nx">SeverityCritical</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-28-12" name="__codelineno-28-12" href="#__codelineno-28-12"></a><span class="w">        </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Printf</span><span class="p">(</span><span class="s">&quot;BREAKING: %s - %s\n&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">change</span><span class="p">.</span><span class="nx">Path</span><span class="p">,</span><span class="w"> </span><span class="nx">change</span><span class="p">.</span><span class="nx">Message</span><span class="p">)</span>
<a id="__codelineno-28-13" name="__codelineno-28-13" href="#__codelineno-28-13"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-28-14" name="__codelineno-28-14" href="#__codelineno-28-14"></a><span class="p">}</span>
</code></pre></div>
<h3 id="105-pre-parsed-comparison">10.5 Pre-Parsed Comparison</h3>
<p>For comparing multiple versions, parse once and diff repeatedly.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-29-1" name="__codelineno-29-1" href="#__codelineno-29-1"></a><span class="nx">v1</span><span class="p">,</span><span class="w"> </span><span class="nx">_</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">parser</span><span class="p">.</span><span class="nx">ParseWithOptions</span><span class="p">(</span><span class="nx">parser</span><span class="p">.</span><span class="nx">WithFilePath</span><span class="p">(</span><span class="s">&quot;v1.yaml&quot;</span><span class="p">))</span>
<a id="__codelineno-29-2" name="__codelineno-29-2" href="#__codelineno-29-2"></a><span class="nx">v2</span><span class="p">,</span><span class="w"> </span><span class="nx">_</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">parser</span><span class="p">.</span><span class="nx">ParseWithOptions</span><span class="p">(</span><span class="nx">parser</span><span class="p">.</span><span class="nx">WithFilePath</span><span class="p">(</span><span class="s">&quot;v2.yaml&quot;</span><span class="p">))</span>
<a id="__codelineno-29-3" name="__codelineno-29-3" href="#__codelineno-29-3"></a><span class="nx">v3</span><span class="p">,</span><span class="w"> </span><span class="nx">_</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">parser</span><span class="p">.</span><span class="nx">ParseWithOptions</span><span class="p">(</span><span class="nx">parser</span><span class="p">.</span><span class="nx">WithFilePath</span><span class="p">(</span><span class="s">&quot;v3.yaml&quot;</span><span class="p">))</span>
<a id="__codelineno-29-4" name="__codelineno-29-4" href="#__codelineno-29-4"></a>
<a id="__codelineno-29-5" name="__codelineno-29-5" href="#__codelineno-29-5"></a><span class="nx">diff12</span><span class="p">,</span><span class="w"> </span><span class="nx">_</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">differ</span><span class="p">.</span><span class="nx">DiffWithOptions</span><span class="p">(</span>
<a id="__codelineno-29-6" name="__codelineno-29-6" href="#__codelineno-29-6"></a><span class="w">    </span><span class="nx">differ</span><span class="p">.</span><span class="nx">WithSourceParsed</span><span class="p">(</span><span class="o">*</span><span class="nx">v1</span><span class="p">),</span>
<a id="__codelineno-29-7" name="__codelineno-29-7" href="#__codelineno-29-7"></a><span class="w">    </span><span class="nx">differ</span><span class="p">.</span><span class="nx">WithTargetParsed</span><span class="p">(</span><span class="o">*</span><span class="nx">v2</span><span class="p">),</span>
<a id="__codelineno-29-8" name="__codelineno-29-8" href="#__codelineno-29-8"></a><span class="p">)</span>
<a id="__codelineno-29-9" name="__codelineno-29-9" href="#__codelineno-29-9"></a><span class="nx">diff23</span><span class="p">,</span><span class="w"> </span><span class="nx">_</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">differ</span><span class="p">.</span><span class="nx">DiffWithOptions</span><span class="p">(</span>
<a id="__codelineno-29-10" name="__codelineno-29-10" href="#__codelineno-29-10"></a><span class="w">    </span><span class="nx">differ</span><span class="p">.</span><span class="nx">WithSourceParsed</span><span class="p">(</span><span class="o">*</span><span class="nx">v2</span><span class="p">),</span>
<a id="__codelineno-29-11" name="__codelineno-29-11" href="#__codelineno-29-11"></a><span class="w">    </span><span class="nx">differ</span><span class="p">.</span><span class="nx">WithTargetParsed</span><span class="p">(</span><span class="o">*</span><span class="nx">v3</span><span class="p">),</span>
<a id="__codelineno-29-12" name="__codelineno-29-12" href="#__codelineno-29-12"></a><span class="p">)</span>
</code></pre></div>
<hr />
<h2 id="11-generator-package">11. Generator Package</h2>
<blockquote>
<p><strong>Links:</strong> <a href="https://pkg.go.dev/github.com/erraggy/oastools/generator">pkg.go.dev</a> | <a href="../packages/generator/">Deep Dive</a></p>
</blockquote>
<p>The generator package produces idiomatic Go code from OpenAPI specifications, with comprehensive support for authentication, file organization, and both client and server generation.</p>
<h3 id="111-generation-modes">11.1 Generation Modes</h3>
<p><strong>Client Mode</strong> generates an HTTP client with typed methods for each operation, request/response serialization, error handling, and authentication support.</p>
<p><strong>Server Mode</strong> generates interface definitions that server implementations must satisfy, providing compile-time type safety for API contracts.</p>
<p><strong>Types Mode</strong> generates Go structs from schema definitions, suitable for use across client and server implementations.</p>
<h3 id="112-type-mapping">11.2 Type Mapping</h3>
<p>OpenAPI types map to Go types according to established conventions.</p>
<table>
<thead>
<tr>
<th>OpenAPI Type</th>
<th>Go Type</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td>string</td>
<td>string</td>
<td></td>
</tr>
<tr>
<td>string (format: date-time)</td>
<td>time.Time</td>
<td></td>
</tr>
<tr>
<td>string (format: uuid)</td>
<td>string</td>
<td>Can use uuid package</td>
</tr>
<tr>
<td>integer</td>
<td>int64</td>
<td></td>
</tr>
<tr>
<td>integer (format: int32)</td>
<td>int32</td>
<td></td>
</tr>
<tr>
<td>number</td>
<td>float64</td>
<td></td>
</tr>
<tr>
<td>number (format: float)</td>
<td>float32</td>
<td></td>
</tr>
<tr>
<td>boolean</td>
<td>bool</td>
<td></td>
</tr>
<tr>
<td>array</td>
<td>[]T</td>
<td></td>
</tr>
<tr>
<td>object</td>
<td>struct or map[string]T</td>
<td></td>
</tr>
<tr>
<td>oneOf/anyOf</td>
<td>interface{}</td>
<td>Or discriminated types</td>
</tr>
</tbody>
</table>
<h3 id="113-security-generation">11.3 Security Generation</h3>
<p>The generator provides comprehensive authentication support based on <a href="https://datatracker.ietf.org/doc/html/rfc6749">RFC 6749</a> (OAuth 2.0) and <a href="https://datatracker.ietf.org/doc/html/rfc7636">RFC 7636</a> (PKCE).</p>
<p><strong>API Key Authentication:</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-30-1" name="__codelineno-30-1" href="#__codelineno-30-1"></a><span class="c1">// Generated helper</span>
<a id="__codelineno-30-2" name="__codelineno-30-2" href="#__codelineno-30-2"></a><span class="kd">func</span><span class="w"> </span><span class="nx">WithPetstoreAPIKey</span><span class="p">(</span><span class="nx">key</span><span class="w"> </span><span class="kt">string</span><span class="p">)</span><span class="w"> </span><span class="nx">ClientOption</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-30-3" name="__codelineno-30-3" href="#__codelineno-30-3"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="kd">func</span><span class="p">(</span><span class="nx">c</span><span class="w"> </span><span class="o">*</span><span class="nx">Client</span><span class="p">)</span><span class="w"> </span><span class="kt">error</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-30-4" name="__codelineno-30-4" href="#__codelineno-30-4"></a><span class="w">        </span><span class="nx">c</span><span class="p">.</span><span class="nx">apiKey</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">key</span>
<a id="__codelineno-30-5" name="__codelineno-30-5" href="#__codelineno-30-5"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="kc">nil</span>
<a id="__codelineno-30-6" name="__codelineno-30-6" href="#__codelineno-30-6"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-30-7" name="__codelineno-30-7" href="#__codelineno-30-7"></a><span class="p">}</span>
<a id="__codelineno-30-8" name="__codelineno-30-8" href="#__codelineno-30-8"></a>
<a id="__codelineno-30-9" name="__codelineno-30-9" href="#__codelineno-30-9"></a><span class="c1">// Usage</span>
<a id="__codelineno-30-10" name="__codelineno-30-10" href="#__codelineno-30-10"></a><span class="nx">client</span><span class="p">,</span><span class="w"> </span><span class="nx">_</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">NewClient</span><span class="p">(</span><span class="nx">baseURL</span><span class="p">,</span><span class="w"> </span><span class="nx">WithPetstoreAPIKey</span><span class="p">(</span><span class="s">&quot;my-key&quot;</span><span class="p">))</span>
</code></pre></div>
<p><strong>HTTP Basic/Bearer:</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-31-1" name="__codelineno-31-1" href="#__codelineno-31-1"></a><span class="kd">func</span><span class="w"> </span><span class="nx">WithBasicAuth</span><span class="p">(</span><span class="nx">username</span><span class="p">,</span><span class="w"> </span><span class="nx">password</span><span class="w"> </span><span class="kt">string</span><span class="p">)</span><span class="w"> </span><span class="nx">ClientOption</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="o">...</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-31-2" name="__codelineno-31-2" href="#__codelineno-31-2"></a><span class="kd">func</span><span class="w"> </span><span class="nx">WithBearerToken</span><span class="p">(</span><span class="nx">token</span><span class="w"> </span><span class="kt">string</span><span class="p">)</span><span class="w"> </span><span class="nx">ClientOption</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="o">...</span><span class="w"> </span><span class="p">}</span>
</code></pre></div>
<p><strong>OAuth2 Flows:</strong></p>
<p>When <code>GenerateOAuth2Flows</code> is enabled, the generator produces complete <a href="https://datatracker.ietf.org/doc/html/rfc6749">OAuth2</a> clients for each security scheme.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-32-1" name="__codelineno-32-1" href="#__codelineno-32-1"></a><span class="c1">// Generated OAuth2 client</span>
<a id="__codelineno-32-2" name="__codelineno-32-2" href="#__codelineno-32-2"></a><span class="kd">type</span><span class="w"> </span><span class="nx">PetstoreAuthOAuth2Client</span><span class="w"> </span><span class="kd">struct</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-32-3" name="__codelineno-32-3" href="#__codelineno-32-3"></a><span class="w">    </span><span class="nx">Config</span><span class="w">           </span><span class="nx">OAuth2Config</span>
<a id="__codelineno-32-4" name="__codelineno-32-4" href="#__codelineno-32-4"></a><span class="w">    </span><span class="nx">AuthorizationURL</span><span class="w"> </span><span class="kt">string</span>
<a id="__codelineno-32-5" name="__codelineno-32-5" href="#__codelineno-32-5"></a><span class="w">    </span><span class="nx">TokenURL</span><span class="w">         </span><span class="kt">string</span>
<a id="__codelineno-32-6" name="__codelineno-32-6" href="#__codelineno-32-6"></a><span class="p">}</span>
<a id="__codelineno-32-7" name="__codelineno-32-7" href="#__codelineno-32-7"></a>
<a id="__codelineno-32-8" name="__codelineno-32-8" href="#__codelineno-32-8"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">c</span><span class="w"> </span><span class="o">*</span><span class="nx">PetstoreAuthOAuth2Client</span><span class="p">)</span><span class="w"> </span><span class="nx">GetAuthorizationURL</span><span class="p">(</span><span class="nx">state</span><span class="w"> </span><span class="kt">string</span><span class="p">)</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="o">...</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-32-9" name="__codelineno-32-9" href="#__codelineno-32-9"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">c</span><span class="w"> </span><span class="o">*</span><span class="nx">PetstoreAuthOAuth2Client</span><span class="p">)</span><span class="w"> </span><span class="nx">ExchangeCode</span><span class="p">(</span><span class="nx">ctx</span><span class="w"> </span><span class="nx">context</span><span class="p">.</span><span class="nx">Context</span><span class="p">,</span><span class="w"> </span><span class="nx">code</span><span class="w"> </span><span class="kt">string</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="nx">OAuth2Token</span><span class="p">,</span><span class="w"> </span><span class="kt">error</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="o">...</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-32-10" name="__codelineno-32-10" href="#__codelineno-32-10"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">c</span><span class="w"> </span><span class="o">*</span><span class="nx">PetstoreAuthOAuth2Client</span><span class="p">)</span><span class="w"> </span><span class="nx">GetClientCredentialsToken</span><span class="p">(</span><span class="nx">ctx</span><span class="w"> </span><span class="nx">context</span><span class="p">.</span><span class="nx">Context</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="nx">OAuth2Token</span><span class="p">,</span><span class="w"> </span><span class="kt">error</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="o">...</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-32-11" name="__codelineno-32-11" href="#__codelineno-32-11"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">c</span><span class="w"> </span><span class="o">*</span><span class="nx">PetstoreAuthOAuth2Client</span><span class="p">)</span><span class="w"> </span><span class="nx">RefreshToken</span><span class="p">(</span><span class="nx">ctx</span><span class="w"> </span><span class="nx">context</span><span class="p">.</span><span class="nx">Context</span><span class="p">,</span><span class="w"> </span><span class="nx">refreshToken</span><span class="w"> </span><span class="kt">string</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="nx">OAuth2Token</span><span class="p">,</span><span class="w"> </span><span class="kt">error</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="o">...</span><span class="w"> </span><span class="p">}</span>
</code></pre></div>
<p><strong>PKCE Support (<a href="https://datatracker.ietf.org/doc/html/rfc7636">RFC 7636</a>):</strong></p>
<p>Authorization code flow includes PKCE for enhanced security.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-33-1" name="__codelineno-33-1" href="#__codelineno-33-1"></a><span class="nx">verifier</span><span class="p">,</span><span class="w"> </span><span class="nx">challenge</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">GeneratePKCE</span><span class="p">()</span>
<a id="__codelineno-33-2" name="__codelineno-33-2" href="#__codelineno-33-2"></a><span class="nx">authURL</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">oauth2Client</span><span class="p">.</span><span class="nx">GetAuthorizationURLWithPKCE</span><span class="p">(</span><span class="nx">state</span><span class="p">,</span><span class="w"> </span><span class="nx">challenge</span><span class="p">)</span>
<a id="__codelineno-33-3" name="__codelineno-33-3" href="#__codelineno-33-3"></a><span class="c1">// After redirect...</span>
<a id="__codelineno-33-4" name="__codelineno-33-4" href="#__codelineno-33-4"></a><span class="nx">token</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">oauth2Client</span><span class="p">.</span><span class="nx">ExchangeCodeWithPKCE</span><span class="p">(</span><span class="nx">ctx</span><span class="p">,</span><span class="w"> </span><span class="nx">code</span><span class="p">,</span><span class="w"> </span><span class="nx">verifier</span><span class="p">)</span>
</code></pre></div>
<p><strong>OpenID Connect Discovery:</strong></p>
<p>When <code>GenerateOIDCDiscovery</code> is enabled, an OIDC discovery client is generated.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-34-1" name="__codelineno-34-1" href="#__codelineno-34-1"></a><span class="nx">discovery</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">NewOIDCDiscoveryClient</span><span class="p">(</span><span class="nx">discoveryURL</span><span class="p">)</span>
<a id="__codelineno-34-2" name="__codelineno-34-2" href="#__codelineno-34-2"></a><span class="nx">config</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">discovery</span><span class="p">.</span><span class="nx">GetConfiguration</span><span class="p">(</span><span class="nx">ctx</span><span class="p">)</span>
<a id="__codelineno-34-3" name="__codelineno-34-3" href="#__codelineno-34-3"></a><span class="c1">// config contains authorization_endpoint, token_endpoint, etc.</span>
</code></pre></div>
<h3 id="114-credential-management">11.4 Credential Management</h3>
<p>The generator produces a credential provider system for secure credential handling.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-35-1" name="__codelineno-35-1" href="#__codelineno-35-1"></a><span class="c1">// Generated interfaces</span>
<a id="__codelineno-35-2" name="__codelineno-35-2" href="#__codelineno-35-2"></a><span class="kd">type</span><span class="w"> </span><span class="nx">CredentialProvider</span><span class="w"> </span><span class="kd">interface</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-35-3" name="__codelineno-35-3" href="#__codelineno-35-3"></a><span class="w">    </span><span class="nx">GetCredential</span><span class="p">(</span><span class="nx">ctx</span><span class="w"> </span><span class="nx">context</span><span class="p">.</span><span class="nx">Context</span><span class="p">,</span><span class="w"> </span><span class="nx">scheme</span><span class="w"> </span><span class="kt">string</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="kt">error</span><span class="p">)</span>
<a id="__codelineno-35-4" name="__codelineno-35-4" href="#__codelineno-35-4"></a><span class="p">}</span>
<a id="__codelineno-35-5" name="__codelineno-35-5" href="#__codelineno-35-5"></a>
<a id="__codelineno-35-6" name="__codelineno-35-6" href="#__codelineno-35-6"></a><span class="c1">// Built-in implementations</span>
<a id="__codelineno-35-7" name="__codelineno-35-7" href="#__codelineno-35-7"></a><span class="kd">type</span><span class="w"> </span><span class="nx">MemoryCredentialProvider</span><span class="w"> </span><span class="kd">struct</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="o">...</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-35-8" name="__codelineno-35-8" href="#__codelineno-35-8"></a><span class="kd">type</span><span class="w"> </span><span class="nx">EnvCredentialProvider</span><span class="w"> </span><span class="kd">struct</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="o">...</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-35-9" name="__codelineno-35-9" href="#__codelineno-35-9"></a><span class="kd">type</span><span class="w"> </span><span class="nx">CredentialChain</span><span class="w"> </span><span class="kd">struct</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="o">...</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-35-10" name="__codelineno-35-10" href="#__codelineno-35-10"></a>
<a id="__codelineno-35-11" name="__codelineno-35-11" href="#__codelineno-35-11"></a><span class="c1">// Usage</span>
<a id="__codelineno-35-12" name="__codelineno-35-12" href="#__codelineno-35-12"></a><span class="nx">provider</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">NewCredentialChain</span><span class="p">(</span>
<a id="__codelineno-35-13" name="__codelineno-35-13" href="#__codelineno-35-13"></a><span class="w">    </span><span class="nx">NewEnvCredentialProvider</span><span class="p">(</span><span class="s">&quot;API_KEY&quot;</span><span class="p">),</span>
<a id="__codelineno-35-14" name="__codelineno-35-14" href="#__codelineno-35-14"></a><span class="w">    </span><span class="nx">NewMemoryCredentialProvider</span><span class="p">(</span><span class="nx">credentials</span><span class="p">),</span>
<a id="__codelineno-35-15" name="__codelineno-35-15" href="#__codelineno-35-15"></a><span class="p">)</span>
<a id="__codelineno-35-16" name="__codelineno-35-16" href="#__codelineno-35-16"></a><span class="nx">client</span><span class="p">,</span><span class="w"> </span><span class="nx">_</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">NewClient</span><span class="p">(</span><span class="nx">baseURL</span><span class="p">,</span><span class="w"> </span><span class="nx">WithCredentialProvider</span><span class="p">(</span><span class="nx">provider</span><span class="p">))</span>
</code></pre></div>
<h3 id="115-server-extensions">11.5 Server Extensions</h3>
<p>Server generation includes optional extensions for complete server implementation.</p>
<table>
<thead>
<tr>
<th>Extension</th>
<th>File</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>ServerRouter</code></td>
<td><code>server_router.go</code></td>
<td>HTTP router with path matching</td>
</tr>
<tr>
<td><code>ServerMiddleware</code></td>
<td><code>server_middleware.go</code></td>
<td>Request/response validation</td>
</tr>
<tr>
<td><code>ServerBinder</code></td>
<td><code>server_binder.go</code></td>
<td>Type-safe parameter binding</td>
</tr>
<tr>
<td><code>ServerResponses</code></td>
<td><code>server_responses.go</code></td>
<td>Typed response writers</td>
</tr>
<tr>
<td><code>ServerStubs</code></td>
<td><code>server_stubs.go</code></td>
<td>Stub implementations for testing</td>
</tr>
<tr>
<td><code>SecurityEnforce</code></td>
<td><code>security_enforce.go</code></td>
<td>Server-side security enforcement</td>
</tr>
</tbody>
</table>
<h3 id="116-file-splitting">11.6 File Splitting</h3>
<p>Large APIs can be split across multiple files for better organization and compilation times.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-36-1" name="__codelineno-36-1" href="#__codelineno-36-1"></a><span class="nx">result</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">generator</span><span class="p">.</span><span class="nx">GenerateWithOptions</span><span class="p">(</span>
<a id="__codelineno-36-2" name="__codelineno-36-2" href="#__codelineno-36-2"></a><span class="w">    </span><span class="nx">generator</span><span class="p">.</span><span class="nx">WithFilePath</span><span class="p">(</span><span class="s">&quot;large-api.yaml&quot;</span><span class="p">),</span>
<a id="__codelineno-36-3" name="__codelineno-36-3" href="#__codelineno-36-3"></a><span class="w">    </span><span class="nx">generator</span><span class="p">.</span><span class="nx">WithMaxLinesPerFile</span><span class="p">(</span><span class="mi">500</span><span class="p">),</span>
<a id="__codelineno-36-4" name="__codelineno-36-4" href="#__codelineno-36-4"></a><span class="w">    </span><span class="nx">generator</span><span class="p">.</span><span class="nx">WithSplitByTag</span><span class="p">(</span><span class="kc">true</span><span class="p">),</span>
<a id="__codelineno-36-5" name="__codelineno-36-5" href="#__codelineno-36-5"></a><span class="w">    </span><span class="nx">generator</span><span class="p">.</span><span class="nx">WithClient</span><span class="p">(</span><span class="kc">true</span><span class="p">),</span>
<a id="__codelineno-36-6" name="__codelineno-36-6" href="#__codelineno-36-6"></a><span class="p">)</span>
</code></pre></div>
<h3 id="117-api-usage">11.7 API Usage</h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-37-1" name="__codelineno-37-1" href="#__codelineno-37-1"></a><span class="nx">result</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">generator</span><span class="p">.</span><span class="nx">GenerateWithOptions</span><span class="p">(</span>
<a id="__codelineno-37-2" name="__codelineno-37-2" href="#__codelineno-37-2"></a><span class="w">    </span><span class="nx">generator</span><span class="p">.</span><span class="nx">WithFilePath</span><span class="p">(</span><span class="s">&quot;petstore.yaml&quot;</span><span class="p">),</span>
<a id="__codelineno-37-3" name="__codelineno-37-3" href="#__codelineno-37-3"></a><span class="w">    </span><span class="nx">generator</span><span class="p">.</span><span class="nx">WithPackageName</span><span class="p">(</span><span class="s">&quot;petstore&quot;</span><span class="p">),</span>
<a id="__codelineno-37-4" name="__codelineno-37-4" href="#__codelineno-37-4"></a><span class="w">    </span><span class="nx">generator</span><span class="p">.</span><span class="nx">WithClient</span><span class="p">(</span><span class="kc">true</span><span class="p">),</span>
<a id="__codelineno-37-5" name="__codelineno-37-5" href="#__codelineno-37-5"></a><span class="w">    </span><span class="nx">generator</span><span class="p">.</span><span class="nx">WithServer</span><span class="p">(</span><span class="kc">true</span><span class="p">),</span>
<a id="__codelineno-37-6" name="__codelineno-37-6" href="#__codelineno-37-6"></a><span class="w">    </span><span class="nx">generator</span><span class="p">.</span><span class="nx">WithServerAll</span><span class="p">(),</span><span class="w"> </span><span class="c1">// All server extensions</span>
<a id="__codelineno-37-7" name="__codelineno-37-7" href="#__codelineno-37-7"></a><span class="w">    </span><span class="nx">generator</span><span class="p">.</span><span class="nx">WithOAuth2Flows</span><span class="p">(</span><span class="kc">true</span><span class="p">),</span>
<a id="__codelineno-37-8" name="__codelineno-37-8" href="#__codelineno-37-8"></a><span class="w">    </span><span class="nx">generator</span><span class="p">.</span><span class="nx">WithCredentialMgmt</span><span class="p">(</span><span class="kc">true</span><span class="p">),</span>
<a id="__codelineno-37-9" name="__codelineno-37-9" href="#__codelineno-37-9"></a><span class="w">    </span><span class="nx">generator</span><span class="p">.</span><span class="nx">WithOIDCDiscovery</span><span class="p">(</span><span class="kc">true</span><span class="p">),</span>
<a id="__codelineno-37-10" name="__codelineno-37-10" href="#__codelineno-37-10"></a><span class="w">    </span><span class="nx">generator</span><span class="p">.</span><span class="nx">WithReadme</span><span class="p">(</span><span class="kc">true</span><span class="p">),</span>
<a id="__codelineno-37-11" name="__codelineno-37-11" href="#__codelineno-37-11"></a><span class="p">)</span>
<a id="__codelineno-37-12" name="__codelineno-37-12" href="#__codelineno-37-12"></a>
<a id="__codelineno-37-13" name="__codelineno-37-13" href="#__codelineno-37-13"></a><span class="k">for</span><span class="w"> </span><span class="nx">_</span><span class="p">,</span><span class="w"> </span><span class="nx">file</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="k">range</span><span class="w"> </span><span class="nx">result</span><span class="p">.</span><span class="nx">Files</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-37-14" name="__codelineno-37-14" href="#__codelineno-37-14"></a><span class="w">    </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Printf</span><span class="p">(</span><span class="s">&quot;Generated %s (%d bytes)\n&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">file</span><span class="p">.</span><span class="nx">Name</span><span class="p">,</span><span class="w"> </span><span class="nb">len</span><span class="p">(</span><span class="nx">file</span><span class="p">.</span><span class="nx">Content</span><span class="p">))</span>
<a id="__codelineno-37-15" name="__codelineno-37-15" href="#__codelineno-37-15"></a><span class="p">}</span>
</code></pre></div>
<hr />
<h2 id="12-builder-package">12. Builder Package</h2>
<blockquote>
<p><strong>Links:</strong> <a href="https://pkg.go.dev/github.com/erraggy/oastools/builder">pkg.go.dev</a> | <a href="../packages/builder/">Deep Dive</a></p>
</blockquote>
<p>The builder package enables programmatic construction of OpenAPI documents, with reflection-based schema generation from Go types.</p>
<h3 id="121-document-construction">12.1 Document Construction</h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-38-1" name="__codelineno-38-1" href="#__codelineno-38-1"></a><span class="nx">spec</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">builder</span><span class="p">.</span><span class="nx">New</span><span class="p">(</span><span class="nx">parser</span><span class="p">.</span><span class="nx">OASVersion310</span><span class="p">)</span>
<a id="__codelineno-38-2" name="__codelineno-38-2" href="#__codelineno-38-2"></a><span class="nx">spec</span><span class="p">.</span><span class="nx">SetTitle</span><span class="p">(</span><span class="s">&quot;My API&quot;</span><span class="p">).</span>
<a id="__codelineno-38-3" name="__codelineno-38-3" href="#__codelineno-38-3"></a><span class="w">    </span><span class="nx">SetVersion</span><span class="p">(</span><span class="s">&quot;1.0.0&quot;</span><span class="p">).</span>
<a id="__codelineno-38-4" name="__codelineno-38-4" href="#__codelineno-38-4"></a><span class="w">    </span><span class="nx">SetDescription</span><span class="p">(</span><span class="s">&quot;A sample API&quot;</span><span class="p">).</span>
<a id="__codelineno-38-5" name="__codelineno-38-5" href="#__codelineno-38-5"></a><span class="w">    </span><span class="nx">AddServer</span><span class="p">(</span><span class="s">&quot;https://api.example.com&quot;</span><span class="p">,</span>
<a id="__codelineno-38-6" name="__codelineno-38-6" href="#__codelineno-38-6"></a><span class="w">        </span><span class="nx">builder</span><span class="p">.</span><span class="nx">WithServerDescription</span><span class="p">(</span><span class="s">&quot;Production&quot;</span><span class="p">))</span>
<a id="__codelineno-38-7" name="__codelineno-38-7" href="#__codelineno-38-7"></a>
<a id="__codelineno-38-8" name="__codelineno-38-8" href="#__codelineno-38-8"></a><span class="nx">spec</span><span class="p">.</span><span class="nx">AddOperation</span><span class="p">(</span><span class="nx">http</span><span class="p">.</span><span class="nx">MethodGet</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;/users&quot;</span><span class="p">,</span>
<a id="__codelineno-38-9" name="__codelineno-38-9" href="#__codelineno-38-9"></a><span class="w">    </span><span class="nx">builder</span><span class="p">.</span><span class="nx">WithOperationID</span><span class="p">(</span><span class="s">&quot;listUsers&quot;</span><span class="p">),</span>
<a id="__codelineno-38-10" name="__codelineno-38-10" href="#__codelineno-38-10"></a><span class="w">    </span><span class="nx">builder</span><span class="p">.</span><span class="nx">WithSummary</span><span class="p">(</span><span class="s">&quot;List users&quot;</span><span class="p">),</span>
<a id="__codelineno-38-11" name="__codelineno-38-11" href="#__codelineno-38-11"></a><span class="w">    </span><span class="nx">builder</span><span class="p">.</span><span class="nx">WithResponseRef</span><span class="p">(</span><span class="nx">http</span><span class="p">.</span><span class="nx">StatusOK</span><span class="p">,</span><span class="w"> </span><span class="nx">spec</span><span class="p">.</span><span class="nx">SchemaRef</span><span class="p">(</span><span class="s">&quot;UserList&quot;</span><span class="p">)),</span>
<a id="__codelineno-38-12" name="__codelineno-38-12" href="#__codelineno-38-12"></a><span class="p">)</span>
<a id="__codelineno-38-13" name="__codelineno-38-13" href="#__codelineno-38-13"></a>
<a id="__codelineno-38-14" name="__codelineno-38-14" href="#__codelineno-38-14"></a><span class="nx">doc</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">spec</span><span class="p">.</span><span class="nx">BuildOAS3</span><span class="p">()</span>
</code></pre></div>
<h3 id="122-reflection-based-schema-generation">12.2 Reflection-Based Schema Generation</h3>
<p>Generate OpenAPI schemas from Go types automatically.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-39-1" name="__codelineno-39-1" href="#__codelineno-39-1"></a><span class="kd">type</span><span class="w"> </span><span class="nx">User</span><span class="w"> </span><span class="kd">struct</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-39-2" name="__codelineno-39-2" href="#__codelineno-39-2"></a><span class="w">    </span><span class="nx">ID</span><span class="w">        </span><span class="kt">int64</span><span class="w">     </span><span class="s">`json:&quot;id&quot;`</span>
<a id="__codelineno-39-3" name="__codelineno-39-3" href="#__codelineno-39-3"></a><span class="w">    </span><span class="nx">Name</span><span class="w">      </span><span class="kt">string</span><span class="w">    </span><span class="s">`json:&quot;name&quot; oas:&quot;required&quot;`</span>
<a id="__codelineno-39-4" name="__codelineno-39-4" href="#__codelineno-39-4"></a><span class="w">    </span><span class="nx">Email</span><span class="w">     </span><span class="kt">string</span><span class="w">    </span><span class="s">`json:&quot;email&quot; oas:&quot;format=email&quot;`</span>
<a id="__codelineno-39-5" name="__codelineno-39-5" href="#__codelineno-39-5"></a><span class="w">    </span><span class="nx">CreatedAt</span><span class="w"> </span><span class="nx">time</span><span class="p">.</span><span class="nx">Time</span><span class="w"> </span><span class="s">`json:&quot;created_at&quot;`</span>
<a id="__codelineno-39-6" name="__codelineno-39-6" href="#__codelineno-39-6"></a><span class="w">    </span><span class="nx">Role</span><span class="w">      </span><span class="kt">string</span><span class="w">    </span><span class="s">`json:&quot;role&quot; oas:&quot;enum=admin|user|guest&quot;`</span>
<a id="__codelineno-39-7" name="__codelineno-39-7" href="#__codelineno-39-7"></a><span class="p">}</span>
<a id="__codelineno-39-8" name="__codelineno-39-8" href="#__codelineno-39-8"></a>
<a id="__codelineno-39-9" name="__codelineno-39-9" href="#__codelineno-39-9"></a><span class="nx">spec</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">builder</span><span class="p">.</span><span class="nx">New</span><span class="p">(</span><span class="nx">parser</span><span class="p">.</span><span class="nx">OASVersion310</span><span class="p">)</span>
<a id="__codelineno-39-10" name="__codelineno-39-10" href="#__codelineno-39-10"></a><span class="nx">spec</span><span class="p">.</span><span class="nx">RegisterType</span><span class="p">(</span><span class="nx">User</span><span class="p">{})</span>
<a id="__codelineno-39-11" name="__codelineno-39-11" href="#__codelineno-39-11"></a>
<a id="__codelineno-39-12" name="__codelineno-39-12" href="#__codelineno-39-12"></a><span class="c1">// Generates:</span>
<a id="__codelineno-39-13" name="__codelineno-39-13" href="#__codelineno-39-13"></a><span class="c1">// User:</span>
<a id="__codelineno-39-14" name="__codelineno-39-14" href="#__codelineno-39-14"></a><span class="c1">//   type: object</span>
<a id="__codelineno-39-15" name="__codelineno-39-15" href="#__codelineno-39-15"></a><span class="c1">//   required: [name]</span>
<a id="__codelineno-39-16" name="__codelineno-39-16" href="#__codelineno-39-16"></a><span class="c1">//   properties:</span>
<a id="__codelineno-39-17" name="__codelineno-39-17" href="#__codelineno-39-17"></a><span class="c1">//     id: { type: integer, format: int64 }</span>
<a id="__codelineno-39-18" name="__codelineno-39-18" href="#__codelineno-39-18"></a><span class="c1">//     name: { type: string }</span>
<a id="__codelineno-39-19" name="__codelineno-39-19" href="#__codelineno-39-19"></a><span class="c1">//     email: { type: string, format: email }</span>
<a id="__codelineno-39-20" name="__codelineno-39-20" href="#__codelineno-39-20"></a><span class="c1">//     created_at: { type: string, format: date-time }</span>
<a id="__codelineno-39-21" name="__codelineno-39-21" href="#__codelineno-39-21"></a><span class="c1">//     role: { type: string, enum: [admin, user, guest] }</span>
</code></pre></div>
<h3 id="123-type-mappings">12.3 Type Mappings</h3>
<p>Go types map to OpenAPI schemas according to established conventions.</p>
<table>
<thead>
<tr>
<th>Go Type</th>
<th>OpenAPI Type</th>
<th>Format</th>
</tr>
</thead>
<tbody>
<tr>
<td>string</td>
<td>string</td>
<td></td>
</tr>
<tr>
<td>int, int32</td>
<td>integer</td>
<td>int32</td>
</tr>
<tr>
<td>int64</td>
<td>integer</td>
<td>int64</td>
</tr>
<tr>
<td>float32</td>
<td>number</td>
<td>float</td>
</tr>
<tr>
<td>float64</td>
<td>number</td>
<td>double</td>
</tr>
<tr>
<td>bool</td>
<td>boolean</td>
<td></td>
</tr>
<tr>
<td>[]T</td>
<td>array</td>
<td>items: T</td>
</tr>
<tr>
<td>map[string]T</td>
<td>object</td>
<td>additionalProperties: T</td>
</tr>
<tr>
<td>struct</td>
<td>object</td>
<td>properties from fields</td>
</tr>
<tr>
<td>*T</td>
<td>nullable T</td>
<td></td>
</tr>
<tr>
<td>time.Time</td>
<td>string</td>
<td>date-time</td>
</tr>
</tbody>
</table>
<h3 id="124-schema-naming-strategies">12.4 Schema Naming Strategies</h3>
<p>Configurable naming strategies handle generic types and package prefixes.</p>
<table>
<thead>
<tr>
<th>Strategy</th>
<th>Example Type</th>
<th>Result</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>SchemaNamingDefault</code></td>
<td><code>models.User</code></td>
<td><code>models.User</code></td>
</tr>
<tr>
<td><code>SchemaNamingPascalCase</code></td>
<td><code>models.User</code></td>
<td><code>ModelsUser</code></td>
</tr>
<tr>
<td><code>SchemaNamingTypeOnly</code></td>
<td><code>models.User</code></td>
<td><code>User</code></td>
</tr>
<tr>
<td><code>GenericNamingUnderscore</code></td>
<td><code>Response[User]</code></td>
<td><code>Response_User_</code></td>
</tr>
<tr>
<td><code>GenericNamingOf</code></td>
<td><code>Response[User]</code></td>
<td><code>ResponseOfUser</code></td>
</tr>
<tr>
<td>Custom</td>
<td>User-defined</td>
<td>Via <code>WithSchemaNameFunc</code></td>
</tr>
</tbody>
</table>
<h3 id="125-server-builder">12.5 Server Builder</h3>
<p>The <code>ServerBuilder</code> extends the standard builder to produce runnable HTTP servers directly from the fluent API. This enables a "spec-first" development workflow where OpenAPI documentation and implementation stay synchronized. Request validation is performed automatically using the <a href="#13-http-validator-package">httpvalidator</a> package.</p>
<p><strong>Creating a Server:</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-40-1" name="__codelineno-40-1" href="#__codelineno-40-1"></a><span class="nx">srv</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">builder</span><span class="p">.</span><span class="nx">NewServerBuilder</span><span class="p">(</span><span class="nx">parser</span><span class="p">.</span><span class="nx">OASVersion320</span><span class="p">).</span>
<a id="__codelineno-40-2" name="__codelineno-40-2" href="#__codelineno-40-2"></a><span class="w">    </span><span class="nx">SetTitle</span><span class="p">(</span><span class="s">&quot;Pet Store API&quot;</span><span class="p">).</span>
<a id="__codelineno-40-3" name="__codelineno-40-3" href="#__codelineno-40-3"></a><span class="w">    </span><span class="nx">SetVersion</span><span class="p">(</span><span class="s">&quot;1.0.0&quot;</span><span class="p">)</span>
<a id="__codelineno-40-4" name="__codelineno-40-4" href="#__codelineno-40-4"></a>
<a id="__codelineno-40-5" name="__codelineno-40-5" href="#__codelineno-40-5"></a><span class="nx">srv</span><span class="p">.</span><span class="nx">AddOperation</span><span class="p">(</span><span class="nx">http</span><span class="p">.</span><span class="nx">MethodGet</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;/pets&quot;</span><span class="p">,</span>
<a id="__codelineno-40-6" name="__codelineno-40-6" href="#__codelineno-40-6"></a><span class="w">    </span><span class="nx">builder</span><span class="p">.</span><span class="nx">WithHandler</span><span class="p">(</span><span class="kd">func</span><span class="p">(</span><span class="nx">ctx</span><span class="w"> </span><span class="nx">context</span><span class="p">.</span><span class="nx">Context</span><span class="p">,</span><span class="w"> </span><span class="nx">req</span><span class="w"> </span><span class="o">*</span><span class="nx">builder</span><span class="p">.</span><span class="nx">Request</span><span class="p">)</span><span class="w"> </span><span class="nx">builder</span><span class="p">.</span><span class="nx">Response</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-40-7" name="__codelineno-40-7" href="#__codelineno-40-7"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="nx">builder</span><span class="p">.</span><span class="nx">JSON</span><span class="p">(</span><span class="nx">http</span><span class="p">.</span><span class="nx">StatusOK</span><span class="p">,</span><span class="w"> </span><span class="nx">pets</span><span class="p">)</span>
<a id="__codelineno-40-8" name="__codelineno-40-8" href="#__codelineno-40-8"></a><span class="w">    </span><span class="p">}),</span>
<a id="__codelineno-40-9" name="__codelineno-40-9" href="#__codelineno-40-9"></a><span class="w">    </span><span class="nx">builder</span><span class="p">.</span><span class="nx">WithResponse</span><span class="p">(</span><span class="nx">http</span><span class="p">.</span><span class="nx">StatusOK</span><span class="p">,</span><span class="w"> </span><span class="p">[]</span><span class="nx">Pet</span><span class="p">{}),</span>
<a id="__codelineno-40-10" name="__codelineno-40-10" href="#__codelineno-40-10"></a><span class="p">)</span>
<a id="__codelineno-40-11" name="__codelineno-40-11" href="#__codelineno-40-11"></a>
<a id="__codelineno-40-12" name="__codelineno-40-12" href="#__codelineno-40-12"></a><span class="nx">result</span><span class="p">,</span><span class="w"> </span><span class="nx">_</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">srv</span><span class="p">.</span><span class="nx">BuildServer</span><span class="p">()</span>
<a id="__codelineno-40-13" name="__codelineno-40-13" href="#__codelineno-40-13"></a><span class="nx">http</span><span class="p">.</span><span class="nx">ListenAndServe</span><span class="p">(</span><span class="s">&quot;:8080&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">result</span><span class="p">.</span><span class="nx">Handler</span><span class="p">)</span>
</code></pre></div>
<p><strong>Key Capabilities:</strong></p>
<table>
<thead>
<tr>
<th>Capability</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Request Validation</td>
<td>Automatic validation of path/query/header parameters and request bodies</td>
</tr>
<tr>
<td>Response Helpers</td>
<td><code>JSON()</code>, <code>NoContent()</code>, <code>Error()</code>, <code>Redirect()</code>, <code>Stream()</code> for consistent responses</td>
</tr>
<tr>
<td>Middleware Support</td>
<td>Chain middleware functions for auth, logging, etc.</td>
</tr>
<tr>
<td>Testing Utilities</td>
<td><code>NewTestRequest()</code>, <code>ServerTest()</code>, <code>StubHandler()</code> for easy testing</td>
</tr>
<tr>
<td>Fluent ResponseBuilder</td>
<td>Set headers, cookies, and streaming responses</td>
</tr>
</tbody>
</table>
<p><strong>Handler Registration:</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-41-1" name="__codelineno-41-1" href="#__codelineno-41-1"></a><span class="c1">// Inline registration</span>
<a id="__codelineno-41-2" name="__codelineno-41-2" href="#__codelineno-41-2"></a><span class="nx">srv</span><span class="p">.</span><span class="nx">AddOperation</span><span class="p">(</span><span class="nx">http</span><span class="p">.</span><span class="nx">MethodGet</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;/pets&quot;</span><span class="p">,</span>
<a id="__codelineno-41-3" name="__codelineno-41-3" href="#__codelineno-41-3"></a><span class="w">    </span><span class="nx">builder</span><span class="p">.</span><span class="nx">WithHandler</span><span class="p">(</span><span class="nx">listPetsHandler</span><span class="p">),</span>
<a id="__codelineno-41-4" name="__codelineno-41-4" href="#__codelineno-41-4"></a><span class="w">    </span><span class="nx">builder</span><span class="p">.</span><span class="nx">WithResponse</span><span class="p">(</span><span class="nx">http</span><span class="p">.</span><span class="nx">StatusOK</span><span class="p">,</span><span class="w"> </span><span class="p">[]</span><span class="nx">Pet</span><span class="p">{}),</span>
<a id="__codelineno-41-5" name="__codelineno-41-5" href="#__codelineno-41-5"></a><span class="p">)</span>
<a id="__codelineno-41-6" name="__codelineno-41-6" href="#__codelineno-41-6"></a>
<a id="__codelineno-41-7" name="__codelineno-41-7" href="#__codelineno-41-7"></a><span class="c1">// Dynamic registration</span>
<a id="__codelineno-41-8" name="__codelineno-41-8" href="#__codelineno-41-8"></a><span class="nx">srv</span><span class="p">.</span><span class="nx">Handle</span><span class="p">(</span><span class="nx">http</span><span class="p">.</span><span class="nx">MethodGet</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;/pets&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">listPetsHandler</span><span class="p">)</span>
<a id="__codelineno-41-9" name="__codelineno-41-9" href="#__codelineno-41-9"></a><span class="nx">srv</span><span class="p">.</span><span class="nx">HandleFunc</span><span class="p">(</span><span class="nx">http</span><span class="p">.</span><span class="nx">MethodGet</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;/health&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">healthHandler</span><span class="p">)</span>
</code></pre></div>
<p>Operations without registered handlers return 501 Not Implemented at runtime.</p>
<h3 id="126-semantic-deduplication">12.6 Semantic Deduplication</h3>
<p>When multiple types generate identical schemas, the builder consolidates them.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-42-1" name="__codelineno-42-1" href="#__codelineno-42-1"></a><span class="c1">// Enable semantic deduplication via constructor option</span>
<a id="__codelineno-42-2" name="__codelineno-42-2" href="#__codelineno-42-2"></a><span class="nx">spec</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">builder</span><span class="p">.</span><span class="nx">New</span><span class="p">(</span><span class="nx">parser</span><span class="p">.</span><span class="nx">OASVersion310</span><span class="p">,</span><span class="w"> </span><span class="nx">builder</span><span class="p">.</span><span class="nx">WithSemanticDeduplication</span><span class="p">(</span><span class="kc">true</span><span class="p">))</span>
<a id="__codelineno-42-3" name="__codelineno-42-3" href="#__codelineno-42-3"></a>
<a id="__codelineno-42-4" name="__codelineno-42-4" href="#__codelineno-42-4"></a><span class="nx">spec</span><span class="p">.</span><span class="nx">RegisterType</span><span class="p">(</span><span class="nx">UserRequest</span><span class="p">{})</span><span class="w">  </span><span class="c1">// Creates UserRequest schema</span>
<a id="__codelineno-42-5" name="__codelineno-42-5" href="#__codelineno-42-5"></a><span class="nx">spec</span><span class="p">.</span><span class="nx">RegisterType</span><span class="p">(</span><span class="nx">UserResponse</span><span class="p">{})</span><span class="w"> </span><span class="c1">// If identical, reuses UserRequest</span>
</code></pre></div>
<hr />
<h2 id="13-http-validator-package">13. HTTP Validator Package</h2>
<blockquote>
<p><strong>Links:</strong> <a href="https://pkg.go.dev/github.com/erraggy/oastools/httpvalidator">pkg.go.dev</a> | <a href="../packages/httpvalidator/">Deep Dive</a></p>
</blockquote>
<p>The httpvalidator package validates HTTP requests and responses against OpenAPI specifications at runtime, suitable for API gateways, middleware, and testing.</p>
<h3 id="131-core-capabilities">13.1 Core Capabilities</h3>
<p><strong>Request Validation</strong> covers path parameters with template matching, query parameters with type coercion, header parameters, cookie parameters, and request body schema validation.</p>
<p><strong>Response Validation</strong> covers status code verification against documented responses, response header validation, and response body schema validation.</p>
<h3 id="132-parameter-deserialization">13.2 Parameter Deserialization</h3>
<p>All OAS serialization styles are supported per the <a href="https://spec.openapis.org/oas/v3.0.3.html#style-values">OpenAPI Specification</a>.</p>
<table>
<thead>
<tr>
<th>Style</th>
<th>Location</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr>
<td>simple</td>
<td>path, header</td>
<td><code>value</code> or <code>val1,val2</code></td>
</tr>
<tr>
<td>form</td>
<td>query, cookie</td>
<td><code>?ids=1,2,3</code></td>
</tr>
<tr>
<td>matrix</td>
<td>path</td>
<td><code>;id=5</code></td>
</tr>
<tr>
<td>label</td>
<td>path</td>
<td><code>.blue.red</code></td>
</tr>
<tr>
<td>deepObject</td>
<td>query</td>
<td><code>?filter[status]=active</code></td>
</tr>
<tr>
<td>spaceDelimited</td>
<td>query</td>
<td><code>?ids=1%202%203</code></td>
</tr>
<tr>
<td>pipeDelimited</td>
<td>query</td>
<td><code>?ids=1\|2\|3</code></td>
</tr>
</tbody>
</table>
<h3 id="133-api-usage">13.3 API Usage</h3>
<p><strong>Creating a Validator:</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-43-1" name="__codelineno-43-1" href="#__codelineno-43-1"></a><span class="nx">parsed</span><span class="p">,</span><span class="w"> </span><span class="nx">_</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">parser</span><span class="p">.</span><span class="nx">ParseWithOptions</span><span class="p">(</span><span class="nx">parser</span><span class="p">.</span><span class="nx">WithFilePath</span><span class="p">(</span><span class="s">&quot;openapi.yaml&quot;</span><span class="p">))</span>
<a id="__codelineno-43-2" name="__codelineno-43-2" href="#__codelineno-43-2"></a><span class="nx">v</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">httpvalidator</span><span class="p">.</span><span class="nx">New</span><span class="p">(</span><span class="nx">parsed</span><span class="p">)</span>
<a id="__codelineno-43-3" name="__codelineno-43-3" href="#__codelineno-43-3"></a><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-43-4" name="__codelineno-43-4" href="#__codelineno-43-4"></a><span class="w">    </span><span class="nx">log</span><span class="p">.</span><span class="nx">Fatal</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span>
<a id="__codelineno-43-5" name="__codelineno-43-5" href="#__codelineno-43-5"></a><span class="p">}</span>
</code></pre></div>
<p><strong>Validating Requests:</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-44-1" name="__codelineno-44-1" href="#__codelineno-44-1"></a><span class="nx">result</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">v</span><span class="p">.</span><span class="nx">ValidateRequest</span><span class="p">(</span><span class="nx">req</span><span class="p">)</span>
<a id="__codelineno-44-2" name="__codelineno-44-2" href="#__codelineno-44-2"></a><span class="k">if</span><span class="w"> </span><span class="p">!</span><span class="nx">result</span><span class="p">.</span><span class="nx">Valid</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-44-3" name="__codelineno-44-3" href="#__codelineno-44-3"></a><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="nx">_</span><span class="p">,</span><span class="w"> </span><span class="nx">e</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="k">range</span><span class="w"> </span><span class="nx">result</span><span class="p">.</span><span class="nx">Errors</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-44-4" name="__codelineno-44-4" href="#__codelineno-44-4"></a><span class="w">        </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Printf</span><span class="p">(</span><span class="s">&quot;Error: %s - %s\n&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">e</span><span class="p">.</span><span class="nx">Path</span><span class="p">,</span><span class="w"> </span><span class="nx">e</span><span class="p">.</span><span class="nx">Message</span><span class="p">)</span>
<a id="__codelineno-44-5" name="__codelineno-44-5" href="#__codelineno-44-5"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-44-6" name="__codelineno-44-6" href="#__codelineno-44-6"></a><span class="p">}</span>
<a id="__codelineno-44-7" name="__codelineno-44-7" href="#__codelineno-44-7"></a>
<a id="__codelineno-44-8" name="__codelineno-44-8" href="#__codelineno-44-8"></a><span class="c1">// Access deserialized parameters</span>
<a id="__codelineno-44-9" name="__codelineno-44-9" href="#__codelineno-44-9"></a><span class="nx">userID</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">result</span><span class="p">.</span><span class="nx">PathParams</span><span class="p">[</span><span class="s">&quot;userId&quot;</span><span class="p">]</span>
<a id="__codelineno-44-10" name="__codelineno-44-10" href="#__codelineno-44-10"></a><span class="nx">limit</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">result</span><span class="p">.</span><span class="nx">QueryParams</span><span class="p">[</span><span class="s">&quot;limit&quot;</span><span class="p">]</span>
</code></pre></div>
<p><strong>Validating Responses:</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-45-1" name="__codelineno-45-1" href="#__codelineno-45-1"></a><span class="nx">result</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">v</span><span class="p">.</span><span class="nx">ValidateResponseData</span><span class="p">(</span><span class="nx">req</span><span class="p">,</span><span class="w"> </span><span class="nx">statusCode</span><span class="p">,</span><span class="w"> </span><span class="nx">headers</span><span class="p">,</span><span class="w"> </span><span class="nx">body</span><span class="p">)</span>
<a id="__codelineno-45-2" name="__codelineno-45-2" href="#__codelineno-45-2"></a><span class="k">if</span><span class="w"> </span><span class="p">!</span><span class="nx">result</span><span class="p">.</span><span class="nx">Valid</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-45-3" name="__codelineno-45-3" href="#__codelineno-45-3"></a><span class="w">    </span><span class="nx">log</span><span class="p">.</span><span class="nx">Printf</span><span class="p">(</span><span class="s">&quot;Response validation failed: %v&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">result</span><span class="p">.</span><span class="nx">Errors</span><span class="p">)</span>
<a id="__codelineno-45-4" name="__codelineno-45-4" href="#__codelineno-45-4"></a><span class="p">}</span>
</code></pre></div>
<h3 id="134-middleware-integration">13.4 Middleware Integration</h3>
<p>The validator integrates naturally with HTTP middleware patterns.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-46-1" name="__codelineno-46-1" href="#__codelineno-46-1"></a><span class="kd">func</span><span class="w"> </span><span class="nx">ValidationMiddleware</span><span class="p">(</span><span class="nx">v</span><span class="w"> </span><span class="o">*</span><span class="nx">httpvalidator</span><span class="p">.</span><span class="nx">Validator</span><span class="p">)</span><span class="w"> </span><span class="kd">func</span><span class="p">(</span><span class="nx">http</span><span class="p">.</span><span class="nx">Handler</span><span class="p">)</span><span class="w"> </span><span class="nx">http</span><span class="p">.</span><span class="nx">Handler</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-46-2" name="__codelineno-46-2" href="#__codelineno-46-2"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="kd">func</span><span class="p">(</span><span class="nx">next</span><span class="w"> </span><span class="nx">http</span><span class="p">.</span><span class="nx">Handler</span><span class="p">)</span><span class="w"> </span><span class="nx">http</span><span class="p">.</span><span class="nx">Handler</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-46-3" name="__codelineno-46-3" href="#__codelineno-46-3"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="nx">http</span><span class="p">.</span><span class="nx">HandlerFunc</span><span class="p">(</span><span class="kd">func</span><span class="p">(</span><span class="nx">w</span><span class="w"> </span><span class="nx">http</span><span class="p">.</span><span class="nx">ResponseWriter</span><span class="p">,</span><span class="w"> </span><span class="nx">r</span><span class="w"> </span><span class="o">*</span><span class="nx">http</span><span class="p">.</span><span class="nx">Request</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-46-4" name="__codelineno-46-4" href="#__codelineno-46-4"></a><span class="w">            </span><span class="nx">result</span><span class="p">,</span><span class="w"> </span><span class="nx">_</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">v</span><span class="p">.</span><span class="nx">ValidateRequest</span><span class="p">(</span><span class="nx">r</span><span class="p">)</span>
<a id="__codelineno-46-5" name="__codelineno-46-5" href="#__codelineno-46-5"></a><span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">!</span><span class="nx">result</span><span class="p">.</span><span class="nx">Valid</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-46-6" name="__codelineno-46-6" href="#__codelineno-46-6"></a><span class="w">                </span><span class="nx">w</span><span class="p">.</span><span class="nx">WriteHeader</span><span class="p">(</span><span class="nx">http</span><span class="p">.</span><span class="nx">StatusBadRequest</span><span class="p">)</span>
<a id="__codelineno-46-7" name="__codelineno-46-7" href="#__codelineno-46-7"></a><span class="w">                </span><span class="nx">json</span><span class="p">.</span><span class="nx">NewEncoder</span><span class="p">(</span><span class="nx">w</span><span class="p">).</span><span class="nx">Encode</span><span class="p">(</span><span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kt">any</span><span class="p">{</span>
<a id="__codelineno-46-8" name="__codelineno-46-8" href="#__codelineno-46-8"></a><span class="w">                    </span><span class="s">&quot;error&quot;</span><span class="p">:</span><span class="w">   </span><span class="s">&quot;Validation failed&quot;</span><span class="p">,</span>
<a id="__codelineno-46-9" name="__codelineno-46-9" href="#__codelineno-46-9"></a><span class="w">                    </span><span class="s">&quot;details&quot;</span><span class="p">:</span><span class="w"> </span><span class="nx">result</span><span class="p">.</span><span class="nx">Errors</span><span class="p">,</span>
<a id="__codelineno-46-10" name="__codelineno-46-10" href="#__codelineno-46-10"></a><span class="w">                </span><span class="p">})</span>
<a id="__codelineno-46-11" name="__codelineno-46-11" href="#__codelineno-46-11"></a><span class="w">                </span><span class="k">return</span>
<a id="__codelineno-46-12" name="__codelineno-46-12" href="#__codelineno-46-12"></a><span class="w">            </span><span class="p">}</span>
<a id="__codelineno-46-13" name="__codelineno-46-13" href="#__codelineno-46-13"></a><span class="w">            </span><span class="nx">next</span><span class="p">.</span><span class="nx">ServeHTTP</span><span class="p">(</span><span class="nx">w</span><span class="p">,</span><span class="w"> </span><span class="nx">r</span><span class="p">)</span>
<a id="__codelineno-46-14" name="__codelineno-46-14" href="#__codelineno-46-14"></a><span class="w">        </span><span class="p">})</span>
<a id="__codelineno-46-15" name="__codelineno-46-15" href="#__codelineno-46-15"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-46-16" name="__codelineno-46-16" href="#__codelineno-46-16"></a><span class="p">}</span>
</code></pre></div>
<h3 id="135-strict-mode">13.5 Strict Mode</h3>
<p>Enable strict mode for stricter validation.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-47-1" name="__codelineno-47-1" href="#__codelineno-47-1"></a><span class="nx">v</span><span class="p">.</span><span class="nx">StrictMode</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="kc">true</span>
</code></pre></div>
<p>In strict mode, unknown query parameters cause validation errors, unknown headers (except standard HTTP headers) cause errors, unknown cookies cause errors, and undocumented response status codes cause errors.</p>
<hr />
<h2 id="14-walker-package">14. Walker Package</h2>
<blockquote>
<p><strong>Links:</strong> <a href="https://pkg.go.dev/github.com/erraggy/oastools/walker">pkg.go.dev</a> | <a href="../packages/walker/">Deep Dive</a></p>
</blockquote>
<p>The walker package provides typed, handler-based traversal of OpenAPI documents, enabling analysis, mutation, validation, and filtering patterns.</p>
<h3 id="141-core-concepts">14.1 Core Concepts</h3>
<p>The walker uses a handler-based approach where you register callbacks for specific node types. Each handler receives a pointer to the node (enabling mutation) and the JSON path to that node.</p>
<p><strong>Flow Control:</strong></p>
<table>
<thead>
<tr>
<th>Action</th>
<th>Behavior</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Continue</code></td>
<td>Process children and continue to siblings</td>
</tr>
<tr>
<td><code>SkipChildren</code></td>
<td>Skip descendants, continue to siblings</td>
</tr>
<tr>
<td><code>Stop</code></td>
<td>Halt traversal immediately</td>
</tr>
</tbody>
</table>
<h3 id="142-handler-types">14.2 Handler Types</h3>
<p>The walker provides 19 typed handlers covering all OAS node types:</p>
<table>
<thead>
<tr>
<th>Handler</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>WithDocumentHandler</code></td>
<td>Root document (version-agnostic)</td>
</tr>
<tr>
<td><code>WithOAS2DocumentHandler</code></td>
<td>OAS 2.0 document</td>
</tr>
<tr>
<td><code>WithOAS3DocumentHandler</code></td>
<td>OAS 3.x document</td>
</tr>
<tr>
<td><code>WithInfoHandler</code></td>
<td>API metadata</td>
</tr>
<tr>
<td><code>WithServerHandler</code></td>
<td>Server definitions (3.x only)</td>
</tr>
<tr>
<td><code>WithPathHandler</code></td>
<td>Path entries with template</td>
</tr>
<tr>
<td><code>WithOperationHandler</code></td>
<td>HTTP operations</td>
</tr>
<tr>
<td><code>WithParameterHandler</code></td>
<td>Parameters</td>
</tr>
<tr>
<td><code>WithRequestBodyHandler</code></td>
<td>Request bodies (3.x only)</td>
</tr>
<tr>
<td><code>WithResponseHandler</code></td>
<td>Responses</td>
</tr>
<tr>
<td><code>WithSchemaHandler</code></td>
<td>All schemas (including nested)</td>
</tr>
<tr>
<td><code>WithSecuritySchemeHandler</code></td>
<td>Security schemes</td>
</tr>
<tr>
<td><code>WithTagHandler</code></td>
<td>Tags</td>
</tr>
<tr>
<td><code>WithHeaderHandler</code></td>
<td>Headers</td>
</tr>
<tr>
<td><code>WithMediaTypeHandler</code></td>
<td>Media types (3.x only)</td>
</tr>
<tr>
<td><code>WithLinkHandler</code></td>
<td>Links (3.x only)</td>
</tr>
<tr>
<td><code>WithCallbackHandler</code></td>
<td>Callbacks (3.x only)</td>
</tr>
<tr>
<td><code>WithExampleHandler</code></td>
<td>Examples</td>
</tr>
<tr>
<td><code>WithExternalDocsHandler</code></td>
<td>External documentation</td>
</tr>
</tbody>
</table>
<h3 id="143-api-usage">14.3 API Usage</h3>
<p><strong>Analysis Pattern:</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-48-1" name="__codelineno-48-1" href="#__codelineno-48-1"></a><span class="kd">var</span><span class="w"> </span><span class="nx">stats</span><span class="w"> </span><span class="kd">struct</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-48-2" name="__codelineno-48-2" href="#__codelineno-48-2"></a><span class="w">    </span><span class="nx">Operations</span><span class="w"> </span><span class="kt">int</span>
<a id="__codelineno-48-3" name="__codelineno-48-3" href="#__codelineno-48-3"></a><span class="w">    </span><span class="nx">Schemas</span><span class="w">    </span><span class="kt">int</span>
<a id="__codelineno-48-4" name="__codelineno-48-4" href="#__codelineno-48-4"></a><span class="p">}</span>
<a id="__codelineno-48-5" name="__codelineno-48-5" href="#__codelineno-48-5"></a>
<a id="__codelineno-48-6" name="__codelineno-48-6" href="#__codelineno-48-6"></a><span class="nx">walker</span><span class="p">.</span><span class="nx">Walk</span><span class="p">(</span><span class="nx">result</span><span class="p">,</span>
<a id="__codelineno-48-7" name="__codelineno-48-7" href="#__codelineno-48-7"></a><span class="w">    </span><span class="nx">walker</span><span class="p">.</span><span class="nx">WithOperationHandler</span><span class="p">(</span><span class="kd">func</span><span class="p">(</span><span class="nx">wc</span><span class="w"> </span><span class="o">*</span><span class="nx">walker</span><span class="p">.</span><span class="nx">WalkContext</span><span class="p">,</span><span class="w"> </span><span class="nx">op</span><span class="w"> </span><span class="o">*</span><span class="nx">parser</span><span class="p">.</span><span class="nx">Operation</span><span class="p">)</span><span class="w"> </span><span class="nx">walker</span><span class="p">.</span><span class="nx">Action</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-48-8" name="__codelineno-48-8" href="#__codelineno-48-8"></a><span class="w">        </span><span class="nx">stats</span><span class="p">.</span><span class="nx">Operations</span><span class="o">++</span>
<a id="__codelineno-48-9" name="__codelineno-48-9" href="#__codelineno-48-9"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="nx">walker</span><span class="p">.</span><span class="nx">Continue</span>
<a id="__codelineno-48-10" name="__codelineno-48-10" href="#__codelineno-48-10"></a><span class="w">    </span><span class="p">}),</span>
<a id="__codelineno-48-11" name="__codelineno-48-11" href="#__codelineno-48-11"></a><span class="w">    </span><span class="nx">walker</span><span class="p">.</span><span class="nx">WithSchemaHandler</span><span class="p">(</span><span class="kd">func</span><span class="p">(</span><span class="nx">wc</span><span class="w"> </span><span class="o">*</span><span class="nx">walker</span><span class="p">.</span><span class="nx">WalkContext</span><span class="p">,</span><span class="w"> </span><span class="nx">schema</span><span class="w"> </span><span class="o">*</span><span class="nx">parser</span><span class="p">.</span><span class="nx">Schema</span><span class="p">)</span><span class="w"> </span><span class="nx">walker</span><span class="p">.</span><span class="nx">Action</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-48-12" name="__codelineno-48-12" href="#__codelineno-48-12"></a><span class="w">        </span><span class="nx">stats</span><span class="p">.</span><span class="nx">Schemas</span><span class="o">++</span>
<a id="__codelineno-48-13" name="__codelineno-48-13" href="#__codelineno-48-13"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="nx">walker</span><span class="p">.</span><span class="nx">Continue</span>
<a id="__codelineno-48-14" name="__codelineno-48-14" href="#__codelineno-48-14"></a><span class="w">    </span><span class="p">}),</span>
<a id="__codelineno-48-15" name="__codelineno-48-15" href="#__codelineno-48-15"></a><span class="p">)</span>
<a id="__codelineno-48-16" name="__codelineno-48-16" href="#__codelineno-48-16"></a>
<a id="__codelineno-48-17" name="__codelineno-48-17" href="#__codelineno-48-17"></a><span class="nx">fmt</span><span class="p">.</span><span class="nx">Printf</span><span class="p">(</span><span class="s">&quot;Operations: %d, Schemas: %d\n&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">stats</span><span class="p">.</span><span class="nx">Operations</span><span class="p">,</span><span class="w"> </span><span class="nx">stats</span><span class="p">.</span><span class="nx">Schemas</span><span class="p">)</span>
</code></pre></div>
<p><strong>Mutation Pattern:</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-49-1" name="__codelineno-49-1" href="#__codelineno-49-1"></a><span class="nx">walker</span><span class="p">.</span><span class="nx">Walk</span><span class="p">(</span><span class="nx">result</span><span class="p">,</span>
<a id="__codelineno-49-2" name="__codelineno-49-2" href="#__codelineno-49-2"></a><span class="w">    </span><span class="nx">walker</span><span class="p">.</span><span class="nx">WithSchemaHandler</span><span class="p">(</span><span class="kd">func</span><span class="p">(</span><span class="nx">wc</span><span class="w"> </span><span class="o">*</span><span class="nx">walker</span><span class="p">.</span><span class="nx">WalkContext</span><span class="p">,</span><span class="w"> </span><span class="nx">schema</span><span class="w"> </span><span class="o">*</span><span class="nx">parser</span><span class="p">.</span><span class="nx">Schema</span><span class="p">)</span><span class="w"> </span><span class="nx">walker</span><span class="p">.</span><span class="nx">Action</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-49-3" name="__codelineno-49-3" href="#__codelineno-49-3"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="nx">schema</span><span class="p">.</span><span class="nx">Extra</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-49-4" name="__codelineno-49-4" href="#__codelineno-49-4"></a><span class="w">            </span><span class="nx">schema</span><span class="p">.</span><span class="nx">Extra</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nb">make</span><span class="p">(</span><span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kt">any</span><span class="p">)</span>
<a id="__codelineno-49-5" name="__codelineno-49-5" href="#__codelineno-49-5"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-49-6" name="__codelineno-49-6" href="#__codelineno-49-6"></a><span class="w">        </span><span class="nx">schema</span><span class="p">.</span><span class="nx">Extra</span><span class="p">[</span><span class="s">&quot;x-processed&quot;</span><span class="p">]</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="kc">true</span>
<a id="__codelineno-49-7" name="__codelineno-49-7" href="#__codelineno-49-7"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="nx">walker</span><span class="p">.</span><span class="nx">Continue</span>
<a id="__codelineno-49-8" name="__codelineno-49-8" href="#__codelineno-49-8"></a><span class="w">    </span><span class="p">}),</span>
<a id="__codelineno-49-9" name="__codelineno-49-9" href="#__codelineno-49-9"></a><span class="p">)</span>
</code></pre></div>
<p><strong>Filtering Pattern:</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-50-1" name="__codelineno-50-1" href="#__codelineno-50-1"></a><span class="nx">walker</span><span class="p">.</span><span class="nx">Walk</span><span class="p">(</span><span class="nx">result</span><span class="p">,</span>
<a id="__codelineno-50-2" name="__codelineno-50-2" href="#__codelineno-50-2"></a><span class="w">    </span><span class="nx">walker</span><span class="p">.</span><span class="nx">WithPathHandler</span><span class="p">(</span><span class="kd">func</span><span class="p">(</span><span class="nx">wc</span><span class="w"> </span><span class="o">*</span><span class="nx">walker</span><span class="p">.</span><span class="nx">WalkContext</span><span class="p">,</span><span class="w"> </span><span class="nx">pi</span><span class="w"> </span><span class="o">*</span><span class="nx">parser</span><span class="p">.</span><span class="nx">PathItem</span><span class="p">)</span><span class="w"> </span><span class="nx">walker</span><span class="p">.</span><span class="nx">Action</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-50-3" name="__codelineno-50-3" href="#__codelineno-50-3"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="nx">strings</span><span class="p">.</span><span class="nx">HasPrefix</span><span class="p">(</span><span class="nx">wc</span><span class="p">.</span><span class="nx">PathTemplate</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;/internal&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-50-4" name="__codelineno-50-4" href="#__codelineno-50-4"></a><span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="nx">walker</span><span class="p">.</span><span class="nx">SkipChildren</span><span class="w">  </span><span class="c1">// Skip internal endpoints</span>
<a id="__codelineno-50-5" name="__codelineno-50-5" href="#__codelineno-50-5"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-50-6" name="__codelineno-50-6" href="#__codelineno-50-6"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="nx">walker</span><span class="p">.</span><span class="nx">Continue</span>
<a id="__codelineno-50-7" name="__codelineno-50-7" href="#__codelineno-50-7"></a><span class="w">    </span><span class="p">}),</span>
<a id="__codelineno-50-8" name="__codelineno-50-8" href="#__codelineno-50-8"></a><span class="p">)</span>
</code></pre></div>
<h3 id="144-cycle-detection">14.4 Cycle Detection</h3>
<p>The walker automatically detects circular schema references and provides notifications via <code>WithSchemaSkippedHandler</code>:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-51-1" name="__codelineno-51-1" href="#__codelineno-51-1"></a><span class="nx">walker</span><span class="p">.</span><span class="nx">Walk</span><span class="p">(</span><span class="nx">result</span><span class="p">,</span>
<a id="__codelineno-51-2" name="__codelineno-51-2" href="#__codelineno-51-2"></a><span class="w">    </span><span class="nx">walker</span><span class="p">.</span><span class="nx">WithMaxSchemaDepth</span><span class="p">(</span><span class="mi">50</span><span class="p">),</span><span class="w"> </span><span class="c1">// WithMaxDepth is deprecated; prefer WithMaxSchemaDepth</span>
<a id="__codelineno-51-3" name="__codelineno-51-3" href="#__codelineno-51-3"></a><span class="w">    </span><span class="nx">walker</span><span class="p">.</span><span class="nx">WithSchemaSkippedHandler</span><span class="p">(</span><span class="kd">func</span><span class="p">(</span><span class="nx">wc</span><span class="w"> </span><span class="o">*</span><span class="nx">walker</span><span class="p">.</span><span class="nx">WalkContext</span><span class="p">,</span><span class="w"> </span><span class="nx">reason</span><span class="w"> </span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="nx">schema</span><span class="w"> </span><span class="o">*</span><span class="nx">parser</span><span class="p">.</span><span class="nx">Schema</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-51-4" name="__codelineno-51-4" href="#__codelineno-51-4"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="nx">reason</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s">&quot;cycle&quot;</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-51-5" name="__codelineno-51-5" href="#__codelineno-51-5"></a><span class="w">            </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Printf</span><span class="p">(</span><span class="s">&quot;Circular reference at: %s\n&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">wc</span><span class="p">.</span><span class="nx">JSONPath</span><span class="p">)</span>
<a id="__codelineno-51-6" name="__codelineno-51-6" href="#__codelineno-51-6"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-51-7" name="__codelineno-51-7" href="#__codelineno-51-7"></a><span class="w">    </span><span class="p">}),</span>
<a id="__codelineno-51-8" name="__codelineno-51-8" href="#__codelineno-51-8"></a><span class="p">)</span>
</code></pre></div>
<h3 id="145-use-cases">14.5 Use Cases</h3>
<p>The walker package enables several common patterns:</p>
<table>
<thead>
<tr>
<th>Use Case</th>
<th>Handlers</th>
<th>Flow Control</th>
</tr>
</thead>
<tbody>
<tr>
<td>API Statistics</td>
<td>Operation, Schema, Parameter</td>
<td>Continue</td>
</tr>
<tr>
<td>Security Audit</td>
<td>Operation, Schema, Path</td>
<td>Continue, Stop</td>
</tr>
<tr>
<td>Vendor Extensions</td>
<td>Schema, Operation, Path</td>
<td>Continue, SkipChildren</td>
</tr>
<tr>
<td>Public API Filter</td>
<td>Path, Operation</td>
<td>SkipChildren</td>
</tr>
<tr>
<td>Documentation Gen</td>
<td>Info, Server, Operation, Response</td>
<td>Continue</td>
</tr>
<tr>
<td>Reference Analysis</td>
<td>Schema, SchemaSkipped</td>
<td>Continue</td>
</tr>
</tbody>
</table>
<h3 id="146-recent-enhancements-v138-v146">14.6 Recent Enhancements (v1.38-v1.46)</h3>
<p>The walker has gained several powerful features:</p>
<ul>
<li><strong>Reference Tracking</strong> - <code>WithRefHandler()</code> and <code>WithMapRefTracking()</code> for comprehensive <code>$ref</code> detection</li>
<li><strong>Parent Tracking</strong> - <code>WithParentTracking()</code> provides type-safe ancestor access via <code>ParentInfo</code></li>
<li><strong>Post-Visit Hooks</strong> - <code>WithSchemaPostHandler()</code>, <code>WithOperationPostHandler()</code>, etc. for bottom-up processing</li>
<li><strong>Built-in Collectors</strong> - <code>CollectSchemas()</code> and <code>CollectOperations()</code> reduce boilerplate</li>
</ul>
<p>For comprehensive documentation, examples, and performance considerations, see the <a href="../packages/walker/">Walker Deep Dive</a>.</p>
<hr />
<h2 id="15-mcp-server">15. MCP Server</h2>
<blockquote>
<p><strong>Links:</strong> <a href="../mcp-server/">MCP Server Guide</a> | <a href="../claude-code-plugin/">Claude Code Plugin</a> | <a href="https://modelcontextprotocol.io/">Model Context Protocol</a></p>
</blockquote>
<p>oastools includes a built-in <a href="https://modelcontextprotocol.io/">Model Context Protocol</a> (MCP) server that exposes all toolkit capabilities to AI-assisted development environments such as Claude Code, Cursor, and other MCP-compatible clients. The server communicates over stdio transport and is launched via the CLI.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-52-1" name="__codelineno-52-1" href="#__codelineno-52-1"></a>oastools<span class="w"> </span>mcp
</code></pre></div>
<h3 id="151-tool-categories">15.1 Tool Categories</h3>
<p>The MCP server provides 17 tools organized into two categories.</p>
<p><strong>Core Tools</strong> (9 tools):</p>
<table>
<thead>
<tr>
<th>Tool</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>validate</code></td>
<td>Validate OAS documents with error/warning counts and JSON path locations</td>
</tr>
<tr>
<td><code>parse</code></td>
<td>Parse OAS with structural summary (title, version, path/operation/schema counts)</td>
</tr>
<tr>
<td><code>fix</code></td>
<td>Auto-fix common issues with dry-run support</td>
</tr>
<tr>
<td><code>convert</code></td>
<td>Convert between OAS versions with issue tracking</td>
</tr>
<tr>
<td><code>diff</code></td>
<td>Compare specs with breaking change detection and severity levels</td>
</tr>
<tr>
<td><code>join</code></td>
<td>Merge multiple specs with configurable collision strategies</td>
</tr>
<tr>
<td><code>overlay_apply</code></td>
<td>Apply Overlay documents using JSONPath expressions</td>
</tr>
<tr>
<td><code>overlay_validate</code></td>
<td>Validate Overlay document structure and JSONPath syntax</td>
</tr>
<tr>
<td><code>generate</code></td>
<td>Generate Go client/server/types code</td>
</tr>
</tbody>
</table>
<p><strong>Walk Tools</strong> (8 tools):</p>
<table>
<thead>
<tr>
<th>Tool</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>walk_operations</code></td>
<td>Filter by method, path, tag, operationId, deprecated status</td>
</tr>
<tr>
<td><code>walk_schemas</code></td>
<td>Filter by name, type, component/inline location</td>
</tr>
<tr>
<td><code>walk_parameters</code></td>
<td>Filter by location, name, path pattern, method</td>
</tr>
<tr>
<td><code>walk_responses</code></td>
<td>Filter by status code, path, method</td>
</tr>
<tr>
<td><code>walk_security</code></td>
<td>Filter by security scheme name or type</td>
</tr>
<tr>
<td><code>walk_paths</code></td>
<td>Filter by path pattern with glob support</td>
</tr>
<tr>
<td><code>walk_refs</code></td>
<td>Query <code>$ref</code> references ranked by count with target filtering</td>
</tr>
<tr>
<td><code>walk_headers</code></td>
<td>Query response and component headers</td>
</tr>
</tbody>
</table>
<h3 id="152-key-capabilities">15.2 Key Capabilities</h3>
<p><strong>Pagination:</strong> All tools support <code>offset</code>/<code>limit</code> parameters (default limit: 100, maximum: 1000) for handling large specifications.</p>
<p><strong>Group-By Aggregation:</strong> Most walk tools support a <code>group_by</code> parameter (all except <code>walk_security</code>) that returns distribution counts instead of individual items. For example, <code>walk_operations</code> with <code>group_by=method</code> returns a count of operations per HTTP method.</p>
<p><strong>Detail Mode:</strong> Walk tools support a <code>detail</code> flag that returns full nested objects instead of summary tables (default limit: 25 items in detail mode).</p>
<p><strong>Spec Caching:</strong> Parsed specifications are cached within MCP sessions with TTL-based expiration. File entries auto-invalidate on modification, URL entries expire based on configurable TTLs, and a background sweeper removes expired entries.</p>
<h3 id="153-configuration">15.3 Configuration</h3>
<p>The MCP server is configured via environment variables, since the Go MCP SDK does not support <code>initializationOptions</code>. MCP clients set these via their <code>env</code> field in server configuration.</p>
<p><strong>Cache Configuration:</strong></p>
<table>
<thead>
<tr>
<th>Variable</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>OASTOOLS_CACHE_ENABLED</code></td>
<td><code>true</code></td>
<td>Enable/disable spec caching</td>
</tr>
<tr>
<td><code>OASTOOLS_CACHE_MAX_SIZE</code></td>
<td><code>10</code></td>
<td>Maximum cached specifications</td>
</tr>
<tr>
<td><code>OASTOOLS_CACHE_FILE_TTL</code></td>
<td><code>15m</code></td>
<td>File spec expiration</td>
</tr>
<tr>
<td><code>OASTOOLS_CACHE_URL_TTL</code></td>
<td><code>5m</code></td>
<td>URL-fetched spec expiration</td>
</tr>
<tr>
<td><code>OASTOOLS_CACHE_CONTENT_TTL</code></td>
<td><code>15m</code></td>
<td>Inline content spec expiration</td>
</tr>
<tr>
<td><code>OASTOOLS_CACHE_SWEEP_INTERVAL</code></td>
<td><code>60s</code></td>
<td>Background cleanup frequency</td>
</tr>
</tbody>
</table>
<p><strong>Behavior Defaults:</strong></p>
<table>
<thead>
<tr>
<th>Variable</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>OASTOOLS_WALK_LIMIT</code></td>
<td><code>100</code></td>
<td>Default result limit</td>
</tr>
<tr>
<td><code>OASTOOLS_WALK_DETAIL_LIMIT</code></td>
<td><code>25</code></td>
<td>Detail mode result limit</td>
</tr>
<tr>
<td><code>OASTOOLS_VALIDATE_STRICT</code></td>
<td><code>false</code></td>
<td>Enable strict validation</td>
</tr>
<tr>
<td><code>OASTOOLS_VALIDATE_NO_WARNINGS</code></td>
<td><code>false</code></td>
<td>Suppress validation warnings</td>
</tr>
<tr>
<td><code>OASTOOLS_JOIN_PATH_STRATEGY</code></td>
<td>‚Äî</td>
<td>Default path collision strategy</td>
</tr>
<tr>
<td><code>OASTOOLS_JOIN_SCHEMA_STRATEGY</code></td>
<td>‚Äî</td>
<td>Default schema collision strategy</td>
</tr>
</tbody>
</table>
<h3 id="154-security">15.4 Security</h3>
<p>The MCP server implements several security measures:</p>
<ul>
<li><strong>Error sanitization</strong> ‚Äî Filesystem paths are stripped from error messages to prevent information disclosure</li>
<li><strong>Output path sanitization</strong> ‚Äî Generated output paths are validated against path traversal, with symlink checks</li>
<li><strong>SSRF protection</strong> ‚Äî Blocks resolution of private, loopback, and link-local IP addresses (opt-out via <code>OASTOOLS_ALLOW_PRIVATE_IPS</code>)</li>
<li><strong>Input size bounds</strong> ‚Äî Inline content limited to 10 MiB (configurable via <code>OASTOOLS_MAX_INLINE_SIZE</code>)</li>
<li><strong>Pagination safety</strong> ‚Äî Limit parameter capped at 1000 (<code>OASTOOLS_MAX_LIMIT</code>)</li>
<li><strong>Join spec bounds</strong> ‚Äî Maximum 20 specs per join operation (<code>OASTOOLS_MAX_JOIN_SPECS</code>)</li>
<li><strong>Package name validation</strong> ‚Äî Generated package names validated against <code>^[a-z][a-z0-9_]*$</code></li>
</ul>
<hr />
<h2 id="16-error-handling-with-oaserrors">16. Error Handling with oaserrors</h2>
<blockquote>
<p><strong>Links:</strong> <a href="https://pkg.go.dev/github.com/erraggy/oastools/oaserrors">pkg.go.dev</a></p>
</blockquote>
<p>The oaserrors package provides structured error types that integrate with Go's standard error handling mechanisms.</p>
<h3 id="161-error-types">16.1 Error Types</h3>
<table>
<thead>
<tr>
<th>Type</th>
<th>Description</th>
<th>Sentinel</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>ParseError</code></td>
<td>YAML/JSON parsing failures</td>
<td><code>ErrParse</code></td>
</tr>
<tr>
<td><code>ReferenceError</code></td>
<td><code>$ref</code> resolution failures</td>
<td><code>ErrReference</code></td>
</tr>
<tr>
<td><code>ValidationError</code></td>
<td>Specification violations</td>
<td><code>ErrValidation</code></td>
</tr>
<tr>
<td><code>ResourceLimitError</code></td>
<td>Resource exhaustion</td>
<td><code>ErrResourceLimit</code></td>
</tr>
<tr>
<td><code>ConversionError</code></td>
<td>Version conversion failures</td>
<td><code>ErrConversion</code></td>
</tr>
<tr>
<td><code>ConfigError</code></td>
<td>Invalid configuration</td>
<td><code>ErrConfig</code></td>
</tr>
</tbody>
</table>
<h3 id="162-specialized-sentinels">16.2 Specialized Sentinels</h3>
<table>
<thead>
<tr>
<th>Sentinel</th>
<th>Matches</th>
<th>Condition</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>ErrCircularReference</code></td>
<td><code>ReferenceError</code></td>
<td><code>IsCircular == true</code></td>
</tr>
<tr>
<td><code>ErrPathTraversal</code></td>
<td><code>ReferenceError</code></td>
<td><code>IsPathTraversal == true</code></td>
</tr>
</tbody>
</table>
<h3 id="163-usage-with-errorsis">16.3 Usage with errors.Is</h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-53-1" name="__codelineno-53-1" href="#__codelineno-53-1"></a><span class="nx">result</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">parser</span><span class="p">.</span><span class="nx">ParseWithOptions</span><span class="p">(</span><span class="nx">parser</span><span class="p">.</span><span class="nx">WithFilePath</span><span class="p">(</span><span class="s">&quot;api.yaml&quot;</span><span class="p">))</span>
<a id="__codelineno-53-2" name="__codelineno-53-2" href="#__codelineno-53-2"></a><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-53-3" name="__codelineno-53-3" href="#__codelineno-53-3"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="nx">errors</span><span class="p">.</span><span class="nx">Is</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span><span class="w"> </span><span class="nx">oaserrors</span><span class="p">.</span><span class="nx">ErrPathTraversal</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-53-4" name="__codelineno-53-4" href="#__codelineno-53-4"></a><span class="w">        </span><span class="nx">log</span><span class="p">.</span><span class="nx">Fatal</span><span class="p">(</span><span class="s">&quot;Security: path traversal blocked&quot;</span><span class="p">)</span>
<a id="__codelineno-53-5" name="__codelineno-53-5" href="#__codelineno-53-5"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-53-6" name="__codelineno-53-6" href="#__codelineno-53-6"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="nx">errors</span><span class="p">.</span><span class="nx">Is</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span><span class="w"> </span><span class="nx">oaserrors</span><span class="p">.</span><span class="nx">ErrCircularReference</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-53-7" name="__codelineno-53-7" href="#__codelineno-53-7"></a><span class="w">        </span><span class="nx">log</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="s">&quot;Warning: circular reference detected&quot;</span><span class="p">)</span>
<a id="__codelineno-53-8" name="__codelineno-53-8" href="#__codelineno-53-8"></a><span class="w">        </span><span class="c1">// May still be usable</span>
<a id="__codelineno-53-9" name="__codelineno-53-9" href="#__codelineno-53-9"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-53-10" name="__codelineno-53-10" href="#__codelineno-53-10"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="nx">errors</span><span class="p">.</span><span class="nx">Is</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span><span class="w"> </span><span class="nx">oaserrors</span><span class="p">.</span><span class="nx">ErrParse</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-53-11" name="__codelineno-53-11" href="#__codelineno-53-11"></a><span class="w">        </span><span class="nx">log</span><span class="p">.</span><span class="nx">Fatal</span><span class="p">(</span><span class="s">&quot;Failed to parse document&quot;</span><span class="p">)</span>
<a id="__codelineno-53-12" name="__codelineno-53-12" href="#__codelineno-53-12"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-53-13" name="__codelineno-53-13" href="#__codelineno-53-13"></a><span class="p">}</span>
</code></pre></div>
<h3 id="164-usage-with-errorsas">16.4 Usage with errors.As</h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-54-1" name="__codelineno-54-1" href="#__codelineno-54-1"></a><span class="kd">var</span><span class="w"> </span><span class="nx">refErr</span><span class="w"> </span><span class="o">*</span><span class="nx">oaserrors</span><span class="p">.</span><span class="nx">ReferenceError</span>
<a id="__codelineno-54-2" name="__codelineno-54-2" href="#__codelineno-54-2"></a><span class="k">if</span><span class="w"> </span><span class="nx">errors</span><span class="p">.</span><span class="nx">As</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="nx">refErr</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-54-3" name="__codelineno-54-3" href="#__codelineno-54-3"></a><span class="w">    </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Printf</span><span class="p">(</span><span class="s">&quot;Failed ref: %s (type: %s)\n&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">refErr</span><span class="p">.</span><span class="nx">Ref</span><span class="p">,</span><span class="w"> </span><span class="nx">refErr</span><span class="p">.</span><span class="nx">RefType</span><span class="p">)</span>
<a id="__codelineno-54-4" name="__codelineno-54-4" href="#__codelineno-54-4"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="nx">refErr</span><span class="p">.</span><span class="nx">IsCircular</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-54-5" name="__codelineno-54-5" href="#__codelineno-54-5"></a><span class="w">        </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="s">&quot;Circular reference detected&quot;</span><span class="p">)</span>
<a id="__codelineno-54-6" name="__codelineno-54-6" href="#__codelineno-54-6"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-54-7" name="__codelineno-54-7" href="#__codelineno-54-7"></a><span class="p">}</span>
<a id="__codelineno-54-8" name="__codelineno-54-8" href="#__codelineno-54-8"></a>
<a id="__codelineno-54-9" name="__codelineno-54-9" href="#__codelineno-54-9"></a><span class="kd">var</span><span class="w"> </span><span class="nx">valErr</span><span class="w"> </span><span class="o">*</span><span class="nx">oaserrors</span><span class="p">.</span><span class="nx">ValidationError</span>
<a id="__codelineno-54-10" name="__codelineno-54-10" href="#__codelineno-54-10"></a><span class="k">if</span><span class="w"> </span><span class="nx">errors</span><span class="p">.</span><span class="nx">As</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="nx">valErr</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-54-11" name="__codelineno-54-11" href="#__codelineno-54-11"></a><span class="w">    </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Printf</span><span class="p">(</span><span class="s">&quot;Validation error at %s: %s\n&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">valErr</span><span class="p">.</span><span class="nx">Path</span><span class="p">,</span><span class="w"> </span><span class="nx">valErr</span><span class="p">.</span><span class="nx">Message</span><span class="p">)</span>
<a id="__codelineno-54-12" name="__codelineno-54-12" href="#__codelineno-54-12"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="nx">valErr</span><span class="p">.</span><span class="nx">SpecRef</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-54-13" name="__codelineno-54-13" href="#__codelineno-54-13"></a><span class="w">        </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Printf</span><span class="p">(</span><span class="s">&quot;See: %s\n&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">valErr</span><span class="p">.</span><span class="nx">SpecRef</span><span class="p">)</span>
<a id="__codelineno-54-14" name="__codelineno-54-14" href="#__codelineno-54-14"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-54-15" name="__codelineno-54-15" href="#__codelineno-54-15"></a><span class="p">}</span>
</code></pre></div>
<h3 id="165-error-chaining">16.5 Error Chaining</h3>
<p>All error types support chaining via the <code>Cause</code> field and <code>Unwrap()</code> method.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-55-1" name="__codelineno-55-1" href="#__codelineno-55-1"></a><span class="kd">var</span><span class="w"> </span><span class="nx">refErr</span><span class="w"> </span><span class="o">*</span><span class="nx">oaserrors</span><span class="p">.</span><span class="nx">ReferenceError</span>
<a id="__codelineno-55-2" name="__codelineno-55-2" href="#__codelineno-55-2"></a><span class="k">if</span><span class="w"> </span><span class="nx">errors</span><span class="p">.</span><span class="nx">As</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="nx">refErr</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-55-3" name="__codelineno-55-3" href="#__codelineno-55-3"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="nx">errors</span><span class="p">.</span><span class="nx">Is</span><span class="p">(</span><span class="nx">refErr</span><span class="p">.</span><span class="nx">Cause</span><span class="p">,</span><span class="w"> </span><span class="nx">os</span><span class="p">.</span><span class="nx">ErrNotExist</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-55-4" name="__codelineno-55-4" href="#__codelineno-55-4"></a><span class="w">        </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="s">&quot;Referenced file does not exist&quot;</span><span class="p">)</span>
<a id="__codelineno-55-5" name="__codelineno-55-5" href="#__codelineno-55-5"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-55-6" name="__codelineno-55-6" href="#__codelineno-55-6"></a><span class="p">}</span>
</code></pre></div>
<h3 id="166-structured-error-locality">16.6 Structured Error Locality</h3>
<p>Error and warning types in the <a href="#12-builder-package">builder</a>, <a href="#8-joiner-package">joiner</a>, and <a href="#9-overlay-package">overlay</a> packages implement the <code>HasLocation()</code> and <code>Location()</code> methods for programmatic error handling with source context. This enables IDE-friendly error reporting and structured handling of non-fatal issues.</p>
<p><strong>BuilderError:</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-56-1" name="__codelineno-56-1" href="#__codelineno-56-1"></a><span class="kd">var</span><span class="w"> </span><span class="nx">builderErr</span><span class="w"> </span><span class="o">*</span><span class="nx">builder</span><span class="p">.</span><span class="nx">BuilderError</span>
<a id="__codelineno-56-2" name="__codelineno-56-2" href="#__codelineno-56-2"></a><span class="k">if</span><span class="w"> </span><span class="nx">errors</span><span class="p">.</span><span class="nx">As</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="nx">builderErr</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-56-3" name="__codelineno-56-3" href="#__codelineno-56-3"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="nx">builderErr</span><span class="p">.</span><span class="nx">HasLocation</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-56-4" name="__codelineno-56-4" href="#__codelineno-56-4"></a><span class="w">        </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Printf</span><span class="p">(</span><span class="s">&quot;Error at %s: %s\n&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">builderErr</span><span class="p">.</span><span class="nx">Location</span><span class="p">(),</span><span class="w"> </span><span class="nx">builderErr</span><span class="p">.</span><span class="nx">Message</span><span class="p">)</span>
<a id="__codelineno-56-5" name="__codelineno-56-5" href="#__codelineno-56-5"></a><span class="w">        </span><span class="c1">// Output: Error at POST /users: duplicate operationId &quot;createUser&quot;</span>
<a id="__codelineno-56-6" name="__codelineno-56-6" href="#__codelineno-56-6"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-56-7" name="__codelineno-56-7" href="#__codelineno-56-7"></a><span class="p">}</span>
</code></pre></div>
<p><strong>JoinWarning:</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-57-1" name="__codelineno-57-1" href="#__codelineno-57-1"></a><span class="k">for</span><span class="w"> </span><span class="nx">_</span><span class="p">,</span><span class="w"> </span><span class="nx">w</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="k">range</span><span class="w"> </span><span class="nx">result</span><span class="p">.</span><span class="nx">StructuredWarnings</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-57-2" name="__codelineno-57-2" href="#__codelineno-57-2"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="nx">w</span><span class="p">.</span><span class="nx">HasLocation</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-57-3" name="__codelineno-57-3" href="#__codelineno-57-3"></a><span class="w">        </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Printf</span><span class="p">(</span><span class="s">&quot;%s: %s\n&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">w</span><span class="p">.</span><span class="nx">Location</span><span class="p">(),</span><span class="w"> </span><span class="nx">w</span><span class="p">.</span><span class="nx">Message</span><span class="p">)</span>
<a id="__codelineno-57-4" name="__codelineno-57-4" href="#__codelineno-57-4"></a><span class="w">        </span><span class="c1">// Output: users.yaml:42:5: schema &#39;User&#39; collision resolved</span>
<a id="__codelineno-57-5" name="__codelineno-57-5" href="#__codelineno-57-5"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-57-6" name="__codelineno-57-6" href="#__codelineno-57-6"></a><span class="p">}</span>
</code></pre></div>
<p><strong>ApplyWarning (Overlay):</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-58-1" name="__codelineno-58-1" href="#__codelineno-58-1"></a><span class="k">for</span><span class="w"> </span><span class="nx">_</span><span class="p">,</span><span class="w"> </span><span class="nx">w</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="k">range</span><span class="w"> </span><span class="nx">result</span><span class="p">.</span><span class="nx">StructuredWarnings</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-58-2" name="__codelineno-58-2" href="#__codelineno-58-2"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="nx">w</span><span class="p">.</span><span class="nx">HasLocation</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-58-3" name="__codelineno-58-3" href="#__codelineno-58-3"></a><span class="w">        </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Printf</span><span class="p">(</span><span class="s">&quot;%s: %s\n&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">w</span><span class="p">.</span><span class="nx">Location</span><span class="p">(),</span><span class="w"> </span><span class="nx">w</span><span class="p">.</span><span class="nx">Message</span><span class="p">)</span>
<a id="__codelineno-58-4" name="__codelineno-58-4" href="#__codelineno-58-4"></a><span class="w">        </span><span class="c1">// Output: action[2]: target matched no nodes</span>
<a id="__codelineno-58-5" name="__codelineno-58-5" href="#__codelineno-58-5"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-58-6" name="__codelineno-58-6" href="#__codelineno-58-6"></a><span class="p">}</span>
</code></pre></div>
<hr />
<h2 id="17-performance-analysis">17. Performance Analysis</h2>
<p>oastools includes comprehensive benchmarking infrastructure and has undergone targeted optimization to achieve significant performance improvements.</p>
<h3 id="171-pre-parsed-workflow-optimization">17.1 Pre-Parsed Workflow Optimization</h3>
<p>The most significant performance gain comes from the parse-once pattern. When the same document undergoes multiple operations, parsing once and passing the result to subsequent operations eliminates redundant work.</p>
<table>
<thead>
<tr>
<th>Operation</th>
<th>Standard</th>
<th>Pre-Parsed</th>
<th>Speedup</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="#5-validator-package">Validate</a></td>
<td>135 Œºs</td>
<td>4.8 Œºs</td>
<td>31x</td>
</tr>
<tr>
<td><a href="#7-converter-package">Convert</a></td>
<td>152 Œºs</td>
<td>3.2 Œºs</td>
<td>47x</td>
</tr>
<tr>
<td><a href="#8-joiner-package">Join</a> (2 docs)</td>
<td>110 Œºs</td>
<td>732 ns</td>
<td>150x</td>
</tr>
<tr>
<td><a href="#10-differ-package">Diff</a></td>
<td>280 Œºs</td>
<td>12.7 Œºs</td>
<td>81x</td>
</tr>
<tr>
<td><a href="#6-fixer-package">Fix</a></td>
<td>140 Œºs</td>
<td>2.8 Œºs</td>
<td>~60x</td>
</tr>
<tr>
<td><a href="#9-overlay-package">Apply</a> (overlay)</td>
<td>120 Œºs</td>
<td>~8 Œºs</td>
<td>~11x</td>
</tr>
</tbody>
</table>
<p><strong>Usage Pattern:</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-59-1" name="__codelineno-59-1" href="#__codelineno-59-1"></a><span class="c1">// Parse once</span>
<a id="__codelineno-59-2" name="__codelineno-59-2" href="#__codelineno-59-2"></a><span class="nx">parsed</span><span class="p">,</span><span class="w"> </span><span class="nx">_</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">parser</span><span class="p">.</span><span class="nx">ParseWithOptions</span><span class="p">(</span><span class="nx">parser</span><span class="p">.</span><span class="nx">WithFilePath</span><span class="p">(</span><span class="s">&quot;api.yaml&quot;</span><span class="p">))</span>
<a id="__codelineno-59-3" name="__codelineno-59-3" href="#__codelineno-59-3"></a>
<a id="__codelineno-59-4" name="__codelineno-59-4" href="#__codelineno-59-4"></a><span class="c1">// Reuse for multiple operations</span>
<a id="__codelineno-59-5" name="__codelineno-59-5" href="#__codelineno-59-5"></a><span class="nx">valResult</span><span class="p">,</span><span class="w"> </span><span class="nx">_</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">validator</span><span class="p">.</span><span class="nx">ValidateWithOptions</span><span class="p">(</span><span class="nx">validator</span><span class="p">.</span><span class="nx">WithParsed</span><span class="p">(</span><span class="o">*</span><span class="nx">parsed</span><span class="p">))</span>
<a id="__codelineno-59-6" name="__codelineno-59-6" href="#__codelineno-59-6"></a><span class="nx">fixResult</span><span class="p">,</span><span class="w"> </span><span class="nx">_</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">fixer</span><span class="p">.</span><span class="nx">FixWithOptions</span><span class="p">(</span><span class="nx">fixer</span><span class="p">.</span><span class="nx">WithParsed</span><span class="p">(</span><span class="o">*</span><span class="nx">parsed</span><span class="p">))</span>
<a id="__codelineno-59-7" name="__codelineno-59-7" href="#__codelineno-59-7"></a><span class="nx">convResult</span><span class="p">,</span><span class="w"> </span><span class="nx">_</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">converter</span><span class="p">.</span><span class="nx">ConvertWithOptions</span><span class="p">(</span>
<a id="__codelineno-59-8" name="__codelineno-59-8" href="#__codelineno-59-8"></a><span class="w">    </span><span class="nx">converter</span><span class="p">.</span><span class="nx">WithParsed</span><span class="p">(</span><span class="o">*</span><span class="nx">parsed</span><span class="p">),</span>
<a id="__codelineno-59-9" name="__codelineno-59-9" href="#__codelineno-59-9"></a><span class="w">    </span><span class="nx">converter</span><span class="p">.</span><span class="nx">WithTargetVersion</span><span class="p">(</span><span class="s">&quot;3.1.0&quot;</span><span class="p">),</span>
<a id="__codelineno-59-10" name="__codelineno-59-10" href="#__codelineno-59-10"></a><span class="p">)</span>
</code></pre></div>
<h3 id="172-json-marshaling-optimization">17.2 JSON Marshaling Optimization</h3>
<p>Version 1.7.0 introduced optimized JSON marshaling that eliminates double-marshal patterns across all 29 custom JSON marshalers in the <a href="#4-parser-package">parser package</a>.</p>
<table>
<thead>
<tr>
<th>Improvement</th>
<th>Before</th>
<th>After</th>
</tr>
</thead>
<tbody>
<tr>
<td>Performance</td>
<td>Baseline</td>
<td>25-32% faster</td>
</tr>
<tr>
<td>Allocations</td>
<td>Baseline</td>
<td>29-37% fewer</td>
</tr>
</tbody>
</table>
<h3 id="173-deepcopy-optimization">17.3 DeepCopy Optimization</h3>
<p>Version 1.20.0 replaced JSON marshal/unmarshal with code-generated <code>DeepCopy()</code> methods.</p>
<table>
<thead>
<tr>
<th>Improvement</th>
<th>Before</th>
<th>After</th>
</tr>
</thead>
<tbody>
<tr>
<td>Deep copy speed</td>
<td>Baseline</td>
<td>~37x faster</td>
</tr>
<tr>
<td>Type preservation</td>
<td>No</td>
<td>Yes</td>
</tr>
<tr>
<td>Memory efficiency</td>
<td>Baseline</td>
<td>Significantly better</td>
</tr>
</tbody>
</table>
<h3 id="174-http-validator-performance">17.4 HTTP Validator Performance</h3>
<p>The <a href="#13-http-validator-package">httpvalidator package</a> is optimized for high-throughput scenarios.</p>
<table>
<thead>
<tr>
<th>Operation</th>
<th>Time</th>
<th>Memory</th>
<th>Allocations</th>
</tr>
</thead>
<tbody>
<tr>
<td>Path matching (small spec)</td>
<td>210 ns</td>
<td>528 B</td>
<td>8</td>
</tr>
<tr>
<td>Path matching (large spec)</td>
<td>502 ns</td>
<td>528 B</td>
<td>8</td>
</tr>
<tr>
<td>With JSON body</td>
<td>455 ns</td>
<td>1.5 KB</td>
<td>16</td>
</tr>
<tr>
<td>Response validation</td>
<td>110 ns</td>
<td>256 B</td>
<td>2</td>
</tr>
</tbody>
</table>
<h3 id="175-benchmark-reliability">17.5 Benchmark Reliability</h3>
<p>File-based benchmarks can vary ¬±50% due to I/O variance. For reliable regression detection, use I/O-isolated benchmarks.</p>
<p><strong>Reliable Benchmarks:</strong></p>
<table>
<thead>
<tr>
<th>Package</th>
<th>Benchmark</th>
<th>Measures</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="#4-parser-package">parser</a></td>
<td><code>BenchmarkParseCore</code></td>
<td>Parsing logic only</td>
</tr>
<tr>
<td><a href="#8-joiner-package">joiner</a></td>
<td><code>BenchmarkJoinParsed</code></td>
<td>Joining logic only</td>
</tr>
<tr>
<td><a href="#5-validator-package">validator</a></td>
<td><code>BenchmarkValidateParsed</code></td>
<td>Validation logic only</td>
</tr>
<tr>
<td><a href="#6-fixer-package">fixer</a></td>
<td><code>BenchmarkFixParsed</code></td>
<td>Fixing logic only</td>
</tr>
<tr>
<td><a href="#7-converter-package">converter</a></td>
<td><code>BenchmarkConvertParsed*</code></td>
<td>Conversion logic only</td>
</tr>
<tr>
<td><a href="#10-differ-package">differ</a></td>
<td><code>BenchmarkDiff/Parsed</code></td>
<td>Diffing logic only</td>
</tr>
<tr>
<td><a href="#14-walker-package">walker</a></td>
<td><code>BenchmarkWalk/Parsed</code></td>
<td>Walking logic only</td>
</tr>
</tbody>
</table>
<h3 id="176-memory-optimization-syncpool-v1450">17.6 Memory Optimization: sync.Pool (v1.45.0)</h3>
<p>The parser and generator packages use <code>sync.Pool</code> to reduce GC pressure:</p>
<p><strong>Marshal Buffer Pool</strong> (parser):</p>
<ul>
<li>Reuses <code>bytes.Buffer</code> for JSON/YAML marshaling</li>
<li>Up to 36% fewer allocations for large documents</li>
<li>78x faster buffer acquisition vs allocation</li>
</ul>
<p><strong>Template Buffer Pool</strong> (generator):</p>
<ul>
<li>Tiered pools (8KB/32KB/64KB) based on operation count</li>
<li>Prevents oversized allocations during code generation</li>
</ul>
<p><strong>Design Decisions:</strong></p>
<ul>
<li>All pools are internal (package-private)</li>
<li>Reset-on-get pattern ensures clean state</li>
<li>Size guards prevent memory leaks from oversized objects</li>
<li>7 planned pools were cut (YAGNI) due to use-after-put risks</li>
</ul>
<p>Capacity decisions are data-driven from corpus analysis of 10 real-world OpenAPI specs (19,147 operations, 360,577 schemas).</p>
<h3 id="177-json-fast-path-v1470">17.7 ‚ö° JSON Fast-Path (v1.47.0)</h3>
<p>The parser now automatically uses an optimized path for JSON input that bypasses YAML AST overhead.</p>
<table>
<thead>
<tr>
<th>Metric</th>
<th>Standard Path</th>
<th>JSON Fast-Path</th>
<th>Improvement</th>
</tr>
</thead>
<tbody>
<tr>
<td>Parse time (large specs)</td>
<td>~2.5s</td>
<td>~0.3s</td>
<td>~88% reduction</td>
</tr>
<tr>
<td>Memory allocation</td>
<td>~750MB</td>
<td>~50MB</td>
<td>~93% reduction</td>
</tr>
</tbody>
</table>
<p>The fast-path activates automatically when:</p>
<ul>
<li>‚úÖ Input is detected as JSON format</li>
<li>‚úÖ Source map building is disabled</li>
<li>‚úÖ Order preservation is disabled</li>
</ul>
<h3 id="178-pathbuilder-optimization-v1480-v1481">17.8 üöÄ PathBuilder Optimization (v1.48.0-v1.48.1)</h3>
<p>A new internal <code>pathutil</code> package provides efficient incremental path building using push/pop semantics, eliminating allocations during recursive document traversal.</p>
<table>
<thead>
<tr>
<th>Operation</th>
<th>fmt.Sprintf</th>
<th>PathBuilder</th>
<th>Improvement</th>
</tr>
</thead>
<tbody>
<tr>
<td>Deep path building</td>
<td>~1-2Œºs</td>
<td>~200-300ns</td>
<td>~6-8x faster</td>
</tr>
<tr>
<td>Path without String()</td>
<td>~200-300ns</td>
<td>~20-50ns</td>
<td>~4-10x faster</td>
</tr>
<tr>
<td>SchemaRef building</td>
<td>~30-50ns</td>
<td>~5-10ns</td>
<td>~5x faster</td>
</tr>
</tbody>
</table>
<p>The v1.48.1 release migrated the validator, fixer, builder, and joiner packages to use <code>pathutil</code> for all internal ref string building, reducing hot path allocations by ~5-15%.</p>
<h3 id="179-mutable-input-mode-v1480">17.9 ‚ö†Ô∏è Mutable Input Mode (v1.48.0)</h3>
<p>The fixer's <code>WithMutableInput(true)</code> option eliminates defensive copying when chaining multiple fix passes:</p>
<table>
<thead>
<tr>
<th>Scenario</th>
<th>Standard</th>
<th>WithMutableInput</th>
<th>Improvement</th>
</tr>
</thead>
<tbody>
<tr>
<td>Chained fix passes</td>
<td>2√ó copy</td>
<td>1√ó copy</td>
<td>50% memory</td>
</tr>
<tr>
<td>Large spec fixes</td>
<td>Baseline</td>
<td>10-30% less memory</td>
<td>Significant</td>
</tr>
</tbody>
</table>
<h3 id="1710-streaming-extension-extraction-v1490">17.10 üîç Streaming Extension Extraction (v1.49.0)</h3>
<p>Vendor extension extraction was optimized with a <code>bytes.Contains</code> pre-check for <code>"x-</code> before expensive JSON parsing. This eliminates allocations entirely for documents without vendor extensions.</p>
<table>
<thead>
<tr>
<th>Scenario</th>
<th>Before</th>
<th>After</th>
<th>Improvement</th>
</tr>
</thead>
<tbody>
<tr>
<td>No extensions (common case)</td>
<td>~2,818 ns</td>
<td>~186 ns</td>
<td>15x faster</td>
</tr>
<tr>
<td>Allocations (no extensions)</td>
<td>Baseline</td>
<td>0</td>
<td>Zero-alloc</td>
</tr>
</tbody>
</table>
<h3 id="1711-direct-map-to-struct-decoding-v1510">17.11 üß† Direct Map-to-Struct Decoding (v1.51.0)</h3>
<p>Reference resolution previously used a <code>map ‚Üí JSON bytes ‚Üí struct</code> roundtrip that doubled peak memory. Code-generated <code>decodeFromMap</code> methods now decode <code>map[string]any</code> directly to typed structs for all 29 OAS types, eliminating the intermediate <code>[]byte</code> allocation. Combined with a <code>ShallowCopy</code> optimization that skips deep copy for non-circular references, this significantly reduces memory usage when resolving references in large specifications.</p>
<hr />
<h2 id="18-real-world-validation">18. Real-World Validation</h2>
<p>The oastools test suite validates against a corpus of ten production APIs spanning diverse domains, sizes, and OAS versions.</p>
<h3 id="181-test-corpus">18.1 Test Corpus</h3>
<table>
<thead>
<tr>
<th>API</th>
<th>OAS Version</th>
<th>Size</th>
<th>Domain</th>
<th>Key Testing Focus</th>
</tr>
</thead>
<tbody>
<tr>
<td>Microsoft Graph</td>
<td><a href="https://spec.openapis.org/oas/v3.0.4.html">3.0.4</a></td>
<td>34 MB, ~18k ops</td>
<td>Enterprise</td>
<td>Largest spec, stress testing</td>
</tr>
<tr>
<td>Stripe</td>
<td><a href="https://spec.openapis.org/oas/v3.0.0.html">3.0.0</a></td>
<td>2.5 MB, 900+ ops</td>
<td>FinTech</td>
<td>Polymorphic types, callbacks</td>
</tr>
<tr>
<td>GitHub</td>
<td><a href="https://spec.openapis.org/oas/v3.0.3.html">3.0.3</a></td>
<td>424 KB, 600+ ops</td>
<td>Developer Tools</td>
<td>Extensive $ref linking</td>
</tr>
<tr>
<td>Plaid</td>
<td><a href="https://spec.openapis.org/oas/v3.0.0.html">3.0.0</a></td>
<td>1.2 MB</td>
<td>FinTech</td>
<td>Multi-server, strict security</td>
</tr>
<tr>
<td>Discord</td>
<td><a href="https://spec.openapis.org/oas/v3.1.0.html">3.1.0</a></td>
<td>2-5 MB</td>
<td>Communications</td>
<td>OAS 3.1 features, webhooks</td>
</tr>
<tr>
<td>DigitalOcean</td>
<td><a href="https://spec.openapis.org/oas/v3.0.0.html">3.0.0</a></td>
<td>2.4 MB</td>
<td>Cloud</td>
<td>External $ref files, bundling</td>
</tr>
<tr>
<td>Google Maps</td>
<td><a href="https://spec.openapis.org/oas/v3.0.3.html">3.0.3</a></td>
<td>500 KB</td>
<td>Geo/Mapping</td>
<td>Geo-coordinate parameters</td>
</tr>
<tr>
<td>US NWS</td>
<td><a href="https://spec.openapis.org/oas/v3.0.3.html">3.0.3</a></td>
<td>800 KB</td>
<td>Public/Weather</td>
<td>JSON-LD extensions</td>
</tr>
<tr>
<td>Petstore</td>
<td><a href="https://spec.openapis.org/oas/v2.0.html">2.0</a></td>
<td>20 KB</td>
<td>Reference</td>
<td>Baseline OAS 2.0 compatibility</td>
</tr>
<tr>
<td>Asana</td>
<td><a href="https://spec.openapis.org/oas/v3.0.0.html">3.0.0</a></td>
<td>405 KB</td>
<td>Productivity</td>
<td>OAuth2, clean YAML structure</td>
</tr>
</tbody>
</table>
<h3 id="182-corpus-access">18.2 Corpus Access</h3>
<p>The test corpus can be downloaded for local testing.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-60-1" name="__codelineno-60-1" href="#__codelineno-60-1"></a>make<span class="w"> </span>corpus-download
</code></pre></div>
<p>Specifications are stored in <code>testdata/corpus/</code> with consistent naming.</p>
<h3 id="183-testing-coverage">18.3 Testing Coverage</h3>
<p>The corpus exercises key functionality across packages. <a href="#4-parser-package">Parser</a> testing covers format detection (JSON and YAML), reference resolution (local and external), version detection (<a href="https://spec.openapis.org/oas/v2.0.html">2.0</a> through <a href="https://spec.openapis.org/oas/v3.1.0.html">3.1</a>), large document handling, and circular reference detection. <a href="#5-validator-package">Validator</a> testing covers structural validation, semantic validation, strict mode validation, and source map integration. <a href="#7-converter-package">Converter</a> testing covers OAS 2.0 to 3.x upgrade, OAS 3.x to 2.0 downgrade, and issue tracking. <a href="#8-joiner-package">Joiner</a> testing covers multi-document merging, collision handling, and reference rewriting. <a href="#10-differ-package">Differ</a> testing covers breaking change detection and change categorization. <a href="#11-generator-package">Generator</a> testing covers client generation, server generation, security code generation, and OAuth2 flow generation.</p>
<hr />
<h2 id="19-cli-reference">19. CLI Reference</h2>
<p>oastools provides a comprehensive command-line interface for all major operations.</p>
<h3 id="191-installation">19.1 Installation</h3>
<p><strong>Homebrew:</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-61-1" name="__codelineno-61-1" href="#__codelineno-61-1"></a>brew<span class="w"> </span>install<span class="w"> </span>erraggy/oastools/oastools
</code></pre></div>
<p><strong>Go Install:</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-62-1" name="__codelineno-62-1" href="#__codelineno-62-1"></a>go<span class="w"> </span>install<span class="w"> </span>github.com/erraggy/oastools/cmd/oastools@latest
</code></pre></div>
<h3 id="192-commands">19.2 Commands</h3>
<p><strong>Parse:</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-63-1" name="__codelineno-63-1" href="#__codelineno-63-1"></a>oastools<span class="w"> </span>parse<span class="w"> </span>openapi.yaml
<a id="__codelineno-63-2" name="__codelineno-63-2" href="#__codelineno-63-2"></a>oastools<span class="w"> </span>parse<span class="w"> </span>--resolve-refs<span class="w"> </span>openapi.yaml
<a id="__codelineno-63-3" name="__codelineno-63-3" href="#__codelineno-63-3"></a>oastools<span class="w"> </span>parse<span class="w"> </span>--source-map<span class="w"> </span>openapi.yaml
</code></pre></div>
<p><strong>Validate:</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-64-1" name="__codelineno-64-1" href="#__codelineno-64-1"></a>oastools<span class="w"> </span>validate<span class="w"> </span>openapi.yaml
<a id="__codelineno-64-2" name="__codelineno-64-2" href="#__codelineno-64-2"></a>oastools<span class="w"> </span>validate<span class="w"> </span>--strict<span class="w"> </span>openapi.yaml
<a id="__codelineno-64-3" name="__codelineno-64-3" href="#__codelineno-64-3"></a>oastools<span class="w"> </span>validate<span class="w"> </span>-q<span class="w"> </span>openapi.yaml<span class="w">  </span><span class="c1"># Quiet mode</span>
</code></pre></div>
<p><strong>Fix:</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-65-1" name="__codelineno-65-1" href="#__codelineno-65-1"></a>oastools<span class="w"> </span>fix<span class="w"> </span>openapi.yaml
<a id="__codelineno-65-2" name="__codelineno-65-2" href="#__codelineno-65-2"></a>oastools<span class="w"> </span>fix<span class="w"> </span>--infer<span class="w"> </span>openapi.yaml<span class="w">  </span><span class="c1"># With type inference</span>
<a id="__codelineno-65-3" name="__codelineno-65-3" href="#__codelineno-65-3"></a>oastools<span class="w"> </span>fix<span class="w"> </span>--prune-unused<span class="w"> </span>openapi.yaml<span class="w">  </span><span class="c1"># Remove unused schemas</span>
<a id="__codelineno-65-4" name="__codelineno-65-4" href="#__codelineno-65-4"></a>oastools<span class="w"> </span>fix<span class="w"> </span>-o<span class="w"> </span>fixed.yaml<span class="w"> </span>openapi.yaml<span class="w">  </span><span class="c1"># Output to file</span>
</code></pre></div>
<p><strong>Convert:</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-66-1" name="__codelineno-66-1" href="#__codelineno-66-1"></a>oastools<span class="w"> </span>convert<span class="w"> </span>-t<span class="w"> </span><span class="m">3</span>.1.0<span class="w"> </span>swagger.yaml
<a id="__codelineno-66-2" name="__codelineno-66-2" href="#__codelineno-66-2"></a>oastools<span class="w"> </span>convert<span class="w"> </span>-t<span class="w"> </span><span class="m">2</span>.0<span class="w"> </span>openapi.yaml<span class="w">  </span><span class="c1"># Downgrade</span>
<a id="__codelineno-66-3" name="__codelineno-66-3" href="#__codelineno-66-3"></a>oastools<span class="w"> </span>convert<span class="w"> </span>-t<span class="w"> </span><span class="m">3</span>.1.0<span class="w"> </span>-o<span class="w"> </span>converted.yaml<span class="w"> </span>swagger.yaml
</code></pre></div>
<p><strong>Join:</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-67-1" name="__codelineno-67-1" href="#__codelineno-67-1"></a>oastools<span class="w"> </span>join<span class="w"> </span>api1.yaml<span class="w"> </span>api2.yaml<span class="w"> </span>api3.yaml
<a id="__codelineno-67-2" name="__codelineno-67-2" href="#__codelineno-67-2"></a>oastools<span class="w"> </span>join<span class="w"> </span>--strategy<span class="w"> </span>accept-left<span class="w"> </span>*.yaml
<a id="__codelineno-67-3" name="__codelineno-67-3" href="#__codelineno-67-3"></a>oastools<span class="w"> </span>join<span class="w"> </span>-o<span class="w"> </span>combined.yaml<span class="w"> </span>users.yaml<span class="w"> </span>orders.yaml
</code></pre></div>
<p><strong>Overlay:</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-68-1" name="__codelineno-68-1" href="#__codelineno-68-1"></a>oastools<span class="w"> </span>overlay<span class="w"> </span>apply<span class="w"> </span>-s<span class="w"> </span>openapi.yaml<span class="w"> </span>changes.yaml
<a id="__codelineno-68-2" name="__codelineno-68-2" href="#__codelineno-68-2"></a>oastools<span class="w"> </span>overlay<span class="w"> </span>apply<span class="w"> </span>--dry-run<span class="w"> </span>-s<span class="w"> </span>openapi.yaml<span class="w"> </span>changes.yaml
<a id="__codelineno-68-3" name="__codelineno-68-3" href="#__codelineno-68-3"></a>oastools<span class="w"> </span>overlay<span class="w"> </span>apply<span class="w"> </span>--strict<span class="w"> </span>-s<span class="w"> </span>openapi.yaml<span class="w"> </span>changes.yaml
</code></pre></div>
<p><strong>Diff:</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-69-1" name="__codelineno-69-1" href="#__codelineno-69-1"></a>oastools<span class="w"> </span>diff<span class="w"> </span>v1.yaml<span class="w"> </span>v2.yaml
<a id="__codelineno-69-2" name="__codelineno-69-2" href="#__codelineno-69-2"></a>oastools<span class="w"> </span>diff<span class="w"> </span>--breaking<span class="w"> </span>v1.yaml<span class="w"> </span>v2.yaml<span class="w">  </span><span class="c1"># Breaking changes only</span>
<a id="__codelineno-69-3" name="__codelineno-69-3" href="#__codelineno-69-3"></a>oastools<span class="w"> </span>diff<span class="w"> </span>--format<span class="w"> </span>json<span class="w"> </span>v1.yaml<span class="w"> </span>v2.yaml
</code></pre></div>
<p><strong>Generate:</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-70-1" name="__codelineno-70-1" href="#__codelineno-70-1"></a>oastools<span class="w"> </span>generate<span class="w"> </span>-client<span class="w"> </span>-p<span class="w"> </span>petstore<span class="w"> </span>openapi.yaml
<a id="__codelineno-70-2" name="__codelineno-70-2" href="#__codelineno-70-2"></a>oastools<span class="w"> </span>generate<span class="w"> </span>-server<span class="w"> </span>-server-all<span class="w"> </span>-p<span class="w"> </span>petstore<span class="w"> </span>openapi.yaml
<a id="__codelineno-70-3" name="__codelineno-70-3" href="#__codelineno-70-3"></a>oastools<span class="w"> </span>generate<span class="w"> </span>-client<span class="w"> </span>-server<span class="w"> </span>-oauth2-flows<span class="w"> </span>-p<span class="w"> </span>petstore<span class="w"> </span>openapi.yaml
<a id="__codelineno-70-4" name="__codelineno-70-4" href="#__codelineno-70-4"></a>oastools<span class="w"> </span>generate<span class="w"> </span>-client<span class="w"> </span>-security-enforce<span class="w"> </span>-credential-mgmt<span class="w"> </span>-p<span class="w"> </span>petstore<span class="w"> </span>openapi.yaml
</code></pre></div>
<p><strong>Walk (v1.50.0+):</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-71-1" name="__codelineno-71-1" href="#__codelineno-71-1"></a>oastools<span class="w"> </span>walk<span class="w"> </span>operations<span class="w"> </span>openapi.yaml<span class="w">                  </span><span class="c1"># List all operations</span>
<a id="__codelineno-71-2" name="__codelineno-71-2" href="#__codelineno-71-2"></a>oastools<span class="w"> </span>walk<span class="w"> </span>operations<span class="w"> </span>--method<span class="w"> </span>GET<span class="w"> </span>openapi.yaml<span class="w">     </span><span class="c1"># Filter by method</span>
<a id="__codelineno-71-3" name="__codelineno-71-3" href="#__codelineno-71-3"></a>oastools<span class="w"> </span>walk<span class="w"> </span>schemas<span class="w"> </span>--type<span class="w"> </span>object<span class="w"> </span>openapi.yaml<span class="w">       </span><span class="c1"># Filter schemas by type</span>
<a id="__codelineno-71-4" name="__codelineno-71-4" href="#__codelineno-71-4"></a>oastools<span class="w"> </span>walk<span class="w"> </span>parameters<span class="w"> </span>--in<span class="w"> </span>query<span class="w"> </span>openapi.yaml<span class="w">       </span><span class="c1"># Filter by location</span>
<a id="__codelineno-71-5" name="__codelineno-71-5" href="#__codelineno-71-5"></a>oastools<span class="w"> </span>walk<span class="w"> </span>responses<span class="w"> </span>--status<span class="w"> </span>2xx<span class="w"> </span>openapi.yaml<span class="w">      </span><span class="c1"># Wildcard status codes</span>
<a id="__codelineno-71-6" name="__codelineno-71-6" href="#__codelineno-71-6"></a>oastools<span class="w"> </span>walk<span class="w"> </span>security<span class="w"> </span>openapi.yaml<span class="w">                    </span><span class="c1"># List security schemes</span>
<a id="__codelineno-71-7" name="__codelineno-71-7" href="#__codelineno-71-7"></a>oastools<span class="w"> </span>walk<span class="w"> </span>paths<span class="w"> </span>--path<span class="w"> </span><span class="s1">&#39;/pets/*&#39;</span><span class="w"> </span>openapi.yaml<span class="w">      </span><span class="c1"># Glob pattern matching</span>
</code></pre></div>
<p>Walk subcommands support <code>--format</code> (text/json/yaml), <code>--detail</code> for full output, <code>--extension</code> for vendor extension filtering, and <code>--resolve-refs</code> for <code>$ref</code> resolution.</p>
<p><strong>MCP (v1.51.0+):</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-72-1" name="__codelineno-72-1" href="#__codelineno-72-1"></a>oastools<span class="w"> </span>mcp<span class="w">  </span><span class="c1"># Start MCP server over stdio</span>
</code></pre></div>
<p>The MCP command launches a <a href="https://modelcontextprotocol.io/">Model Context Protocol</a> server that exposes all oastools capabilities as tools. See <a href="#15-mcp-server">¬ß15. MCP Server</a> for details.</p>
<h3 id="193-global-flags">19.3 Global Flags</h3>
<table>
<thead>
<tr>
<th>Flag</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>-h, --help</code></td>
<td>Show help</td>
</tr>
<tr>
<td><code>-v, --version</code></td>
<td>Show version</td>
</tr>
<tr>
<td><code>-q, --quiet</code></td>
<td>Suppress informational output</td>
</tr>
<tr>
<td><code>--no-color</code></td>
<td>Disable colored output</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="20-api-design-patterns">20. API Design Patterns</h2>
<p>oastools provides two complementary API styles for different use cases.</p>
<h3 id="201-functional-options-pattern">20.1 Functional Options Pattern</h3>
<p>Best for one-off operations with explicit configuration.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-73-1" name="__codelineno-73-1" href="#__codelineno-73-1"></a><span class="nx">result</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">parser</span><span class="p">.</span><span class="nx">ParseWithOptions</span><span class="p">(</span>
<a id="__codelineno-73-2" name="__codelineno-73-2" href="#__codelineno-73-2"></a><span class="w">    </span><span class="nx">parser</span><span class="p">.</span><span class="nx">WithFilePath</span><span class="p">(</span><span class="s">&quot;api.yaml&quot;</span><span class="p">),</span>
<a id="__codelineno-73-3" name="__codelineno-73-3" href="#__codelineno-73-3"></a><span class="w">    </span><span class="nx">parser</span><span class="p">.</span><span class="nx">WithResolveRefs</span><span class="p">(</span><span class="kc">true</span><span class="p">),</span>
<a id="__codelineno-73-4" name="__codelineno-73-4" href="#__codelineno-73-4"></a><span class="w">    </span><span class="nx">parser</span><span class="p">.</span><span class="nx">WithSourceMap</span><span class="p">(</span><span class="kc">true</span><span class="p">),</span>
<a id="__codelineno-73-5" name="__codelineno-73-5" href="#__codelineno-73-5"></a><span class="p">)</span>
</code></pre></div>
<p><strong>Advantages:</strong> Self-documenting, compile-time safety, easy to extend.</p>
<h3 id="202-struct-based-pattern">20.2 Struct-Based Pattern</h3>
<p>Best for batch processing with shared configuration.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-74-1" name="__codelineno-74-1" href="#__codelineno-74-1"></a><span class="nx">p</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">parser</span><span class="p">.</span><span class="nx">New</span><span class="p">()</span>
<a id="__codelineno-74-2" name="__codelineno-74-2" href="#__codelineno-74-2"></a><span class="nx">p</span><span class="p">.</span><span class="nx">ResolveRefs</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="kc">true</span>
<a id="__codelineno-74-3" name="__codelineno-74-3" href="#__codelineno-74-3"></a><span class="nx">p</span><span class="p">.</span><span class="nx">ValidateStructure</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="kc">true</span>
<a id="__codelineno-74-4" name="__codelineno-74-4" href="#__codelineno-74-4"></a>
<a id="__codelineno-74-5" name="__codelineno-74-5" href="#__codelineno-74-5"></a><span class="k">for</span><span class="w"> </span><span class="nx">_</span><span class="p">,</span><span class="w"> </span><span class="nx">file</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="k">range</span><span class="w"> </span><span class="nx">files</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-74-6" name="__codelineno-74-6" href="#__codelineno-74-6"></a><span class="w">    </span><span class="nx">result</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">p</span><span class="p">.</span><span class="nx">Parse</span><span class="p">(</span><span class="nx">file</span><span class="p">)</span>
<a id="__codelineno-74-7" name="__codelineno-74-7" href="#__codelineno-74-7"></a><span class="w">    </span><span class="c1">// Process result</span>
<a id="__codelineno-74-8" name="__codelineno-74-8" href="#__codelineno-74-8"></a><span class="p">}</span>
</code></pre></div>
<p><strong>Advantages:</strong> Reusable configuration, lower allocation overhead for multiple operations.</p>
<h3 id="203-pre-parsed-pattern">20.3 Pre-Parsed Pattern</h3>
<p>Best for pipeline processing where multiple operations apply to the same document.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-75-1" name="__codelineno-75-1" href="#__codelineno-75-1"></a><span class="nx">parsed</span><span class="p">,</span><span class="w"> </span><span class="nx">_</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">parser</span><span class="p">.</span><span class="nx">ParseWithOptions</span><span class="p">(</span><span class="nx">parser</span><span class="p">.</span><span class="nx">WithFilePath</span><span class="p">(</span><span class="s">&quot;api.yaml&quot;</span><span class="p">))</span>
<a id="__codelineno-75-2" name="__codelineno-75-2" href="#__codelineno-75-2"></a>
<a id="__codelineno-75-3" name="__codelineno-75-3" href="#__codelineno-75-3"></a><span class="c1">// All subsequent operations skip parsing</span>
<a id="__codelineno-75-4" name="__codelineno-75-4" href="#__codelineno-75-4"></a><span class="nx">valResult</span><span class="p">,</span><span class="w"> </span><span class="nx">_</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">validator</span><span class="p">.</span><span class="nx">ValidateWithOptions</span><span class="p">(</span><span class="nx">validator</span><span class="p">.</span><span class="nx">WithParsed</span><span class="p">(</span><span class="o">*</span><span class="nx">parsed</span><span class="p">))</span>
<a id="__codelineno-75-5" name="__codelineno-75-5" href="#__codelineno-75-5"></a><span class="nx">fixResult</span><span class="p">,</span><span class="w"> </span><span class="nx">_</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">fixer</span><span class="p">.</span><span class="nx">FixWithOptions</span><span class="p">(</span><span class="nx">fixer</span><span class="p">.</span><span class="nx">WithParsed</span><span class="p">(</span><span class="o">*</span><span class="nx">parsed</span><span class="p">))</span>
<a id="__codelineno-75-6" name="__codelineno-75-6" href="#__codelineno-75-6"></a><span class="nx">genResult</span><span class="p">,</span><span class="w"> </span><span class="nx">_</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">generator</span><span class="p">.</span><span class="nx">GenerateWithOptions</span><span class="p">(</span>
<a id="__codelineno-75-7" name="__codelineno-75-7" href="#__codelineno-75-7"></a><span class="w">    </span><span class="nx">generator</span><span class="p">.</span><span class="nx">WithParsed</span><span class="p">(</span><span class="o">*</span><span class="nx">parsed</span><span class="p">),</span>
<a id="__codelineno-75-8" name="__codelineno-75-8" href="#__codelineno-75-8"></a><span class="w">    </span><span class="nx">generator</span><span class="p">.</span><span class="nx">WithClient</span><span class="p">(</span><span class="kc">true</span><span class="p">),</span>
<a id="__codelineno-75-9" name="__codelineno-75-9" href="#__codelineno-75-9"></a><span class="p">)</span>
</code></pre></div>
<h3 id="204-error-handling-pattern">20.4 Error Handling Pattern</h3>
<p>Consistent error handling across all packages using <a href="#16-error-handling-with-oaserrors">oaserrors</a>.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-76-1" name="__codelineno-76-1" href="#__codelineno-76-1"></a><span class="nx">result</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">someOperation</span><span class="p">()</span>
<a id="__codelineno-76-2" name="__codelineno-76-2" href="#__codelineno-76-2"></a><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-76-3" name="__codelineno-76-3" href="#__codelineno-76-3"></a><span class="w">    </span><span class="c1">// Check category with errors.Is</span>
<a id="__codelineno-76-4" name="__codelineno-76-4" href="#__codelineno-76-4"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="nx">errors</span><span class="p">.</span><span class="nx">Is</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span><span class="w"> </span><span class="nx">oaserrors</span><span class="p">.</span><span class="nx">ErrParse</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-76-5" name="__codelineno-76-5" href="#__codelineno-76-5"></a><span class="w">        </span><span class="c1">// Handle parse error</span>
<a id="__codelineno-76-6" name="__codelineno-76-6" href="#__codelineno-76-6"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-76-7" name="__codelineno-76-7" href="#__codelineno-76-7"></a>
<a id="__codelineno-76-8" name="__codelineno-76-8" href="#__codelineno-76-8"></a><span class="w">    </span><span class="c1">// Extract details with errors.As</span>
<a id="__codelineno-76-9" name="__codelineno-76-9" href="#__codelineno-76-9"></a><span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="nx">refErr</span><span class="w"> </span><span class="o">*</span><span class="nx">oaserrors</span><span class="p">.</span><span class="nx">ReferenceError</span>
<a id="__codelineno-76-10" name="__codelineno-76-10" href="#__codelineno-76-10"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="nx">errors</span><span class="p">.</span><span class="nx">As</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="nx">refErr</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-76-11" name="__codelineno-76-11" href="#__codelineno-76-11"></a><span class="w">        </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Printf</span><span class="p">(</span><span class="s">&quot;Failed ref: %s\n&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">refErr</span><span class="p">.</span><span class="nx">Ref</span><span class="p">)</span>
<a id="__codelineno-76-12" name="__codelineno-76-12" href="#__codelineno-76-12"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-76-13" name="__codelineno-76-13" href="#__codelineno-76-13"></a>
<a id="__codelineno-76-14" name="__codelineno-76-14" href="#__codelineno-76-14"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">err</span>
<a id="__codelineno-76-15" name="__codelineno-76-15" href="#__codelineno-76-15"></a><span class="p">}</span>
</code></pre></div>
<hr />
<h2 id="21-security-considerations">21. Security Considerations</h2>
<p>oastools incorporates several security measures to protect against common vulnerabilities.</p>
<h3 id="211-path-traversal-protection">21.1 Path Traversal Protection</h3>
<p>External file references are validated to prevent path traversal attacks.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-77-1" name="__codelineno-77-1" href="#__codelineno-77-1"></a><span class="nx">resolver</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">parser</span><span class="p">.</span><span class="nx">NewRefResolver</span><span class="p">(</span><span class="s">&quot;/base/path&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span>
<a id="__codelineno-77-2" name="__codelineno-77-2" href="#__codelineno-77-2"></a><span class="c1">// Attempting to resolve &quot;../../../etc/passwd&quot; will fail with ErrPathTraversal</span>
</code></pre></div>
<p>The resolver ensures resolved paths remain within the allowed base directory, even on Windows with path variations.</p>
<h3 id="212-http-reference-control">21.2 HTTP Reference Control</h3>
<p>Remote URL resolution is disabled by default and requires explicit opt-in.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-78-1" name="__codelineno-78-1" href="#__codelineno-78-1"></a><span class="nx">result</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">parser</span><span class="p">.</span><span class="nx">ParseWithOptions</span><span class="p">(</span>
<a id="__codelineno-78-2" name="__codelineno-78-2" href="#__codelineno-78-2"></a><span class="w">    </span><span class="nx">parser</span><span class="p">.</span><span class="nx">WithFilePath</span><span class="p">(</span><span class="s">&quot;api.yaml&quot;</span><span class="p">),</span>
<a id="__codelineno-78-3" name="__codelineno-78-3" href="#__codelineno-78-3"></a><span class="w">    </span><span class="nx">parser</span><span class="p">.</span><span class="nx">WithResolveHTTPRefs</span><span class="p">(</span><span class="kc">true</span><span class="p">),</span><span class="w">  </span><span class="c1">// Explicit opt-in required</span>
<a id="__codelineno-78-4" name="__codelineno-78-4" href="#__codelineno-78-4"></a><span class="p">)</span>
</code></pre></div>
<h3 id="213-resource-limits">21.3 Resource Limits</h3>
<p>Configurable limits prevent resource exhaustion.</p>
<table>
<thead>
<tr>
<th>Limit</th>
<th>Default</th>
<th>Purpose</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>MaxRefDepth</code></td>
<td>100</td>
<td>Prevents stack overflow from deep/circular refs</td>
</tr>
<tr>
<td><code>MaxCachedDocuments</code></td>
<td>100</td>
<td>Limits memory usage for external docs</td>
</tr>
<tr>
<td><code>MaxFileSize</code></td>
<td>10 MB</td>
<td>Prevents memory exhaustion from large files</td>
</tr>
</tbody>
</table>
<h3 id="214-pkce-for-oauth2">21.4 PKCE for OAuth2</h3>
<p>Generated OAuth2 code uses <a href="https://datatracker.ietf.org/doc/html/rfc7636">PKCE (RFC 7636)</a> for authorization code flows, preventing authorization code interception attacks.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-79-1" name="__codelineno-79-1" href="#__codelineno-79-1"></a><span class="c1">// Generated code includes PKCE support</span>
<a id="__codelineno-79-2" name="__codelineno-79-2" href="#__codelineno-79-2"></a><span class="nx">verifier</span><span class="p">,</span><span class="w"> </span><span class="nx">challenge</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">GeneratePKCE</span><span class="p">()</span>
<a id="__codelineno-79-3" name="__codelineno-79-3" href="#__codelineno-79-3"></a><span class="nx">authURL</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">oauth2Client</span><span class="p">.</span><span class="nx">GetAuthorizationURLWithPKCE</span><span class="p">(</span><span class="nx">state</span><span class="p">,</span><span class="w"> </span><span class="nx">challenge</span><span class="p">)</span>
</code></pre></div>
<h3 id="215-credential-management">21.5 Credential Management</h3>
<p>Generated credential management systems avoid hardcoding secrets.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-80-1" name="__codelineno-80-1" href="#__codelineno-80-1"></a><span class="c1">// Credential chain allows secure secret retrieval</span>
<a id="__codelineno-80-2" name="__codelineno-80-2" href="#__codelineno-80-2"></a><span class="nx">provider</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">NewCredentialChain</span><span class="p">(</span>
<a id="__codelineno-80-3" name="__codelineno-80-3" href="#__codelineno-80-3"></a><span class="w">    </span><span class="nx">NewEnvCredentialProvider</span><span class="p">(</span><span class="s">&quot;API_KEY&quot;</span><span class="p">),</span>
<a id="__codelineno-80-4" name="__codelineno-80-4" href="#__codelineno-80-4"></a><span class="w">    </span><span class="nx">NewVaultCredentialProvider</span><span class="p">(</span><span class="nx">vaultClient</span><span class="p">),</span>
<a id="__codelineno-80-5" name="__codelineno-80-5" href="#__codelineno-80-5"></a><span class="p">)</span>
</code></pre></div>
<h3 id="216-security-hardening-v1520">21.6 Security Hardening (v1.52.0)</h3>
<p>Version 1.52.0 introduced a comprehensive security audit addressing 7 High and 19 Medium severity findings across five attack surfaces.</p>
<p><strong>MCP Server:</strong></p>
<ul>
<li>Output path sanitization with <code>filepath.Clean</code>, <code>..</code> traversal rejection, and symlink checks</li>
<li>SSRF protection blocking private, loopback, and link-local IP addresses (opt-out via <code>OASTOOLS_ALLOW_PRIVATE_IPS</code>)</li>
<li>Input size bounds (10 MiB inline content limit)</li>
<li>Pagination safety (limit capped at 1000)</li>
<li>Error sanitization stripping filesystem paths from error messages</li>
</ul>
<p><strong>Parser &amp; Resolver:</strong></p>
<ul>
<li>Input size limit of 100 MiB (configurable via parser option)</li>
<li>HTTP fetch response size wrapped with <code>io.LimitReader</code></li>
<li>Redirect safety with custom <code>CheckRedirect</code> validation</li>
<li>Same-origin enforcement for relative reference resolution</li>
</ul>
<p><strong>HTTP Validator:</strong></p>
<ul>
<li>Body size limits (10 MiB default, configurable via <code>WithMaxBodySize()</code>)</li>
<li>Concurrent pattern cache replaced with <code>sync.Map</code> and 1000-entry size cap</li>
<li><code>additionalProperties: false</code> enforcement for unexpected properties</li>
<li>Error sanitization using <code>%q</code> formatting and 200-character truncation for user-supplied values</li>
</ul>
<p><strong>Generator:</strong></p>
<ul>
<li>Path traversal prevention with <code>[a-z0-9_]</code> allowlist and <code>filepath.Base</code> safety</li>
<li>Comment injection prevention through <code>cleanDescription</code> sanitization</li>
<li>Generated clients default to <code>&amp;http.Client{Timeout: 30 * time.Second}</code></li>
<li>OAuth2/OIDC URL scheme validation in generated code</li>
<li>Discriminator JSON name escaping</li>
</ul>
<p><strong>Cross-Cutting:</strong></p>
<ul>
<li>Symlink safety via <code>os.Lstat</code> checks before file writes</li>
<li>JSONPath recursion depth cap at 500</li>
<li>Stdlib replacement sweep for hand-rolled form parsing</li>
<li>Dependency update: <code>go-sdk</code> v1.3.0 ‚Üí v1.3.1 (case-sensitive JSON unmarshaling security patch)</li>
</ul>
<hr />
<h2 id="22-conclusion">22. Conclusion</h2>
<p>oastools represents a comprehensive solution for OpenAPI tooling in the Go ecosystem. Its strengths lie in several key areas.</p>
<p><strong>Complete OAS Coverage:</strong> Supporting versions <a href="https://spec.openapis.org/oas/v2.0.html">2.0</a> through <a href="https://spec.openapis.org/oas/v3.2.0.html">3.2.0</a> ensures compatibility with both legacy and cutting-edge specifications, including the latest <a href="https://json-schema.org/draft/2020-12/json-schema-core.html">JSON Schema 2020-12</a> alignment and streaming capabilities.</p>
<p><strong>Native Overlay Support:</strong> First-class implementation of the <a href="https://spec.openapis.org/overlay/v1.0.0.html">OpenAPI Overlay Specification v1.0.0</a> enables declarative transformations that integrate throughout the toolkit.</p>
<p><strong>Performance Optimization:</strong> The parse-once pattern, code-generated deep copy methods, JSON fast-path, and streaming extension extraction deliver 9-150x speedups for common workflows with up to 93% memory reduction for large JSON specifications.</p>
<p><strong>Security-First Design:</strong> Comprehensive <a href="https://datatracker.ietf.org/doc/html/rfc6749">OAuth2</a>, <a href="https://datatracker.ietf.org/doc/html/rfc7636">PKCE</a>, and OIDC support in generated clients, combined with v1.52.0 security hardening across the MCP server, parser, validator, and generator, addresses both code generation security and runtime protection.</p>
<p><strong>AI-Assisted Development:</strong> The built-in <a href="#15-mcp-server">MCP server</a> exposes all 17 tools over the <a href="https://modelcontextprotocol.io/">Model Context Protocol</a>, enabling AI development environments to query, validate, transform, and generate code from OpenAPI specifications with configurable caching and pagination.</p>
<p><strong>Minimal Dependencies:</strong> Only <code>go.yaml.in/yaml/v4</code>, <code>golang.org/x/text</code>, <code>golang.org/x/tools</code>, and <code>github.com/modelcontextprotocol/go-sdk</code> are required, minimizing attack surface and build complexity.</p>
<p><strong>Battle-Tested Quality:</strong> Validation against ten production APIs from Microsoft Graph to Petstore ensures real-world reliability across 19,000+ operations and 10,000+ schemas.</p>
<p>The modular architecture allows teams to adopt individual packages as needed while benefiting from seamless integration when using multiple components together. Whether parsing a simple specification, querying API structure with the walk command, validating runtime HTTP traffic, integrating with AI tools via MCP, or generating complete client/server implementations with security, oastools provides the foundation for robust API development in Go.</p>
<hr />
<h2 id="23-references">23. References</h2>
<h3 id="openapi-initiative-specifications">OpenAPI Initiative Specifications</h3>
<ol>
<li>
<p><strong>OpenAPI Specification v2.0.</strong> OpenAPI Initiative. <a href="https://spec.openapis.org/oas/v2.0.html">https://spec.openapis.org/oas/v2.0.html</a></p>
</li>
<li>
<p><strong>OpenAPI Specification v3.0.0.</strong> OpenAPI Initiative. <a href="https://spec.openapis.org/oas/v3.0.0.html">https://spec.openapis.org/oas/v3.0.0.html</a></p>
</li>
<li>
<p><strong>OpenAPI Specification v3.0.3.</strong> OpenAPI Initiative. <a href="https://spec.openapis.org/oas/v3.0.3.html">https://spec.openapis.org/oas/v3.0.3.html</a></p>
</li>
<li>
<p><strong>OpenAPI Specification v3.0.4.</strong> OpenAPI Initiative. <a href="https://spec.openapis.org/oas/v3.0.4.html">https://spec.openapis.org/oas/v3.0.4.html</a></p>
</li>
<li>
<p><strong>OpenAPI Specification v3.1.0.</strong> OpenAPI Initiative. <a href="https://spec.openapis.org/oas/v3.1.0.html">https://spec.openapis.org/oas/v3.1.0.html</a></p>
</li>
<li>
<p><strong>OpenAPI Specification v3.1.2.</strong> OpenAPI Initiative. <a href="https://spec.openapis.org/oas/v3.1.2.html">https://spec.openapis.org/oas/v3.1.2.html</a></p>
</li>
<li>
<p><strong>OpenAPI Specification v3.2.0.</strong> OpenAPI Initiative. <a href="https://spec.openapis.org/oas/v3.2.0.html">https://spec.openapis.org/oas/v3.2.0.html</a></p>
</li>
<li>
<p><strong>OpenAPI Overlay Specification v1.0.0.</strong> OpenAPI Initiative. <a href="https://spec.openapis.org/overlay/v1.0.0.html">https://spec.openapis.org/overlay/v1.0.0.html</a></p>
</li>
</ol>
<h3 id="json-schema">JSON Schema</h3>
<ol>
<li><strong>JSON Schema: A Media Type for Describing JSON Documents (Draft 2020-12).</strong> <a href="https://json-schema.org/draft/2020-12/json-schema-core.html">https://json-schema.org/draft/2020-12/json-schema-core.html</a></li>
</ol>
<h3 id="ietf-rfcs">IETF RFCs</h3>
<ol>
<li>
<p><strong>RFC 9535: JSONPath: Query Expressions for JSON.</strong> IETF. <a href="https://datatracker.ietf.org/doc/html/rfc9535">https://datatracker.ietf.org/doc/html/rfc9535</a></p>
</li>
<li>
<p><strong>RFC 7636: Proof Key for Code Exchange (PKCE).</strong> IETF. <a href="https://datatracker.ietf.org/doc/html/rfc7636">https://datatracker.ietf.org/doc/html/rfc7636</a></p>
</li>
<li>
<p><strong>RFC 6749: The OAuth 2.0 Authorization Framework.</strong> IETF. <a href="https://datatracker.ietf.org/doc/html/rfc6749">https://datatracker.ietf.org/doc/html/rfc6749</a></p>
</li>
<li>
<p><strong>RFC 3986: Uniform Resource Identifier (URI): Generic Syntax.</strong> IETF. <a href="https://datatracker.ietf.org/doc/html/rfc3986">https://datatracker.ietf.org/doc/html/rfc3986</a></p>
</li>
<li>
<p><strong>RFC 6570: URI Template.</strong> IETF. <a href="https://datatracker.ietf.org/doc/html/rfc6570">https://datatracker.ietf.org/doc/html/rfc6570</a></p>
</li>
</ol>
<h3 id="go-language">Go Language</h3>
<ol>
<li>
<p><strong>The Go Programming Language Specification.</strong> <a href="https://go.dev/ref/spec">https://go.dev/ref/spec</a></p>
</li>
<li>
<p><strong>Go 1.24 Release Notes.</strong> <a href="https://go.dev/doc/go1.24">https://go.dev/doc/go1.24</a></p>
</li>
</ol>
<h3 id="oastools-documentation">oastools Documentation</h3>
<ol>
<li>
<p><strong>oastools GitHub Repository.</strong> <a href="https://github.com/erraggy/oastools">https://github.com/erraggy/oastools</a></p>
</li>
<li>
<p><strong>oastools API Documentation.</strong> <a href="https://pkg.go.dev/github.com/erraggy/oastools">https://pkg.go.dev/github.com/erraggy/oastools</a></p>
</li>
<li>
<p><strong>oastools GitHub Pages.</strong> <a href="https://erraggy.github.io/oastools/">https://erraggy.github.io/oastools/</a></p>
</li>
</ol>
<h3 id="package-documentation">Package Documentation</h3>
<table>
<thead>
<tr>
<th>Package</th>
<th>pkg.go.dev</th>
<th>Deep Dive</th>
</tr>
</thead>
<tbody>
<tr>
<td>parser</td>
<td><a href="https://pkg.go.dev/github.com/erraggy/oastools/parser">pkg.go.dev</a></td>
<td><a href="../packages/parser/">Deep Dive</a></td>
</tr>
<tr>
<td>validator</td>
<td><a href="https://pkg.go.dev/github.com/erraggy/oastools/validator">pkg.go.dev</a></td>
<td><a href="../packages/validator/">Deep Dive</a></td>
</tr>
<tr>
<td>fixer</td>
<td><a href="https://pkg.go.dev/github.com/erraggy/oastools/fixer">pkg.go.dev</a></td>
<td><a href="../packages/fixer/">Deep Dive</a></td>
</tr>
<tr>
<td>converter</td>
<td><a href="https://pkg.go.dev/github.com/erraggy/oastools/converter">pkg.go.dev</a></td>
<td><a href="../packages/converter/">Deep Dive</a></td>
</tr>
<tr>
<td>joiner</td>
<td><a href="https://pkg.go.dev/github.com/erraggy/oastools/joiner">pkg.go.dev</a></td>
<td><a href="../packages/joiner/">Deep Dive</a></td>
</tr>
<tr>
<td>overlay</td>
<td><a href="https://pkg.go.dev/github.com/erraggy/oastools/overlay">pkg.go.dev</a></td>
<td><a href="../packages/overlay/">Deep Dive</a></td>
</tr>
<tr>
<td>differ</td>
<td><a href="https://pkg.go.dev/github.com/erraggy/oastools/differ">pkg.go.dev</a></td>
<td><a href="../packages/differ/">Deep Dive</a></td>
</tr>
<tr>
<td>generator</td>
<td><a href="https://pkg.go.dev/github.com/erraggy/oastools/generator">pkg.go.dev</a></td>
<td><a href="../packages/generator/">Deep Dive</a></td>
</tr>
<tr>
<td>builder</td>
<td><a href="https://pkg.go.dev/github.com/erraggy/oastools/builder">pkg.go.dev</a></td>
<td><a href="../packages/builder/">Deep Dive</a></td>
</tr>
<tr>
<td>httpvalidator</td>
<td><a href="https://pkg.go.dev/github.com/erraggy/oastools/httpvalidator">pkg.go.dev</a></td>
<td><a href="../packages/httpvalidator/">Deep Dive</a></td>
</tr>
<tr>
<td>walker</td>
<td><a href="https://pkg.go.dev/github.com/erraggy/oastools/walker">pkg.go.dev</a></td>
<td><a href="../packages/walker/">Deep Dive</a></td>
</tr>
<tr>
<td>oaserrors</td>
<td><a href="https://pkg.go.dev/github.com/erraggy/oastools/oaserrors">pkg.go.dev</a></td>
<td>‚Äî</td>
</tr>
</tbody>
</table>
<h3 id="model-context-protocol">Model Context Protocol</h3>
<ol>
<li>
<p><strong>Model Context Protocol Specification.</strong> <a href="https://modelcontextprotocol.io/">https://modelcontextprotocol.io/</a></p>
</li>
<li>
<p><strong>Go MCP SDK.</strong> <a href="https://github.com/modelcontextprotocol/go-sdk">https://github.com/modelcontextprotocol/go-sdk</a></p>
</li>
</ol>
<hr />
<p><em>For the latest features, updates, and documentation, visit the <a href="https://github.com/erraggy/oastools">GitHub repository</a> or the <a href="https://erraggy.github.io/oastools/">documentation site</a>.</em></p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "..", "features": ["navigation.instant", "navigation.tracking", "navigation.sections", "navigation.expand", "navigation.top", "toc.follow", "content.code.copy"], "search": "../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
<script>
// Clear stale repository facts cache (TTL: 1 hour)
// MkDocs Material caches GitHub repo stats in sessionStorage indefinitely.
// This override adds TTL expiration so users see updated release versions.
(function() {
  var TTL_MS = 60 * 60 * 1000; // 1 hour
  var scope = new URL("..", location);
  var key = scope.pathname + ".__source";
  var ttlKey = key + "_ts";

  var timestamp = sessionStorage.getItem(ttlKey);
  if (timestamp && (Date.now() - parseInt(timestamp, 10)) > TTL_MS) {
    sessionStorage.removeItem(key);
    sessionStorage.removeItem(ttlKey);
  }

  // Patch __md_set to track timestamps for __source
  var originalSet = window.__md_set;
  if (originalSet) {
    window.__md_set = function(k, v, storage, s) {
      originalSet(k, v, storage, s);
      if (k === "__source" && storage === sessionStorage) {
        sessionStorage.setItem(ttlKey, Date.now().toString());
      }
    };
  }
})();

</script>

      <script src="../assets/javascripts/bundle.79ae519e.min.js"></script>
      
    
<script>
// Open external links in new tabs ‚Äî compatible with navigation.instant
document$.subscribe(function() {
  var host = location.hostname;
  document.querySelectorAll("a[href]").forEach(function(a) {
    try {
      var url = new URL(a.href);
      if (url.hostname && url.hostname !== host) {
        a.setAttribute("target", "_blank");
        a.setAttribute("rel", "noopener noreferrer");
      }
    } catch(e) {}
  });
});
</script>

  </body>
</html>